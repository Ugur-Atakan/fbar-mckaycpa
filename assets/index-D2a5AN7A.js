function bA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function VA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qy={exports:{}},gf={},Jy={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),BA=Symbol.for("react.portal"),UA=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),WA=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),$A=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),GA=Symbol.for("react.suspense"),KA=Symbol.for("react.memo"),qA=Symbol.for("react.lazy"),T1=Symbol.iterator;function XA(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var Zy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ex=Object.assign,tx={};function Ro(t,e,r){this.props=t,this.context=e,this.refs=tx,this.updater=r||Zy}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rx(){}rx.prototype=Ro.prototype;function Dp(t,e,r){this.props=t,this.context=e,this.refs=tx,this.updater=r||Zy}var Lp=Dp.prototype=new rx;Lp.constructor=Dp;ex(Lp,Ro.prototype);Lp.isPureReactComponent=!0;var S1=Array.isArray,nx=Object.prototype.hasOwnProperty,Mp={current:null},ix={key:!0,ref:!0,__self:!0,__source:!0};function sx(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)nx.call(e,n)&&!ix.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Tu,type:t,key:s,ref:a,props:i,_owner:Mp.current}}function YA(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function QA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var A1=/\/+/g;function g0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QA(""+t.key):e.toString(36)}function zc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tu:case BA:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+g0(a,0):n,S1(i)?(r="",t!=null&&(r=t.replace(A1,"$&/")+"/"),zc(i,e,r,"",function(c){return c})):i!=null&&(bp(i)&&(i=YA(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",S1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+g0(s,o);a+=zc(s,e,r,l,i)}else if(l=XA(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+g0(s,o++),a+=zc(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dc(t,e,r){if(t==null)return t;var n=[],i=0;return zc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function JA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sr={current:null},$c={transition:null},ZA={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:$c,ReactCurrentOwner:Mp};function ax(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:dc,forEach:function(t,e,r){dc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Ro;be.Fragment=UA;be.Profiler=WA;be.PureComponent=Dp;be.StrictMode=jA;be.Suspense=GA;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;be.act=ax;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ex({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Mp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)nx.call(e,l)&&!ix.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Tu,type:t.type,key:i,ref:s,props:n,_owner:a}};be.createContext=function(t){return t={$$typeof:$A,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zA,_context:t},t.Consumer=t};be.createElement=sx;be.createFactory=function(t){var e=sx.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:HA,render:t}};be.isValidElement=bp;be.lazy=function(t){return{$$typeof:qA,_payload:{_status:-1,_result:t},_init:JA}};be.memo=function(t,e){return{$$typeof:KA,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=$c.transition;$c.transition={};try{t()}finally{$c.transition=e}};be.unstable_act=ax;be.useCallback=function(t,e){return Sr.current.useCallback(t,e)};be.useContext=function(t){return Sr.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Sr.current.useDeferredValue(t)};be.useEffect=function(t,e){return Sr.current.useEffect(t,e)};be.useId=function(){return Sr.current.useId()};be.useImperativeHandle=function(t,e,r){return Sr.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return Sr.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Sr.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Sr.current.useMemo(t,e)};be.useReducer=function(t,e,r){return Sr.current.useReducer(t,e,r)};be.useRef=function(t){return Sr.current.useRef(t)};be.useState=function(t){return Sr.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return Sr.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return Sr.current.useTransition()};be.version="18.3.1";Jy.exports=be;var ie=Jy.exports;const eI=VA(ie),tI=bA({__proto__:null,default:eI},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=ie,nI=Symbol.for("react.element"),iI=Symbol.for("react.fragment"),sI=Object.prototype.hasOwnProperty,aI=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oI={key:!0,ref:!0,__self:!0,__source:!0};function ox(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)sI.call(e,n)&&!oI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:nI,type:t,key:s,ref:a,props:i,_owner:aI.current}}gf.Fragment=iI;gf.jsx=ox;gf.jsxs=ox;Qy.exports=gf;var R=Qy.exports,lx={exports:{}},Qr={},ux={exports:{}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,ue){var oe=te.length;te.push(ue);e:for(;0<oe;){var ke=oe-1>>>1,N=te[ke];if(0<i(N,ue))te[ke]=ue,te[oe]=N,oe=ke;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var ue=te[0],oe=te.pop();if(oe!==ue){te[0]=oe;e:for(var ke=0,N=te.length,j=N>>>1;ke<j;){var U=2*(ke+1)-1,W=te[U],Z=U+1,pe=te[Z];if(0>i(W,oe))Z<N&&0>i(pe,W)?(te[ke]=pe,te[Z]=oe,ke=Z):(te[ke]=W,te[U]=oe,ke=U);else if(Z<N&&0>i(pe,oe))te[ke]=pe,te[Z]=oe,ke=Z;else break e}}return ue}function i(te,ue){var oe=te.sortIndex-ue.sortIndex;return oe!==0?oe:te.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,m=!1,_=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(te){for(var ue=r(c);ue!==null;){if(ue.callback===null)n(c);else if(ue.startTime<=te)n(c),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=r(c)}}function M(te){if(g=!1,T(te),!_)if(r(l)!==null)_=!0,We(z);else{var ue=r(c);ue!==null&&he(M,ue.startTime-te)}}function z(te,ue){_=!1,g&&(g=!1,S(E),E=-1),m=!0;var oe=d;try{for(T(ue),f=r(l);f!==null&&(!(f.expirationTime>ue)||te&&!O());){var ke=f.callback;if(typeof ke=="function"){f.callback=null,d=f.priorityLevel;var N=ke(f.expirationTime<=ue);ue=t.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),T(ue)}else n(l);f=r(l)}if(f!==null)var j=!0;else{var U=r(c);U!==null&&he(M,U.startTime-ue),j=!1}return j}finally{f=null,d=oe,m=!1}}var G=!1,w=null,E=-1,A=5,C=-1;function O(){return!(t.unstable_now()-C<A)}function V(){if(w!==null){var te=t.unstable_now();C=te;var ue=!0;try{ue=w(!0,te)}finally{ue?F():(G=!1,w=null)}}else G=!1}var F;if(typeof x=="function")F=function(){x(V)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Ce=Ie.port2;Ie.port1.onmessage=V,F=function(){Ce.postMessage(null)}}else F=function(){y(V,0)};function We(te){w=te,G||(G=!0,F())}function he(te,ue){E=y(function(){te(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,We(z))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(te){switch(d){case 1:case 2:case 3:var ue=3;break;default:ue=d}var oe=d;d=ue;try{return te()}finally{d=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,ue){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=d;d=te;try{return ue()}finally{d=oe}},t.unstable_scheduleCallback=function(te,ue,oe){var ke=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ke+oe:ke):oe=ke,te){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=oe+N,te={id:h++,callback:ue,priorityLevel:te,startTime:oe,expirationTime:N,sortIndex:-1},oe>ke?(te.sortIndex=oe,e(c,te),r(l)===null&&te===r(c)&&(g?(S(E),E=-1):g=!0,he(M,oe-ke))):(te.sortIndex=N,e(l,te),_||m||(_=!0,We(z))),te},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(te){var ue=d;return function(){var oe=d;d=ue;try{return te.apply(this,arguments)}finally{d=oe}}}})(cx);ux.exports=cx;var lI=ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI=ie,Xr=lI;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hx=new Set,zl={};function ia(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(zl[t]=e,t=0;t<e.length;t++)hx.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=Object.prototype.hasOwnProperty,cI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I1={},C1={};function hI(t){return ud.call(C1,t)?!0:ud.call(I1,t)?!1:cI.test(t)?C1[t]=!0:(I1[t]=!0,!1)}function fI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dI(t,e,r,n){if(e===null||typeof e>"u"||fI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vp,Bp);ir[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vp,Bp);ir[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vp,Bp);ir[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function Up(t,e,r,n){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dI(e,r,i,n)&&(r=null),n||i===null?hI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _i=uI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),Da=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),fx=Symbol.for("react.provider"),dx=Symbol.for("react.context"),Wp=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),px=Symbol.for("react.offscreen"),R1=Symbol.iterator;function tl(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,v0;function hl(t){if(v0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);v0=e&&e[1]||""}return`
`+v0+t}var _0=!1;function y0(t,e){if(!t||_0)return"";_0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{_0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hl(t):""}function pI(t){switch(t.tag){case 5:return hl(t.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return t=y0(t.type,!1),t;case 11:return t=y0(t.type.render,!1),t;case 1:return t=y0(t.type,!0),t;default:return""}}function dd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case Da:return"Portal";case cd:return"Profiler";case jp:return"StrictMode";case hd:return"Suspense";case fd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dx:return(t.displayName||"Context")+".Consumer";case fx:return(t._context.displayName||"Context")+".Provider";case Wp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zp:return e=t.displayName||null,e!==null?e:dd(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return dd(t(e))}catch{}}return null}function mI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dd(e);case 8:return e===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gI(t){var e=mx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mc(t){t._valueTracker||(t._valueTracker=gI(t))}function gx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=mx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pd(t,e){var r=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function k1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vx(t,e){e=e.checked,e!=null&&Up(t,"checked",e,!1)}function md(t,e){vx(t,e);var r=os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gd(t,e.type,r):e.hasOwnProperty("defaultValue")&&gd(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function gd(t,e,r){(e!=="number"||ch(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fl=Array.isArray;function Xa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+os(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(fl(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:os(r)}}function _x(t,e){var r=os(e.value),n=os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function F1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,xx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vI=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){vI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function Ex(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function wx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ex(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var _I=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(t,e){if(e){if(_I[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function $p(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wd=null,Ya=null,Qa=null;function O1(t){if(t=Iu(t)){if(typeof wd!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Ef(e),wd(t.stateNode,t.type,e))}}function Tx(t){Ya?Qa?Qa.push(t):Qa=[t]:Ya=t}function Sx(){if(Ya){var t=Ya,e=Qa;if(Qa=Ya=null,O1(t),e)for(t=0;t<e.length;t++)O1(e[t])}}function Ax(t,e){return t(e)}function Ix(){}var x0=!1;function Cx(t,e,r){if(x0)return t(e,r);x0=!0;try{return Ax(t,e,r)}finally{x0=!1,(Ya!==null||Qa!==null)&&(Ix(),Sx())}}function Hl(t,e){var r=t.stateNode;if(r===null)return null;var n=Ef(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var Td=!1;if(li)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Td=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Td=!1}function yI(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var Tl=!1,hh=null,fh=!1,Sd=null,xI={onError:function(t){Tl=!0,hh=t}};function EI(t,e,r,n,i,s,a,o,l){Tl=!1,hh=null,yI.apply(xI,arguments)}function wI(t,e,r,n,i,s,a,o,l){if(EI.apply(this,arguments),Tl){if(Tl){var c=hh;Tl=!1,hh=null}else throw Error(le(198));fh||(fh=!0,Sd=c)}}function sa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Rx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(sa(t)!==t)throw Error(le(188))}function TI(t){var e=t.alternate;if(!e){if(e=sa(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return D1(i),t;if(s===n)return D1(i),e;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function kx(t){return t=TI(t),t!==null?Px(t):null}function Px(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Px(t);if(e!==null)return e;t=t.sibling}return null}var Nx=Xr.unstable_scheduleCallback,L1=Xr.unstable_cancelCallback,SI=Xr.unstable_shouldYield,AI=Xr.unstable_requestPaint,Tt=Xr.unstable_now,II=Xr.unstable_getCurrentPriorityLevel,Hp=Xr.unstable_ImmediatePriority,Fx=Xr.unstable_UserBlockingPriority,dh=Xr.unstable_NormalPriority,CI=Xr.unstable_LowPriority,Ox=Xr.unstable_IdlePriority,vf=null,Ln=null;function RI(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:NI,kI=Math.log,PI=Math.LN2;function NI(t){return t>>>=0,t===0?32:31-(kI(t)/PI|0)|0}var vc=64,_c=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ph(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=dl(o):(s&=a,s!==0&&(n=dl(s)))}else a=r&~i,a!==0?n=dl(a):s!==0&&(n=dl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wn(e),i=1<<r,n|=t[r],e&=~i;return n}function FI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-wn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=FI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dx(){var t=vc;return vc<<=1,!(vc&4194240)&&(vc=64),t}function E0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Su(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=r}function DI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-wn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Gp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function Lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mx,Kp,bx,Vx,Bx,Id=!1,yc=[],Gi=null,Ki=null,qi=null,Gl=new Map,Kl=new Map,Oi=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M1(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Gl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function nl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Iu(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MI(t,e,r,n,i){switch(e){case"focusin":return Gi=nl(Gi,t,e,r,n,i),!0;case"dragenter":return Ki=nl(Ki,t,e,r,n,i),!0;case"mouseover":return qi=nl(qi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Gl.set(s,nl(Gl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Kl.set(s,nl(Kl.get(s)||null,t,e,r,n,i)),!0}return!1}function Ux(t){var e=Ls(t.target);if(e!==null){var r=sa(e);if(r!==null){if(e=r.tag,e===13){if(e=Rx(r),e!==null){t.blockedOn=e,Bx(t.priority,function(){bx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ed=n,r.target.dispatchEvent(n),Ed=null}else return e=Iu(r),e!==null&&Kp(e),t.blockedOn=r,!1;e.shift()}return!0}function b1(t,e,r){Hc(t)&&r.delete(e)}function bI(){Id=!1,Gi!==null&&Hc(Gi)&&(Gi=null),Ki!==null&&Hc(Ki)&&(Ki=null),qi!==null&&Hc(qi)&&(qi=null),Gl.forEach(b1),Kl.forEach(b1)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,Id||(Id=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,bI)))}function ql(t){function e(i){return il(i,t)}if(0<yc.length){il(yc[0],t);for(var r=1;r<yc.length;r++){var n=yc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Gi!==null&&il(Gi,t),Ki!==null&&il(Ki,t),qi!==null&&il(qi,t),Gl.forEach(e),Kl.forEach(e),r=0;r<Oi.length;r++)n=Oi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Oi.length&&(r=Oi[0],r.blockedOn===null);)Ux(r),r.blockedOn===null&&Oi.shift()}var Ja=_i.ReactCurrentBatchConfig,mh=!0;function VI(t,e,r,n){var i=Ze,s=Ja.transition;Ja.transition=null;try{Ze=1,qp(t,e,r,n)}finally{Ze=i,Ja.transition=s}}function BI(t,e,r,n){var i=Ze,s=Ja.transition;Ja.transition=null;try{Ze=4,qp(t,e,r,n)}finally{Ze=i,Ja.transition=s}}function qp(t,e,r,n){if(mh){var i=Cd(t,e,r,n);if(i===null)N0(t,e,n,gh,r),M1(t,n);else if(MI(i,t,e,r,n))n.stopPropagation();else if(M1(t,n),e&4&&-1<LI.indexOf(t)){for(;i!==null;){var s=Iu(i);if(s!==null&&Mx(s),s=Cd(t,e,r,n),s===null&&N0(t,e,n,gh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else N0(t,e,n,null,r)}}var gh=null;function Cd(t,e,r,n){if(gh=null,t=$p(n),t=Ls(t),t!==null)if(e=sa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Rx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function jx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(II()){case Hp:return 1;case Fx:return 4;case dh:case CI:return 16;case Ox:return 536870912;default:return 16}default:return 16}}var Bi=null,Xp=null,Gc=null;function Wx(){if(Gc)return Gc;var t,e=Xp,r=e.length,n,i="value"in Bi?Bi.value:Bi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Gc=i.slice(t,1<n?1-n:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function V1(){return!1}function Jr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:V1,this.isPropagationStopped=V1,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=Jr(ko),Au=gt({},ko,{view:0,detail:0}),UI=Jr(Au),w0,T0,sl,_f=gt({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(w0=t.screenX-sl.screenX,T0=t.screenY-sl.screenY):T0=w0=0,sl=t),w0)},movementY:function(t){return"movementY"in t?t.movementY:T0}}),B1=Jr(_f),jI=gt({},_f,{dataTransfer:0}),WI=Jr(jI),zI=gt({},Au,{relatedTarget:0}),S0=Jr(zI),$I=gt({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),HI=Jr($I),GI=gt({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KI=Jr(GI),qI=gt({},ko,{data:0}),U1=Jr(qI),XI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QI[t])?!!e[t]:!1}function Qp(){return JI}var ZI=gt({},Au,{key:function(t){if(t.key){var e=XI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eC=Jr(ZI),tC=gt({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=Jr(tC),rC=gt({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),nC=Jr(rC),iC=gt({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=Jr(iC),aC=gt({},_f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oC=Jr(aC),lC=[9,13,27,32],Jp=li&&"CompositionEvent"in window,Sl=null;li&&"documentMode"in document&&(Sl=document.documentMode);var uC=li&&"TextEvent"in window&&!Sl,zx=li&&(!Jp||Sl&&8<Sl&&11>=Sl),W1=" ",z1=!1;function $x(t,e){switch(t){case"keyup":return lC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function cC(t,e){switch(t){case"compositionend":return Hx(e);case"keypress":return e.which!==32?null:(z1=!0,W1);case"textInput":return t=e.data,t===W1&&z1?null:t;default:return null}}function hC(t,e){if(Ma)return t==="compositionend"||!Jp&&$x(t,e)?(t=Wx(),Gc=Xp=Bi=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fC[t.type]:e==="textarea"}function Gx(t,e,r,n){Tx(n),e=vh(e,"onChange"),0<e.length&&(r=new Yp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Al=null,Xl=null;function dC(t){nE(t,0)}function yf(t){var e=Ba(t);if(gx(e))return t}function pC(t,e){if(t==="change")return e}var Kx=!1;if(li){var A0;if(li){var I0="oninput"in document;if(!I0){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),I0=typeof H1.oninput=="function"}A0=I0}else A0=!1;Kx=A0&&(!document.documentMode||9<document.documentMode)}function G1(){Al&&(Al.detachEvent("onpropertychange",qx),Xl=Al=null)}function qx(t){if(t.propertyName==="value"&&yf(Xl)){var e=[];Gx(e,Xl,t,$p(t)),Cx(dC,e)}}function mC(t,e,r){t==="focusin"?(G1(),Al=e,Xl=r,Al.attachEvent("onpropertychange",qx)):t==="focusout"&&G1()}function gC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yf(Xl)}function vC(t,e){if(t==="click")return yf(e)}function _C(t,e){if(t==="input"||t==="change")return yf(e)}function yC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:yC;function Yl(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ud.call(e,i)||!In(t[i],e[i]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q1(t,e){var r=K1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K1(r)}}function Xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yx(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ch(t.document)}return e}function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xC(t){var e=Yx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Xx(r.ownerDocument.documentElement,r)){if(n!==null&&Zp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=q1(r,s);var a=q1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EC=li&&"documentMode"in document&&11>=document.documentMode,ba=null,Rd=null,Il=null,kd=!1;function X1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kd||ba==null||ba!==ch(n)||(n=ba,"selectionStart"in n&&Zp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Il&&Yl(Il,n)||(Il=n,n=vh(Rd,"onSelect"),0<n.length&&(e=new Yp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ba)))}function Ec(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Va={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},C0={},Qx={};li&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function xf(t){if(C0[t])return C0[t];if(!Va[t])return t;var e=Va[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qx)return C0[t]=e[r];return t}var Jx=xf("animationend"),Zx=xf("animationiteration"),eE=xf("animationstart"),tE=xf("transitionend"),rE=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(t,e){rE.set(t,e),ia(e,[t])}for(var R0=0;R0<Y1.length;R0++){var k0=Y1[R0],wC=k0.toLowerCase(),TC=k0[0].toUpperCase()+k0.slice(1);ms(wC,"on"+TC)}ms(Jx,"onAnimationEnd");ms(Zx,"onAnimationIteration");ms(eE,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(tE,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Q1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wI(n,e,void 0,t),t.currentTarget=null}function nE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Q1(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Q1(i,o,c),s=l}}}if(fh)throw t=Sd,fh=!1,Sd=null,t}function lt(t,e){var r=e[Dd];r===void 0&&(r=e[Dd]=new Set);var n=t+"__bubble";r.has(n)||(iE(e,t,2,!1),r.add(n))}function P0(t,e,r){var n=0;e&&(n|=4),iE(r,t,n,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[wc]){t[wc]=!0,hx.forEach(function(r){r!=="selectionchange"&&(SC.has(r)||P0(r,!1,t),P0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,P0("selectionchange",!1,e))}}function iE(t,e,r,n){switch(jx(e)){case 1:var i=VI;break;case 4:i=BI;break;default:i=qp}r=i.bind(null,e,r,t),i=void 0,!Td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function N0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ls(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Cx(function(){var c=s,h=$p(r),f=[];e:{var d=rE.get(t);if(d!==void 0){var m=Yp,_=t;switch(t){case"keypress":if(Kc(r)===0)break e;case"keydown":case"keyup":m=eC;break;case"focusin":_="focus",m=S0;break;case"focusout":_="blur",m=S0;break;case"beforeblur":case"afterblur":m=S0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=B1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nC;break;case Jx:case Zx:case eE:m=HI;break;case tE:m=sC;break;case"scroll":m=UI;break;case"wheel":m=oC;break;case"copy":case"cut":case"paste":m=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=j1}var g=(e&4)!==0,y=!g&&t==="scroll",S=g?d!==null?d+"Capture":null:d;g=[];for(var x=c,T;x!==null;){T=x;var M=T.stateNode;if(T.tag===5&&M!==null&&(T=M,S!==null&&(M=Hl(x,S),M!=null&&g.push(Jl(x,M,T)))),y)break;x=x.return}0<g.length&&(d=new m(d,_,null,r,h),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==Ed&&(_=r.relatedTarget||r.fromElement)&&(Ls(_)||_[ui]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=c,_=_?Ls(_):null,_!==null&&(y=sa(_),_!==y||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(g=B1,M="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=j1,M="onPointerLeave",S="onPointerEnter",x="pointer"),y=m==null?d:Ba(m),T=_==null?d:Ba(_),d=new g(M,x+"leave",m,r,h),d.target=y,d.relatedTarget=T,M=null,Ls(h)===c&&(g=new g(S,x+"enter",_,r,h),g.target=T,g.relatedTarget=y,M=g),y=M,m&&_)t:{for(g=m,S=_,x=0,T=g;T;T=Aa(T))x++;for(T=0,M=S;M;M=Aa(M))T++;for(;0<x-T;)g=Aa(g),x--;for(;0<T-x;)S=Aa(S),T--;for(;x--;){if(g===S||S!==null&&g===S.alternate)break t;g=Aa(g),S=Aa(S)}g=null}else g=null;m!==null&&J1(f,d,m,g,!1),_!==null&&y!==null&&J1(f,y,_,g,!0)}}e:{if(d=c?Ba(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var z=pC;else if($1(d))if(Kx)z=_C;else{z=gC;var G=mC}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(z=vC);if(z&&(z=z(t,c))){Gx(f,z,r,h);break e}G&&G(t,d,c),t==="focusout"&&(G=d._wrapperState)&&G.controlled&&d.type==="number"&&gd(d,"number",d.value)}switch(G=c?Ba(c):window,t){case"focusin":($1(G)||G.contentEditable==="true")&&(ba=G,Rd=c,Il=null);break;case"focusout":Il=Rd=ba=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,X1(f,r,h);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":X1(f,r,h)}var w;if(Jp)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ma?$x(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(zx&&r.locale!=="ko"&&(Ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ma&&(w=Wx()):(Bi=h,Xp="value"in Bi?Bi.value:Bi.textContent,Ma=!0)),G=vh(c,E),0<G.length&&(E=new U1(E,t,null,r,h),f.push({event:E,listeners:G}),w?E.data=w:(w=Hx(r),w!==null&&(E.data=w)))),(w=uC?cC(t,r):hC(t,r))&&(c=vh(c,"onBeforeInput"),0<c.length&&(h=new U1("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=w))}nE(f,e)})}function Jl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hl(t,r),s!=null&&n.unshift(Jl(t,s,i)),s=Hl(t,e),s!=null&&n.push(Jl(t,s,i))),t=t.return}return n}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J1(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Hl(r,s),l!=null&&a.unshift(Jl(r,l,o))):i||(l=Hl(r,s),l!=null&&a.push(Jl(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var AC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function Z1(t){return(typeof t=="string"?t:""+t).replace(AC,`
`).replace(IC,"")}function Tc(t,e,r){if(e=Z1(e),Z1(t)!==e&&r)throw Error(le(425))}function _h(){}var Pd=null,Nd=null;function Fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(kC)}:Od;function kC(t){setTimeout(function(){throw t})}function F0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ql(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ql(e)}function Xi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Po,Zl="__reactProps$"+Po,ui="__reactContainer$"+Po,Dd="__reactEvents$"+Po,PC="__reactListeners$"+Po,NC="__reactHandles$"+Po;function Ls(t){var e=t[Dn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ui]||r[Dn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tv(t);t!==null;){if(r=t[Dn])return r;t=tv(t)}return e}t=r,r=t.parentNode}return null}function Iu(t){return t=t[Dn]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Ef(t){return t[Zl]||null}var Ld=[],Ua=-1;function gs(t){return{current:t}}function ct(t){0>Ua||(t.current=Ld[Ua],Ld[Ua]=null,Ua--)}function st(t,e){Ua++,Ld[Ua]=t.current,t.current=e}var ls={},vr=gs(ls),Nr=gs(!1),$s=ls;function co(t,e){var r=t.type.contextTypes;if(!r)return ls;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(t){return t=t.childContextTypes,t!=null}function yh(){ct(Nr),ct(vr)}function rv(t,e,r){if(vr.current!==ls)throw Error(le(168));st(vr,e),st(Nr,r)}function sE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(le(108,mI(t)||"Unknown",i));return gt({},r,n)}function xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,$s=vr.current,st(vr,t),st(Nr,Nr.current),!0}function nv(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=sE(t,e,$s),n.__reactInternalMemoizedMergedChildContext=t,ct(Nr),ct(vr),st(vr,t)):ct(Nr),st(Nr,r)}var Qn=null,wf=!1,O0=!1;function aE(t){Qn===null?Qn=[t]:Qn.push(t)}function FC(t){wf=!0,aE(t)}function vs(){if(!O0&&Qn!==null){O0=!0;var t=0,e=Ze;try{var r=Qn;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Qn=null,wf=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),Nx(Hp,vs),i}finally{Ze=e,O0=!1}}return null}var ja=[],Wa=0,Eh=null,wh=0,sn=[],an=0,Hs=null,Jn=1,Zn="";function Rs(t,e){ja[Wa++]=wh,ja[Wa++]=Eh,Eh=t,wh=e}function oE(t,e,r){sn[an++]=Jn,sn[an++]=Zn,sn[an++]=Hs,Hs=t;var n=Jn;t=Zn;var i=32-wn(n)-1;n&=~(1<<i),r+=1;var s=32-wn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Jn=1<<32-wn(e)+i|r<<i|n,Zn=s+t}else Jn=1<<s|r<<i|n,Zn=t}function em(t){t.return!==null&&(Rs(t,1),oE(t,1,0))}function tm(t){for(;t===Eh;)Eh=ja[--Wa],ja[Wa]=null,wh=ja[--Wa],ja[Wa]=null;for(;t===Hs;)Hs=sn[--an],sn[an]=null,Zn=sn[--an],sn[an]=null,Jn=sn[--an],sn[an]=null}var qr=null,Gr=null,dt=!1,yn=null;function lE(t,e){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function iv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qr=t,Gr=Xi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qr=t,Gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Hs!==null?{id:Jn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,qr=t,Gr=null,!0):!1;default:return!1}}function Md(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bd(t){if(dt){var e=Gr;if(e){var r=e;if(!iv(t,e)){if(Md(t))throw Error(le(418));e=Xi(r.nextSibling);var n=qr;e&&iv(t,e)?lE(n,r):(t.flags=t.flags&-4097|2,dt=!1,qr=t)}}else{if(Md(t))throw Error(le(418));t.flags=t.flags&-4097|2,dt=!1,qr=t}}}function sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qr=t}function Sc(t){if(t!==qr)return!1;if(!dt)return sv(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fd(t.type,t.memoizedProps)),e&&(e=Gr)){if(Md(t))throw uE(),Error(le(418));for(;e;)lE(t,e),e=Xi(e.nextSibling)}if(sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Gr=Xi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Gr=null}}else Gr=qr?Xi(t.stateNode.nextSibling):null;return!0}function uE(){for(var t=Gr;t;)t=Xi(t.nextSibling)}function ho(){Gr=qr=null,dt=!1}function rm(t){yn===null?yn=[t]:yn.push(t)}var OC=_i.ReactCurrentBatchConfig;function al(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function av(t){var e=t._init;return e(t._payload)}function cE(t){function e(S,x){if(t){var T=S.deletions;T===null?(S.deletions=[x],S.flags|=16):T.push(x)}}function r(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function n(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function i(S,x){return S=Zi(S,x),S.index=0,S.sibling=null,S}function s(S,x,T){return S.index=T,t?(T=S.alternate,T!==null?(T=T.index,T<x?(S.flags|=2,x):T):(S.flags|=2,x)):(S.flags|=1048576,x)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function o(S,x,T,M){return x===null||x.tag!==6?(x=U0(T,S.mode,M),x.return=S,x):(x=i(x,T),x.return=S,x)}function l(S,x,T,M){var z=T.type;return z===La?h(S,x,T.props.children,M,T.key):x!==null&&(x.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ni&&av(z)===x.type)?(M=i(x,T.props),M.ref=al(S,x,T),M.return=S,M):(M=eh(T.type,T.key,T.props,null,S.mode,M),M.ref=al(S,x,T),M.return=S,M)}function c(S,x,T,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=j0(T,S.mode,M),x.return=S,x):(x=i(x,T.children||[]),x.return=S,x)}function h(S,x,T,M,z){return x===null||x.tag!==7?(x=Us(T,S.mode,M,z),x.return=S,x):(x=i(x,T),x.return=S,x)}function f(S,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=U0(""+x,S.mode,T),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pc:return T=eh(x.type,x.key,x.props,null,S.mode,T),T.ref=al(S,null,x),T.return=S,T;case Da:return x=j0(x,S.mode,T),x.return=S,x;case Ni:var M=x._init;return f(S,M(x._payload),T)}if(fl(x)||tl(x))return x=Us(x,S.mode,T,null),x.return=S,x;Ac(S,x)}return null}function d(S,x,T,M){var z=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:o(S,x,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case pc:return T.key===z?l(S,x,T,M):null;case Da:return T.key===z?c(S,x,T,M):null;case Ni:return z=T._init,d(S,x,z(T._payload),M)}if(fl(T)||tl(T))return z!==null?null:h(S,x,T,M,null);Ac(S,T)}return null}function m(S,x,T,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(T)||null,o(x,S,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case pc:return S=S.get(M.key===null?T:M.key)||null,l(x,S,M,z);case Da:return S=S.get(M.key===null?T:M.key)||null,c(x,S,M,z);case Ni:var G=M._init;return m(S,x,T,G(M._payload),z)}if(fl(M)||tl(M))return S=S.get(T)||null,h(x,S,M,z,null);Ac(x,M)}return null}function _(S,x,T,M){for(var z=null,G=null,w=x,E=x=0,A=null;w!==null&&E<T.length;E++){w.index>E?(A=w,w=null):A=w.sibling;var C=d(S,w,T[E],M);if(C===null){w===null&&(w=A);break}t&&w&&C.alternate===null&&e(S,w),x=s(C,x,E),G===null?z=C:G.sibling=C,G=C,w=A}if(E===T.length)return r(S,w),dt&&Rs(S,E),z;if(w===null){for(;E<T.length;E++)w=f(S,T[E],M),w!==null&&(x=s(w,x,E),G===null?z=w:G.sibling=w,G=w);return dt&&Rs(S,E),z}for(w=n(S,w);E<T.length;E++)A=m(w,S,E,T[E],M),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?E:A.key),x=s(A,x,E),G===null?z=A:G.sibling=A,G=A);return t&&w.forEach(function(O){return e(S,O)}),dt&&Rs(S,E),z}function g(S,x,T,M){var z=tl(T);if(typeof z!="function")throw Error(le(150));if(T=z.call(T),T==null)throw Error(le(151));for(var G=z=null,w=x,E=x=0,A=null,C=T.next();w!==null&&!C.done;E++,C=T.next()){w.index>E?(A=w,w=null):A=w.sibling;var O=d(S,w,C.value,M);if(O===null){w===null&&(w=A);break}t&&w&&O.alternate===null&&e(S,w),x=s(O,x,E),G===null?z=O:G.sibling=O,G=O,w=A}if(C.done)return r(S,w),dt&&Rs(S,E),z;if(w===null){for(;!C.done;E++,C=T.next())C=f(S,C.value,M),C!==null&&(x=s(C,x,E),G===null?z=C:G.sibling=C,G=C);return dt&&Rs(S,E),z}for(w=n(S,w);!C.done;E++,C=T.next())C=m(w,S,E,C.value,M),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?E:C.key),x=s(C,x,E),G===null?z=C:G.sibling=C,G=C);return t&&w.forEach(function(V){return e(S,V)}),dt&&Rs(S,E),z}function y(S,x,T,M){if(typeof T=="object"&&T!==null&&T.type===La&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case pc:e:{for(var z=T.key,G=x;G!==null;){if(G.key===z){if(z=T.type,z===La){if(G.tag===7){r(S,G.sibling),x=i(G,T.props.children),x.return=S,S=x;break e}}else if(G.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ni&&av(z)===G.type){r(S,G.sibling),x=i(G,T.props),x.ref=al(S,G,T),x.return=S,S=x;break e}r(S,G);break}else e(S,G);G=G.sibling}T.type===La?(x=Us(T.props.children,S.mode,M,T.key),x.return=S,S=x):(M=eh(T.type,T.key,T.props,null,S.mode,M),M.ref=al(S,x,T),M.return=S,S=M)}return a(S);case Da:e:{for(G=T.key;x!==null;){if(x.key===G)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){r(S,x.sibling),x=i(x,T.children||[]),x.return=S,S=x;break e}else{r(S,x);break}else e(S,x);x=x.sibling}x=j0(T,S.mode,M),x.return=S,S=x}return a(S);case Ni:return G=T._init,y(S,x,G(T._payload),M)}if(fl(T))return _(S,x,T,M);if(tl(T))return g(S,x,T,M);Ac(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(r(S,x.sibling),x=i(x,T),x.return=S,S=x):(r(S,x),x=U0(T,S.mode,M),x.return=S,S=x),a(S)):r(S,x)}return y}var fo=cE(!0),hE=cE(!1),Th=gs(null),Sh=null,za=null,nm=null;function im(){nm=za=Sh=null}function sm(t){var e=Th.current;ct(Th),t._currentValue=e}function Vd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Za(t,e){Sh=t,nm=za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},za===null){if(Sh===null)throw Error(le(308));za=t,Sh.dependencies={lanes:0,firstContext:t}}else za=za.next=t;return e}var Ms=null;function am(t){Ms===null?Ms=[t]:Ms.push(t)}function fE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,am(e)):(r.next=i.next,i.next=r),e.interleaved=r,ci(t,n)}function ci(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Fi=!1;function om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ci(t,r)}return i=n.interleaved,i===null?(e.next=e,am(n)):(e.next=i.next,i.next=e),n.interleaved=e,ci(t,r)}function qc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}function ov(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ah(t,e,r,n){var i=t.updateQueue;Fi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane,m=o.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,g=o;switch(d=e,m=r,g.tag){case 1:if(_=g.payload,typeof _=="function"){f=_.call(m,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,d=typeof _=="function"?_.call(m,f,d):_,d==null)break e;f=gt({},f,d);break e;case 2:Fi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ks|=a,t.lanes=a,t.memoizedState=f}}function lv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var Cu={},Mn=gs(Cu),eu=gs(Cu),tu=gs(Cu);function bs(t){if(t===Cu)throw Error(le(174));return t}function lm(t,e){switch(st(tu,e),st(eu,t),st(Mn,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_d(e,t)}ct(Mn),st(Mn,e)}function po(){ct(Mn),ct(eu),ct(tu)}function pE(t){bs(tu.current);var e=bs(Mn.current),r=_d(e,t.type);e!==r&&(st(eu,t),st(Mn,r))}function um(t){eu.current===t&&(ct(Mn),ct(eu))}var pt=gs(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var D0=[];function cm(){for(var t=0;t<D0.length;t++)D0[t]._workInProgressVersionPrimary=null;D0.length=0}var Xc=_i.ReactCurrentDispatcher,L0=_i.ReactCurrentBatchConfig,Gs=0,mt=null,Mt=null,jt=null,Ch=!1,Cl=!1,ru=0,DC=0;function ur(){throw Error(le(321))}function hm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!In(t[r],e[r]))return!1;return!0}function fm(t,e,r,n,i,s){if(Gs=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?VC:BC,t=r(n,i),Cl){s=0;do{if(Cl=!1,ru=0,25<=s)throw Error(le(301));s+=1,jt=Mt=null,e.updateQueue=null,Xc.current=UC,t=r(n,i)}while(Cl)}if(Xc.current=Rh,e=Mt!==null&&Mt.next!==null,Gs=0,jt=Mt=mt=null,Ch=!1,e)throw Error(le(300));return t}function dm(){var t=ru!==0;return ru=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=t:jt=jt.next=t,jt}function cn(){if(Mt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=jt===null?mt.memoizedState:jt.next;if(e!==null)jt=e,Mt=t;else{if(t===null)throw Error(le(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},jt===null?mt.memoizedState=jt=t:jt=jt.next=t}return jt}function nu(t,e){return typeof e=="function"?e(t):e}function M0(t){var e=cn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((Gs&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,mt.lanes|=h,Ks|=h}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,In(n,e.memoizedState)||(Pr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,Ks|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function b0(t){var e=cn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);In(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function mE(){}function gE(t,e){var r=mt,n=cn(),i=e(),s=!In(n.memoizedState,i);if(s&&(n.memoizedState=i,Pr=!0),n=n.queue,pm(yE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,iu(9,_E.bind(null,r,n,i,e),void 0,null),Ht===null)throw Error(le(349));Gs&30||vE(r,e,i)}return i}function vE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function _E(t,e,r,n){e.value=r,e.getSnapshot=n,xE(e)&&EE(t)}function yE(t,e,r){return r(function(){xE(e)&&EE(t)})}function xE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!In(t,r)}catch{return!0}}function EE(t){var e=ci(t,1);e!==null&&Tn(e,t,1,-1)}function uv(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},e.queue=t,t=t.dispatch=bC.bind(null,mt,t),[e.memoizedState,t]}function iu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wE(){return cn().memoizedState}function Yc(t,e,r,n){var i=On();mt.flags|=t,i.memoizedState=iu(1|e,r,void 0,n===void 0?null:n)}function Tf(t,e,r,n){var i=cn();n=n===void 0?null:n;var s=void 0;if(Mt!==null){var a=Mt.memoizedState;if(s=a.destroy,n!==null&&hm(n,a.deps)){i.memoizedState=iu(e,r,s,n);return}}mt.flags|=t,i.memoizedState=iu(1|e,r,s,n)}function cv(t,e){return Yc(8390656,8,t,e)}function pm(t,e){return Tf(2048,8,t,e)}function TE(t,e){return Tf(4,2,t,e)}function SE(t,e){return Tf(4,4,t,e)}function AE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IE(t,e,r){return r=r!=null?r.concat([t]):null,Tf(4,4,AE.bind(null,e,t),r)}function mm(){}function CE(t,e){var r=cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function RE(t,e){var r=cn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&hm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kE(t,e,r){return Gs&21?(In(r,e)||(r=Dx(),mt.lanes|=r,Ks|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=r)}function LC(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=L0.transition;L0.transition={};try{t(!1),e()}finally{Ze=r,L0.transition=n}}function PE(){return cn().memoizedState}function MC(t,e,r){var n=Ji(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NE(t))FE(e,r);else if(r=fE(t,e,r,n),r!==null){var i=wr();Tn(r,t,n,i),OE(r,e,n)}}function bC(t,e,r){var n=Ji(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NE(t))FE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,In(o,a)){var l=e.interleaved;l===null?(i.next=i,am(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=fE(t,e,i,n),r!==null&&(i=wr(),Tn(r,t,n,i),OE(r,e,n))}}function NE(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function FE(t,e){Cl=Ch=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function OE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Gp(t,r)}}var Rh={readContext:un,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},VC={readContext:un,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:cv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yc(4194308,4,AE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var r=On();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=On();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=MC.bind(null,mt,t),[n.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:uv,useDebugValue:mm,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=uv(!1),e=t[0];return t=LC.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mt,i=On();if(dt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),Ht===null)throw Error(le(349));Gs&30||vE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,cv(yE.bind(null,n,s,t),[t]),n.flags|=2048,iu(9,_E.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=On(),e=Ht.identifierPrefix;if(dt){var r=Zn,n=Jn;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ru++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=DC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BC={readContext:un,useCallback:CE,useContext:un,useEffect:pm,useImperativeHandle:IE,useInsertionEffect:TE,useLayoutEffect:SE,useMemo:RE,useReducer:M0,useRef:wE,useState:function(){return M0(nu)},useDebugValue:mm,useDeferredValue:function(t){var e=cn();return kE(e,Mt.memoizedState,t)},useTransition:function(){var t=M0(nu)[0],e=cn().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:PE,unstable_isNewReconciler:!1},UC={readContext:un,useCallback:CE,useContext:un,useEffect:pm,useImperativeHandle:IE,useInsertionEffect:TE,useLayoutEffect:SE,useMemo:RE,useReducer:b0,useRef:wE,useState:function(){return b0(nu)},useDebugValue:mm,useDeferredValue:function(t){var e=cn();return Mt===null?e.memoizedState=t:kE(e,Mt.memoizedState,t)},useTransition:function(){var t=b0(nu)[0],e=cn().memoizedState;return[t,e]},useMutableSource:mE,useSyncExternalStore:gE,useId:PE,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sf={isMounted:function(t){return(t=t._reactInternals)?sa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=wr(),i=Ji(t),s=ii(n,i);s.payload=e,r!=null&&(s.callback=r),e=Yi(t,s,i),e!==null&&(Tn(e,t,i,n),qc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=wr(),i=Ji(t),s=ii(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Yi(t,s,i),e!==null&&(Tn(e,t,i,n),qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=wr(),n=Ji(t),i=ii(r,n);i.tag=2,e!=null&&(i.callback=e),e=Yi(t,i,n),e!==null&&(Tn(e,t,n,r),qc(e,t,n))}};function hv(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Yl(r,n)||!Yl(i,s):!0}function DE(t,e,r){var n=!1,i=ls,s=e.contextType;return typeof s=="object"&&s!==null?s=un(s):(i=Fr(e)?$s:vr.current,n=e.contextTypes,s=(n=n!=null)?co(t,i):ls),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function Ud(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},om(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=un(s):(s=Fr(e)?$s:vr.current,i.context=co(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bd(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sf.enqueueReplaceState(i,i.state,null),Ah(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var r="",n=e;do r+=pI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function V0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jC=typeof WeakMap=="function"?WeakMap:Map;function LE(t,e,r){r=ii(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ph||(Ph=!0,Qd=n),jd(t,e)},r}function ME(t,e,r){r=ii(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){jd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){jd(t,e),typeof n!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function dv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jC;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=t4.bind(null,t,e,r),e.then(t,t))}function pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ii(-1,1),e.tag=2,Yi(r,e,1))),r.lanes|=1),t)}var WC=_i.ReactCurrentOwner,Pr=!1;function yr(t,e,r,n){e.child=t===null?hE(e,null,r,n):fo(e,t.child,r,n)}function gv(t,e,r,n,i){r=r.render;var s=e.ref;return Za(e,i),n=fm(t,e,r,n,s,i),r=dm(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(dt&&r&&em(e),e.flags|=1,yr(t,e,n,i),e.child)}function vv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Tm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,bE(t,e,s,n,i)):(t=eh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(a,n)&&t.ref===e.ref)return hi(t,e,i)}return e.flags|=1,t=Zi(s,n),t.ref=e.ref,t.return=e,e.child=t}function bE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Yl(s,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,hi(t,e,i)}return Wd(t,e,r,n,i)}function VE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ha,Wr),Wr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Ha,Wr),Wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,st(Ha,Wr),Wr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,st(Ha,Wr),Wr|=n;return yr(t,e,i,r),e.child}function BE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Wd(t,e,r,n,i){var s=Fr(r)?$s:vr.current;return s=co(e,s),Za(e,i),r=fm(t,e,r,n,s,i),n=dm(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(dt&&n&&em(e),e.flags|=1,yr(t,e,r,i),e.child)}function _v(t,e,r,n,i){if(Fr(r)){var s=!0;xh(e)}else s=!1;if(Za(e,i),e.stateNode===null)Qc(t,e),DE(e,r,n),Ud(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Fr(r)?$s:vr.current,c=co(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&fv(e,a,n,c),Fi=!1;var d=e.memoizedState;a.state=d,Ah(e,n,a,i),l=e.memoizedState,o!==n||d!==l||Nr.current||Fi?(typeof h=="function"&&(Bd(e,r,h,n),l=e.memoizedState),(o=Fi||hv(e,r,o,n,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dE(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:vn(e.type,o),a.props=c,f=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Fr(r)?$s:vr.current,l=co(e,l));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&fv(e,a,n,l),Fi=!1,d=e.memoizedState,a.state=d,Ah(e,n,a,i);var _=e.memoizedState;o!==f||d!==_||Nr.current||Fi?(typeof m=="function"&&(Bd(e,r,m,n),_=e.memoizedState),(c=Fi||hv(e,r,c,n,d,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return zd(t,e,r,n,s,i)}function zd(t,e,r,n,i,s){BE(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&nv(e,r,!1),hi(t,e,s);n=e.stateNode,WC.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=fo(e,t.child,null,s),e.child=fo(e,null,o,s)):yr(t,e,o,s),e.memoizedState=n.state,i&&nv(e,r,!0),e.child}function UE(t){var e=t.stateNode;e.pendingContext?rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rv(t,e.context,!1),lm(t,e.containerInfo)}function yv(t,e,r,n,i){return ho(),rm(i),e.flags|=256,yr(t,e,r,n),e.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Hd(t){return{baseLanes:t,cachePool:null,transitions:null}}function jE(t,e,r){var n=e.pendingProps,i=pt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(pt,i&1),t===null)return bd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Cf(a,n,0,null),t=Us(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hd(r),e.memoizedState=$d,t):gm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return zC(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Zi(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Zi(o,s):(s=Us(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Hd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=$d,n}return s=t.child,t=s.sibling,n=Zi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gm(t,e){return e=Cf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ic(t,e,r,n){return n!==null&&rm(n),fo(e,t.child,null,r),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zC(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=V0(Error(le(422))),Ic(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Cf({mode:"visible",children:n.children},i,0,null),s=Us(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&fo(e,t.child,null,a),e.child.memoizedState=Hd(a),e.memoizedState=$d,s);if(!(e.mode&1))return Ic(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(le(419)),n=V0(s,n,void 0),Ic(t,e,a,n)}if(o=(a&t.childLanes)!==0,Pr||o){if(n=Ht,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ci(t,i),Tn(n,t,i,-1))}return wm(),n=V0(Error(le(421))),Ic(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=r4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gr=Xi(i.nextSibling),qr=e,dt=!0,yn=null,t!==null&&(sn[an++]=Jn,sn[an++]=Zn,sn[an++]=Hs,Jn=t.id,Zn=t.overflow,Hs=e),e=gm(e,n.children),e.flags|=4096,e)}function xv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Vd(t.return,e,r)}function B0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function WE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(yr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,r,e);else if(t.tag===19)xv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(st(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ih(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),B0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}B0(e,!0,r,null,s);break;case"together":B0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ks|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=Zi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Zi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function $C(t,e,r){switch(e.tag){case 3:UE(e),ho();break;case 5:pE(e);break;case 1:Fr(e.type)&&xh(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;st(Th,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(st(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?jE(t,e,r):(st(pt,pt.current&1),t=hi(t,e,r),t!==null?t.sibling:null);st(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return WE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,VE(t,e,r)}return hi(t,e,r)}var zE,Gd,$E,HE;zE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gd=function(){};$E=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,bs(Mn.current);var s=null;switch(r){case"input":i=pd(t,i),n=pd(t,n),s=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),s=[];break;case"textarea":i=vd(t,i),n=vd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_h)}yd(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};HE=function(t,e,r,n){r!==n&&(e.flags|=4)};function ol(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HC(t,e,r){var n=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Fr(e.type)&&yh(),cr(e),null;case 3:return n=e.stateNode,po(),ct(Nr),ct(vr),cm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(ep(yn),yn=null))),Gd(t,e),cr(e),null;case 5:um(e);var i=bs(tu.current);if(r=e.type,t!==null&&e.stateNode!=null)$E(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return cr(e),null}if(t=bs(Mn.current),Sc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Dn]=e,n[Zl]=s,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<pl.length;i++)lt(pl[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":k1(n,s),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lt("invalid",n);break;case"textarea":N1(n,s),lt("invalid",n)}yd(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Tc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Tc(n.textContent,o,t),i=["children",""+o]):zl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lt("scroll",n)}switch(r){case"input":mc(n),P1(n,s,!0);break;case"textarea":mc(n),F1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=_h)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Dn]=e,t[Zl]=n,zE(t,e,!1,!1),e.stateNode=t;e:{switch(a=xd(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<pl.length;i++)lt(pl[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":k1(t,n),i=pd(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":N1(t,n),i=vd(t,n),lt("invalid",t);break;default:i=n}yd(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?wx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$l(t,l):typeof l=="number"&&$l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",t):l!=null&&Up(t,s,l,a))}switch(r){case"input":mc(t),P1(t,n,!1);break;case"textarea":mc(t),F1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+os(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Xa(t,!!n.multiple,s,!1):n.defaultValue!=null&&Xa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_h)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)HE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=bs(tu.current),bs(Mn.current),Sc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Dn]=e,(s=n.nodeValue!==r)&&(t=qr,t!==null))switch(t.tag){case 3:Tc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Dn]=e,e.stateNode=n}return cr(e),null;case 13:if(ct(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Gr!==null&&e.mode&1&&!(e.flags&128))uE(),ho(),e.flags|=98560,s=!1;else if(s=Sc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Dn]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else yn!==null&&(ep(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?bt===0&&(bt=3):wm())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return po(),Gd(t,e),t===null&&Ql(e.stateNode.containerInfo),cr(e),null;case 10:return sm(e.type._context),cr(e),null;case 17:return Fr(e.type)&&yh(),cr(e),null;case 19:if(ct(pt),s=e.memoizedState,s===null)return cr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ol(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ih(t),a!==null){for(e.flags|=128,ol(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return st(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>go&&(e.flags|=128,n=!0,ol(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ih(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dt)return cr(e),null}else 2*Tt()-s.renderingStartTime>go&&r!==1073741824&&(e.flags|=128,n=!0,ol(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,r=pt.current,st(pt,n?r&1|2:r&1),e):(cr(e),null);case 22:case 23:return Em(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Wr&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function GC(t,e){switch(tm(e),e.tag){case 1:return Fr(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return po(),ct(Nr),ct(vr),cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return um(e),null;case 13:if(ct(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(pt),null;case 4:return po(),null;case 10:return sm(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Cc=!1,dr=!1,KC=typeof WeakSet=="function"?WeakSet:Set,xe=null;function $a(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(t,e,n)}else r.current=null}function Kd(t,e,r){try{r()}catch(n){yt(t,e,n)}}var Ev=!1;function qC(t,e){if(Pd=mh,t=Yx(),Zp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===r&&++c===i&&(o=a),d===s&&++h===n&&(l=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nd={focusedElem:t,selectionRange:r},mh=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,y=_.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?g:vn(e.type,g),y);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(M){yt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return _=Ev,Ev=!1,_}function Rl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kd(e,r,s)}i=i.next}while(i!==n)}}function Af(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Zl],delete e[Dd],delete e[PC],delete e[NC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KE(t){return t.tag===5||t.tag===3||t.tag===4}function wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_h));else if(n!==4&&(t=t.child,t!==null))for(Xd(t,e,r),t=t.sibling;t!==null;)Xd(t,e,r),t=t.sibling}function Yd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Yd(t,e,r),t=t.sibling;t!==null;)Yd(t,e,r),t=t.sibling}var Xt=null,_n=!1;function Ci(t,e,r){for(r=r.child;r!==null;)qE(t,e,r),r=r.sibling}function qE(t,e,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(vf,r)}catch{}switch(r.tag){case 5:dr||$a(r,e);case 6:var n=Xt,i=_n;Xt=null,Ci(t,e,r),Xt=n,_n=i,Xt!==null&&(_n?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(_n?(t=Xt,r=r.stateNode,t.nodeType===8?F0(t.parentNode,r):t.nodeType===1&&F0(t,r),ql(t)):F0(Xt,r.stateNode));break;case 4:n=Xt,i=_n,Xt=r.stateNode.containerInfo,_n=!0,Ci(t,e,r),Xt=n,_n=i;break;case 0:case 11:case 14:case 15:if(!dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Kd(r,e,a),i=i.next}while(i!==n)}Ci(t,e,r);break;case 1:if(!dr&&($a(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){yt(r,e,o)}Ci(t,e,r);break;case 21:Ci(t,e,r);break;case 22:r.mode&1?(dr=(n=dr)||r.memoizedState!==null,Ci(t,e,r),dr=n):Ci(t,e,r);break;default:Ci(t,e,r)}}function Tv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new KC),e.forEach(function(n){var i=n4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Xt=o.stateNode,_n=!1;break e;case 3:Xt=o.stateNode.containerInfo,_n=!0;break e;case 4:Xt=o.stateNode.containerInfo,_n=!0;break e}o=o.return}if(Xt===null)throw Error(le(160));qE(s,a,i),Xt=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XE(e,t),e=e.sibling}function XE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Pn(t),n&4){try{Rl(3,t,t.return),Af(3,t)}catch(g){yt(t,t.return,g)}try{Rl(5,t,t.return)}catch(g){yt(t,t.return,g)}}break;case 1:pn(e,t),Pn(t),n&512&&r!==null&&$a(r,r.return);break;case 5:if(pn(e,t),Pn(t),n&512&&r!==null&&$a(r,r.return),t.flags&32){var i=t.stateNode;try{$l(i,"")}catch(g){yt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&vx(i,s),xd(o,a);var c=xd(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?wx(i,f):h==="dangerouslySetInnerHTML"?xx(i,f):h==="children"?$l(i,f):Up(i,h,f,c)}switch(o){case"input":md(i,s);break;case"textarea":_x(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xa(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Xa(i,!!s.multiple,s.defaultValue,!0):Xa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zl]=s}catch(g){yt(t,t.return,g)}}break;case 6:if(pn(e,t),Pn(t),n&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){yt(t,t.return,g)}}break;case 3:if(pn(e,t),Pn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(g){yt(t,t.return,g)}break;case 4:pn(e,t),Pn(t);break;case 13:pn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ym=Tt())),n&4&&Tv(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(dr=(c=dr)||h,pn(e,t),dr=c):pn(e,t),Pn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(xe=t,h=t.child;h!==null;){for(f=xe=h;xe!==null;){switch(d=xe,m=d.child,d.tag){case 0:case 11:case 14:case 15:Rl(4,d,d.return);break;case 1:$a(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){yt(n,r,g)}}break;case 5:$a(d,d.return);break;case 22:if(d.memoizedState!==null){Av(f);continue}}m!==null?(m.return=d,xe=m):Av(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ex("display",a))}catch(g){yt(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){yt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pn(e,t),Pn(t),n&4&&Tv(t);break;case 21:break;default:pn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KE(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&($l(i,""),n.flags&=-33);var s=wv(t);Yd(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=wv(t);Xd(t,o,a);break;default:throw Error(le(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XC(t,e,r){xe=t,YE(t)}function YE(t,e,r){for(var n=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Cc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||dr;o=Cc;var c=dr;if(Cc=a,(dr=l)&&!c)for(xe=i;xe!==null;)a=xe,l=a.child,a.tag===22&&a.memoizedState!==null?Iv(i):l!==null?(l.return=a,xe=l):Iv(i);for(;s!==null;)xe=s,YE(s),s=s.sibling;xe=i,Cc=o,dr=c}Sv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):Sv(t)}}function Sv(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||Af(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lv(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lv(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ql(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}dr||e.flags&512&&qd(e)}catch(d){yt(e,e.return,d)}}if(e===t){xe=null;break}if(r=e.sibling,r!==null){r.return=e.return,xe=r;break}xe=e.return}}function Av(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xe=r;break}xe=e.return}}function Iv(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Af(4,e)}catch(l){yt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{qd(e)}catch(l){yt(e,s,l)}break;case 5:var a=e.return;try{qd(e)}catch(l){yt(e,a,l)}}}catch(l){yt(e,e.return,l)}if(e===t){xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,xe=o;break}xe=e.return}}var YC=Math.ceil,kh=_i.ReactCurrentDispatcher,vm=_i.ReactCurrentOwner,ln=_i.ReactCurrentBatchConfig,ze=0,Ht=null,Ct=null,tr=0,Wr=0,Ha=gs(0),bt=0,su=null,Ks=0,If=0,_m=0,kl=null,Rr=null,ym=0,go=1/0,Yn=null,Ph=!1,Qd=null,Qi=null,Rc=!1,Ui=null,Nh=0,Pl=0,Jd=null,Jc=-1,Zc=0;function wr(){return ze&6?Tt():Jc!==-1?Jc:Jc=Tt()}function Ji(t){return t.mode&1?ze&2&&tr!==0?tr&-tr:OC.transition!==null?(Zc===0&&(Zc=Dx()),Zc):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:jx(t.type)),t):1}function Tn(t,e,r,n){if(50<Pl)throw Pl=0,Jd=null,Error(le(185));Su(t,r,n),(!(ze&2)||t!==Ht)&&(t===Ht&&(!(ze&2)&&(If|=r),bt===4&&Di(t,tr)),Or(t,n),r===1&&ze===0&&!(e.mode&1)&&(go=Tt()+500,wf&&vs()))}function Or(t,e){var r=t.callbackNode;OI(t,e);var n=ph(t,t===Ht?tr:0);if(n===0)r!==null&&L1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&L1(r),e===1)t.tag===0?FC(Cv.bind(null,t)):aE(Cv.bind(null,t)),RC(function(){!(ze&6)&&vs()}),r=null;else{switch(Lx(n)){case 1:r=Hp;break;case 4:r=Fx;break;case 16:r=dh;break;case 536870912:r=Ox;break;default:r=dh}r=iw(r,QE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function QE(t,e){if(Jc=-1,Zc=0,ze&6)throw Error(le(327));var r=t.callbackNode;if(eo()&&t.callbackNode!==r)return null;var n=ph(t,t===Ht?tr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fh(t,n);else{e=n;var i=ze;ze|=2;var s=ZE();(Ht!==t||tr!==e)&&(Yn=null,go=Tt()+500,Bs(t,e));do try{ZC();break}catch(o){JE(t,o)}while(!0);im(),kh.current=s,ze=i,Ct!==null?e=0:(Ht=null,tr=0,e=bt)}if(e!==0){if(e===2&&(i=Ad(t),i!==0&&(n=i,e=Zd(t,i))),e===1)throw r=su,Bs(t,0),Di(t,n),Or(t,Tt()),r;if(e===6)Di(t,n);else{if(i=t.current.alternate,!(n&30)&&!QC(i)&&(e=Fh(t,n),e===2&&(s=Ad(t),s!==0&&(n=s,e=Zd(t,s))),e===1))throw r=su,Bs(t,0),Di(t,n),Or(t,Tt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:ks(t,Rr,Yn);break;case 3:if(Di(t,n),(n&130023424)===n&&(e=ym+500-Tt(),10<e)){if(ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Od(ks.bind(null,t,Rr,Yn),e);break}ks(t,Rr,Yn);break;case 4:if(Di(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-wn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YC(n/1960))-n,10<n){t.timeoutHandle=Od(ks.bind(null,t,Rr,Yn),n);break}ks(t,Rr,Yn);break;case 5:ks(t,Rr,Yn);break;default:throw Error(le(329))}}}return Or(t,Tt()),t.callbackNode===r?QE.bind(null,t):null}function Zd(t,e){var r=kl;return t.current.memoizedState.isDehydrated&&(Bs(t,e).flags|=256),t=Fh(t,e),t!==2&&(e=Rr,Rr=r,e!==null&&ep(e)),t}function ep(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function QC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~_m,e&=~If,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wn(e),n=1<<r;t[r]=-1,e&=~n}}function Cv(t){if(ze&6)throw Error(le(327));eo();var e=ph(t,0);if(!(e&1))return Or(t,Tt()),null;var r=Fh(t,e);if(t.tag!==0&&r===2){var n=Ad(t);n!==0&&(e=n,r=Zd(t,n))}if(r===1)throw r=su,Bs(t,0),Di(t,e),Or(t,Tt()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ks(t,Rr,Yn),Or(t,Tt()),null}function xm(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(go=Tt()+500,wf&&vs())}}function qs(t){Ui!==null&&Ui.tag===0&&!(ze&6)&&eo();var e=ze;ze|=1;var r=ln.transition,n=Ze;try{if(ln.transition=null,Ze=1,t)return t()}finally{Ze=n,ln.transition=r,ze=e,!(ze&6)&&vs()}}function Em(){Wr=Ha.current,ct(Ha)}function Bs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CC(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yh();break;case 3:po(),ct(Nr),ct(vr),cm();break;case 5:um(n);break;case 4:po();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:sm(n.type._context);break;case 22:case 23:Em()}r=r.return}if(Ht=t,Ct=t=Zi(t.current,null),tr=Wr=e,bt=0,su=null,_m=If=Ks=0,Rr=kl=null,Ms!==null){for(e=0;e<Ms.length;e++)if(r=Ms[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ms=null}return t}function JE(t,e){do{var r=Ct;try{if(im(),Xc.current=Rh,Ch){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ch=!1}if(Gs=0,jt=Mt=mt=null,Cl=!1,ru=0,vm.current=null,r===null||r.return===null){bt=1,su=e,Ct=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=tr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=pv(a);if(m!==null){m.flags&=-257,mv(m,a,o,s,e),m.mode&1&&dv(s,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){dv(s,c,e),wm();break e}l=Error(le(426))}}else if(dt&&o.mode&1){var y=pv(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),mv(y,a,o,s,e),rm(mo(l,o));break e}}s=l=mo(l,o),bt!==4&&(bt=2),kl===null?kl=[s]:kl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=LE(s,l,e);ov(s,S);break e;case 1:o=l;var x=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Qi===null||!Qi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=ME(s,o,e);ov(s,M);break e}}s=s.return}while(s!==null)}tw(r)}catch(z){e=z,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function ZE(){var t=kh.current;return kh.current=Rh,t===null?Rh:t}function wm(){(bt===0||bt===3||bt===2)&&(bt=4),Ht===null||!(Ks&268435455)&&!(If&268435455)||Di(Ht,tr)}function Fh(t,e){var r=ze;ze|=2;var n=ZE();(Ht!==t||tr!==e)&&(Yn=null,Bs(t,e));do try{JC();break}catch(i){JE(t,i)}while(!0);if(im(),ze=r,kh.current=n,Ct!==null)throw Error(le(261));return Ht=null,tr=0,bt}function JC(){for(;Ct!==null;)ew(Ct)}function ZC(){for(;Ct!==null&&!SI();)ew(Ct)}function ew(t){var e=nw(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,e===null?tw(t):Ct=e,vm.current=null}function tw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=GC(r,e),r!==null){r.flags&=32767,Ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,Ct=null;return}}else if(r=HC(r,e,Wr),r!==null){Ct=r;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);bt===0&&(bt=5)}function ks(t,e,r){var n=Ze,i=ln.transition;try{ln.transition=null,Ze=1,e4(t,e,r,n)}finally{ln.transition=i,Ze=n}return null}function e4(t,e,r,n){do eo();while(Ui!==null);if(ze&6)throw Error(le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(DI(t,s),t===Ht&&(Ct=Ht=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rc||(Rc=!0,iw(dh,function(){return eo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var a=Ze;Ze=1;var o=ze;ze|=4,vm.current=null,qC(t,r),XE(r,t),xC(Nd),mh=!!Pd,Nd=Pd=null,t.current=r,XC(r),AI(),ze=o,Ze=a,ln.transition=s}else t.current=r;if(Rc&&(Rc=!1,Ui=t,Nh=i),s=t.pendingLanes,s===0&&(Qi=null),RI(r.stateNode),Or(t,Tt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,t=Qd,Qd=null,t;return Nh&1&&t.tag!==0&&eo(),s=t.pendingLanes,s&1?t===Jd?Pl++:(Pl=0,Jd=t):Pl=0,vs(),null}function eo(){if(Ui!==null){var t=Lx(Nh),e=ln.transition,r=Ze;try{if(ln.transition=null,Ze=16>t?16:t,Ui===null)var n=!1;else{if(t=Ui,Ui=null,Nh=0,ze&6)throw Error(le(331));var i=ze;for(ze|=4,xe=t.current;xe!==null;){var s=xe,a=s.child;if(xe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(xe=c;xe!==null;){var h=xe;switch(h.tag){case 0:case 11:case 15:Rl(8,h,s)}var f=h.child;if(f!==null)f.return=h,xe=f;else for(;xe!==null;){h=xe;var d=h.sibling,m=h.return;if(GE(h),h===c){xe=null;break}if(d!==null){d.return=m,xe=d;break}xe=m}}}var _=s.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,xe=a;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,xe=S;break e}xe=s.return}}var x=t.current;for(xe=x;xe!==null;){a=xe;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,xe=T;else e:for(a=x;xe!==null;){if(o=xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Af(9,o)}}catch(z){yt(o,o.return,z)}if(o===a){xe=null;break e}var M=o.sibling;if(M!==null){M.return=o.return,xe=M;break e}xe=o.return}}if(ze=i,vs(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(vf,t)}catch{}n=!0}return n}finally{Ze=r,ln.transition=e}}return!1}function Rv(t,e,r){e=mo(r,e),e=LE(t,e,1),t=Yi(t,e,1),e=wr(),t!==null&&(Su(t,1,e),Or(t,e))}function yt(t,e,r){if(t.tag===3)Rv(t,t,r);else for(;e!==null;){if(e.tag===3){Rv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qi===null||!Qi.has(n))){t=mo(r,t),t=ME(e,t,1),e=Yi(e,t,1),t=wr(),e!==null&&(Su(e,1,t),Or(e,t));break}}e=e.return}}function t4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&r,Ht===t&&(tr&r)===r&&(bt===4||bt===3&&(tr&130023424)===tr&&500>Tt()-ym?Bs(t,0):_m|=r),Or(t,e)}function rw(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var r=wr();t=ci(t,e),t!==null&&(Su(t,e,r),Or(t,r))}function r4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),rw(t,r)}function n4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),rw(t,r)}var nw;nw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pr=!1,$C(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,dt&&e.flags&1048576&&oE(e,wh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qc(t,e),t=e.pendingProps;var i=co(e,vr.current);Za(e,r),i=fm(null,e,n,t,i,r);var s=dm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(n)?(s=!0,xh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,om(e),i.updater=Sf,e.stateNode=i,i._reactInternals=e,Ud(e,n,t,r),e=zd(null,e,n,!0,s,r)):(e.tag=0,dt&&s&&em(e),yr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=s4(n),t=vn(n,t),i){case 0:e=Wd(null,e,n,t,r);break e;case 1:e=_v(null,e,n,t,r);break e;case 11:e=gv(null,e,n,t,r);break e;case 14:e=vv(null,e,n,vn(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vn(n,i),Wd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vn(n,i),_v(t,e,n,i,r);case 3:e:{if(UE(e),t===null)throw Error(le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,dE(t,e),Ah(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mo(Error(le(423)),e),e=yv(t,e,n,r,i);break e}else if(n!==i){i=mo(Error(le(424)),e),e=yv(t,e,n,r,i);break e}else for(Gr=Xi(e.stateNode.containerInfo.firstChild),qr=e,dt=!0,yn=null,r=hE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ho(),n===i){e=hi(t,e,r);break e}yr(t,e,n,r)}e=e.child}return e;case 5:return pE(e),t===null&&bd(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Fd(n,i)?a=null:s!==null&&Fd(n,s)&&(e.flags|=32),BE(t,e),yr(t,e,a,r),e.child;case 6:return t===null&&bd(e),null;case 13:return jE(t,e,r);case 4:return lm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fo(e,null,n,r):yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vn(n,i),gv(t,e,n,i,r);case 7:return yr(t,e,e.pendingProps,r),e.child;case 8:return yr(t,e,e.pendingProps.children,r),e.child;case 12:return yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,st(Th,n._currentValue),n._currentValue=a,s!==null)if(In(s.value,a)){if(s.children===i.children&&!Nr.current){e=hi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ii(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Vd(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Vd(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Za(e,r),i=un(i),n=n(i),e.flags|=1,yr(t,e,n,r),e.child;case 14:return n=e.type,i=vn(n,e.pendingProps),i=vn(n.type,i),vv(t,e,n,i,r);case 15:return bE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vn(n,i),Qc(t,e),e.tag=1,Fr(n)?(t=!0,xh(e)):t=!1,Za(e,r),DE(e,n,i),Ud(e,n,i,r),zd(null,e,n,!0,t,r);case 19:return WE(t,e,r);case 22:return VE(t,e,r)}throw Error(le(156,e.tag))};function iw(t,e){return Nx(t,e)}function i4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,r,n){return new i4(t,e,r,n)}function Tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s4(t){if(typeof t=="function")return Tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wp)return 11;if(t===zp)return 14}return 2}function Zi(t,e){var r=t.alternate;return r===null?(r=on(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function eh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Tm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case La:return Us(r.children,i,s,e);case jp:a=8,i|=8;break;case cd:return t=on(12,r,e,i|2),t.elementType=cd,t.lanes=s,t;case hd:return t=on(13,r,e,i),t.elementType=hd,t.lanes=s,t;case fd:return t=on(19,r,e,i),t.elementType=fd,t.lanes=s,t;case px:return Cf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fx:a=10;break e;case dx:a=9;break e;case Wp:a=11;break e;case zp:a=14;break e;case Ni:a=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=on(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Us(t,e,r,n){return t=on(7,t,n,e),t.lanes=r,t}function Cf(t,e,r,n){return t=on(22,t,n,e),t.elementType=px,t.lanes=r,t.stateNode={isHidden:!1},t}function U0(t,e,r){return t=on(6,t,null,e),t.lanes=r,t}function j0(t,e,r){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E0(0),this.expirationTimes=E0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sm(t,e,r,n,i,s,a,o,l){return t=new a4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=on(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(s),t}function o4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sw(t){if(!t)return ls;t=t._reactInternals;e:{if(sa(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(Fr(r))return sE(t,r,e)}return e}function aw(t,e,r,n,i,s,a,o,l){return t=Sm(r,n,!0,t,i,s,a,o,l),t.context=sw(null),r=t.current,n=wr(),i=Ji(r),s=ii(n,i),s.callback=e??null,Yi(r,s,i),t.current.lanes=i,Su(t,i,n),Or(t,n),t}function Rf(t,e,r,n){var i=e.current,s=wr(),a=Ji(i);return r=sw(r),e.context===null?e.context=r:e.pendingContext=r,e=ii(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Yi(i,e,a),t!==null&&(Tn(t,i,a,s),qc(t,i,a)),a}function Oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Am(t,e){kv(t,e),(t=t.alternate)&&kv(t,e)}function l4(){return null}var ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function Im(t){this._internalRoot=t}kf.prototype.render=Im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Rf(t,e,null,null)};kf.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qs(function(){Rf(null,t,null,null)}),e[ui]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oi.length&&e!==0&&e<Oi[r].priority;r++);Oi.splice(r,0,t),r===0&&Ux(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function u4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Oh(a);s.call(c)}}var a=aw(e,n,t,0,null,!1,!1,"",Pv);return t._reactRootContainer=a,t[ui]=a.current,Ql(t.nodeType===8?t.parentNode:t),qs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Oh(l);o.call(c)}}var l=Sm(t,0,!1,null,null,!1,!1,"",Pv);return t._reactRootContainer=l,t[ui]=l.current,Ql(t.nodeType===8?t.parentNode:t),qs(function(){Rf(e,l,r,n)}),l}function Nf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Oh(a);o.call(l)}}Rf(e,a,t,i)}else a=u4(r,e,t,i,n);return Oh(a)}Mx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dl(e.pendingLanes);r!==0&&(Gp(e,r|1),Or(e,Tt()),!(ze&6)&&(go=Tt()+500,vs()))}break;case 13:qs(function(){var n=ci(t,1);if(n!==null){var i=wr();Tn(n,t,1,i)}}),Am(t,1)}};Kp=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var r=wr();Tn(e,t,134217728,r)}Am(t,134217728)}};bx=function(t){if(t.tag===13){var e=Ji(t),r=ci(t,e);if(r!==null){var n=wr();Tn(r,t,e,n)}Am(t,e)}};Vx=function(){return Ze};Bx=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};wd=function(t,e,r){switch(e){case"input":if(md(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ef(n);if(!i)throw Error(le(90));gx(n),md(n,i)}}}break;case"textarea":_x(t,r);break;case"select":e=r.value,e!=null&&Xa(t,!!r.multiple,e,!1)}};Ax=xm;Ix=qs;var c4={usingClientEntryPoint:!1,Events:[Iu,Ba,Ef,Tx,Sx,xm]},ll={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h4={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kx(t),t===null?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||l4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{vf=kc.inject(h4),Ln=kc}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;Qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(le(200));return o4(t,e,null,r)};Qr.createRoot=function(t,e){if(!Cm(t))throw Error(le(299));var r=!1,n="",i=ow;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sm(t,1,!1,null,null,r,!1,n,i),t[ui]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Im(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=kx(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return qs(t)};Qr.hydrate=function(t,e,r){if(!Pf(e))throw Error(le(200));return Nf(null,t,e,!0,r)};Qr.hydrateRoot=function(t,e,r){if(!Cm(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=ow;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=aw(e,null,t,1,r??null,i,!1,s,a),t[ui]=e.current,Ql(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new kf(e)};Qr.render=function(t,e,r){if(!Pf(e))throw Error(le(200));return Nf(null,t,e,!1,r)};Qr.unmountComponentAtNode=function(t){if(!Pf(t))throw Error(le(40));return t._reactRootContainer?(qs(function(){Nf(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};Qr.unstable_batchedUpdates=xm;Qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Pf(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Nf(t,e,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lw)}catch(t){console.error(t)}}lw(),lx.exports=Qr;var f4=lx.exports,uw,Nv=f4;uw=Nv.createRoot,Nv.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},au.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const Fv="popstate";function d4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return tp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Dh(i)}return m4(e,r,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p4(){return Math.random().toString(36).substr(2,8)}function Ov(t,e){return{usr:t.state,key:t.key,idx:e}}function tp(t,e,r,n){return r===void 0&&(r=null),au({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?No(e):e,{state:r,key:e&&e.key||n||p4()})}function Dh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function No(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function m4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ji.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(au({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=ji.Pop;let y=h(),S=y==null?null:y-c;c=y,l&&l({action:o,location:g.location,delta:S})}function d(y,S){o=ji.Push;let x=tp(g.location,y,S);c=h()+1;let T=Ov(x,c),M=g.createHref(x);try{a.pushState(T,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(M)}s&&l&&l({action:o,location:g.location,delta:1})}function m(y,S){o=ji.Replace;let x=tp(g.location,y,S);c=h();let T=Ov(x,c),M=g.createHref(x);a.replaceState(T,"",M),s&&l&&l({action:o,location:g.location,delta:0})}function _(y){let S=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Dh(y);return x=x.replace(/ $/,"%20"),kt(S,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,S)}let g={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,f),l=y,()=>{i.removeEventListener(Fv,f),l=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let S=_(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:d,replace:m,go(y){return a.go(y)}};return g}var Dv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dv||(Dv={}));function g4(t,e,r){return r===void 0&&(r="/"),v4(t,e,r,!1)}function v4(t,e,r,n){let i=typeof e=="string"?No(e):e,s=Rm(i.pathname||"/",r);if(s==null)return null;let a=hw(t);_4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=k4(s);o=C4(a[l],c,n)}return o}function hw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(kt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=es([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hw(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:A4(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of fw(s.path))i(s,a,l)}),e}function fw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=fw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function _4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:I4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const y4=/^:[\w-]+$/,x4=3,E4=2,w4=1,T4=10,S4=-2,Lv=t=>t==="*";function A4(t,e){let r=t.split("/"),n=r.length;return r.some(Lv)&&(n+=S4),e&&(n+=E4),r.filter(i=>!Lv(i)).reduce((i,s)=>i+(y4.test(s)?x4:s===""?w4:T4),n)}function I4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function C4(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Mv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Mv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:es([s,f.pathname]),pathnameBase:O4(es([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=es([s,f.pathnameBase]))}return a}function Mv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=R4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const _=o[f];return m&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function R4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),cw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function k4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function P4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?No(t):t;return{pathname:r?r.startsWith("/")?r:N4(r,e):e,search:D4(n),hash:L4(i)}}function N4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function W0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function dw(t,e){let r=F4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=No(t):(i=au({},t),kt(!i.pathname||!i.pathname.includes("?"),W0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),W0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),W0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=P4(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const es=t=>t.join("/").replace(/\/\/+/g,"/"),O4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function M4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mw=["post","put","patch","delete"];new Set(mw);const b4=["get",...mw];new Set(b4);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}const km=ie.createContext(null),V4=ie.createContext(null),aa=ie.createContext(null),Ff=ie.createContext(null),oa=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),gw=ie.createContext(null);function B4(t,e){let{relative:r}=e===void 0?{}:e;Ru()||kt(!1);let{basename:n,navigator:i}=ie.useContext(aa),{hash:s,pathname:a,search:o}=_w(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:es([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Ru(){return ie.useContext(Ff)!=null}function ku(){return Ru()||kt(!1),ie.useContext(Ff).location}function vw(t){ie.useContext(aa).static||ie.useLayoutEffect(t)}function Fo(){let{isDataRoute:t}=ie.useContext(oa);return t?J4():U4()}function U4(){Ru()||kt(!1);let t=ie.useContext(km),{basename:e,future:r,navigator:n}=ie.useContext(aa),{matches:i}=ie.useContext(oa),{pathname:s}=ku(),a=JSON.stringify(dw(i,r.v7_relativeSplatPath)),o=ie.useRef(!1);return vw(()=>{o.current=!0}),ie.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=pw(c,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:es([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,s,t])}function _w(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ie.useContext(aa),{matches:i}=ie.useContext(oa),{pathname:s}=ku(),a=JSON.stringify(dw(i,n.v7_relativeSplatPath));return ie.useMemo(()=>pw(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function j4(t,e){return W4(t,e)}function W4(t,e,r,n){Ru()||kt(!1);let{navigator:i}=ie.useContext(aa),{matches:s}=ie.useContext(oa),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ku(),h;if(e){var f;let y=typeof e=="string"?No(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||kt(!1),h=y}else h=c;let d=h.pathname||"/",m=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=g4(t,{pathname:m}),g=K4(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:es([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:es([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&g?ie.createElement(Ff.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ji.Pop}},g):g}function z4(){let t=Q4(),e=M4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),r?ie.createElement("pre",{style:i},r):null,null)}const $4=ie.createElement(z4,null);class H4 extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ie.createElement(oa.Provider,{value:this.props.routeContext},ie.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G4(t){let{routeContext:e,match:r,children:n}=t,i=ie.useContext(km);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ie.createElement(oa.Provider,{value:e},n)}function K4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||kt(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:m}=r,_=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,f,d)=>{let m,_=!1,g=null,y=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||$4,l&&(c<0&&d===0?(_=!0,y=null):c===d&&(_=!0,y=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,d+1)),x=()=>{let T;return m?T=g:_?T=y:f.route.Component?T=ie.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,ie.createElement(G4,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ie.createElement(H4,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}var yw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yw||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function q4(t){let e=ie.useContext(km);return e||kt(!1),e}function X4(t){let e=ie.useContext(V4);return e||kt(!1),e}function Y4(t){let e=ie.useContext(oa);return e||kt(!1),e}function xw(t){let e=Y4(),r=e.matches[e.matches.length-1];return r.route.id||kt(!1),r.route.id}function Q4(){var t;let e=ie.useContext(gw),r=X4(Lh.UseRouteError),n=xw(Lh.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function J4(){let{router:t}=q4(yw.UseNavigateStable),e=xw(Lh.UseNavigateStable),r=ie.useRef(!1);return vw(()=>{r.current=!0}),ie.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ou({fromRouteId:e},s)))},[t,e])}const bv={};function Z4(t,e){bv[e]||(bv[e]=!0,console.warn(e))}const Vv=(t,e,r)=>Z4(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function eR(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&Vv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&Vv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ps(t){kt(!1)}function tR(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ji.Pop,navigator:s,static:a=!1,future:o}=t;Ru()&&kt(!1);let l=e.replace(/^\/*/,"/"),c=ie.useMemo(()=>({basename:l,navigator:s,static:a,future:ou({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=No(n));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:_="default"}=n,g=ie.useMemo(()=>{let y=Rm(h,l);return y==null?null:{location:{pathname:y,search:f,hash:d,state:m,key:_},navigationType:i}},[l,h,f,d,m,_,i]);return g==null?null:ie.createElement(aa.Provider,{value:c},ie.createElement(Ff.Provider,{children:r,value:g}))}function rR(t){let{children:e,location:r}=t;return j4(rp(e),r)}new Promise(()=>{});function rp(t,e){e===void 0&&(e=[]);let r=[];return ie.Children.forEach(t,(n,i)=>{if(!ie.isValidElement(n))return;let s=[...e,i];if(n.type===ie.Fragment){r.push.apply(r,rp(n.props.children,s));return}n.type!==Ps&&kt(!1),!n.props.index||!n.props.children||kt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=rp(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},np.apply(this,arguments)}function nR(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function iR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sR(t,e){return t.button===0&&(!e||e==="_self")&&!iR(t)}const aR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oR="6";try{window.__reactRouterVersion=oR}catch{}const lR="startTransition",Bv=tI[lR];function uR(t){let{basename:e,children:r,future:n,window:i}=t,s=ie.useRef();s.current==null&&(s.current=d4({window:i,v5Compat:!0}));let a=s.current,[o,l]=ie.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},h=ie.useCallback(f=>{c&&Bv?Bv(()=>l(f)):l(f)},[l,c]);return ie.useLayoutEffect(()=>a.listen(h),[a,h]),ie.useEffect(()=>eR(n),[n]),ie.createElement(tR,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const cR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fR=ie.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=nR(e,aR),{basename:m}=ie.useContext(aa),_,g=!1;if(typeof c=="string"&&hR.test(c)&&(_=c,cR))try{let T=new URL(window.location.href),M=c.startsWith("//")?new URL(T.protocol+c):new URL(c),z=Rm(M.pathname,m);M.origin===T.origin&&z!=null?c=z+M.search+M.hash:g=!0}catch{}let y=B4(c,{relative:i}),S=dR(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function x(T){n&&n(T),T.defaultPrevented||S(T)}return ie.createElement("a",np({},d,{href:_||y,onClick:g||s?n:x,ref:r,target:l}))});var Uv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uv||(Uv={}));var jv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jv||(jv={}));function dR(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Fo(),c=ku(),h=_w(t,{relative:a});return ie.useCallback(f=>{if(sR(f,r)){f.preventDefault();let d=n!==void 0?n:Dh(c)===Dh(h);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,h,n,i,r,t,s,a,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Bt=(t,e)=>{const r=ie.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},h)=>ie.createElement("svg",{ref:h,...pR,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${mR(t)}`,o].join(" "),...c},[...e.map(([f,d])=>ie.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Bt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Bt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Bt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Bt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Bt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Bt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Bt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Bt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Bt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Bt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Bt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Bt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function IR(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{c(n.next(h))}catch(f){a(f)}}function l(h){try{c(n.throw(h))}catch(f){a(f)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((n=n.apply(t,[])).next())})}function CR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RR=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},kR=CR(RR);const Hv="__googleMapsScriptId";var Ga;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Ga||(Ga={}));class Fs{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:i,id:s=Hv,language:a,libraries:o=[],mapIds:l,nonce:c,region:h,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js",version:m}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=i,this.id=s||Hv,this.language=a,this.libraries=o,this.mapIds=l,this.nonce=c,this.region=h,this.retries=f,this.url=d,this.version=m,Fs.instance){if(!kR(this.options,Fs.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Fs.instance.options)}`);return Fs.instance}Fs.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ga.FAILURE:this.done?Ga.SUCCESS:this.loading?Ga.LOADING:Ga.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(s=>!n[s]&&delete n[s]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(s=>{let a,o,l,c="The Google Maps JavaScript API",h="google",f="importLibrary",d="__ib__",m=document,_=window;_=_[h]||(_[h]={});const g=_.maps||(_.maps={}),y=new Set,S=new URLSearchParams,x=()=>a||(a=new Promise((T,M)=>IR(this,void 0,void 0,function*(){var z;yield o=m.createElement("script"),o.id=this.id,S.set("libraries",[...y]+"");for(l in s)S.set(l.replace(/[A-Z]/g,G=>"_"+G[0].toLowerCase()),s[l]);S.set("callback",h+".maps."+d),o.src=this.url+"?"+S,g[d]=T,o.onerror=()=>a=M(Error(c+" could not load.")),o.nonce=this.nonce||((z=m.querySelector("script[nonce]"))===null||z===void 0?void 0:z.nonce)||"",m.head.append(o)})));g[f]?console.warn(c+" only loads once. Ignoring:",s):g[f]=(T,...M)=>y.add(T)&&x().then(()=>g[f](T,...M))})(n);const i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{const a=new ErrorEvent("error",{error:s});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},PR=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(d=64)),n.push(r[h],r[f],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new NR;const d=s<<2|o>>4;if(n.push(d),c!==64){const m=o<<4&240|c>>2;if(n.push(m),f!==64){const _=c<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=Tw(t);return Sw.encodeByteArray(e,!0)},bh=function(t){return FR(t).replace(/\./g,"")},Aw=function(t){try{return Sw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=()=>OR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof Gv>"u")return;const t=Gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Aw(t[1]);return e&&JSON.parse(e)},Of=()=>{try{return DR()||LR()||MR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iw=t=>{var e,r;return(r=(e=Of())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},bR=t=>{const e=Iw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Cw=()=>{var t;return(t=Of())===null||t===void 0?void 0:t.config},Rw=t=>{var e;return(e=Of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bh(JSON.stringify(r)),bh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function jR(){var t;const e=(t=Of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class yi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=XR,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?YR(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new yi(i,o,n)}}function YR(t,e){return t.replace(QR,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const QR=/\{\$([^}]+)}/g;function JR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(Kv(s)&&Kv(a)){if(!Vh(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function ZR(t,e){const r=new ek(t,e);return r.subscribe.bind(r)}class ek{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");tk(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=z0),i.error===void 0&&(i.error=z0),i.complete===void 0&&(i.complete=z0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tk(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function z0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new VR;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ik(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nk(t){return t===Ns?void 0:t}function ik(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new rk(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const ak={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},ok=Be.INFO,lk={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uk=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=lk[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=ok,this._logHandler=uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const ck=(t,e)=>e.some(r=>t instanceof r);let qv,Xv;function hk(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fk(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,ip=new WeakMap,Pw=new WeakMap,$0=new WeakMap,Nm=new WeakMap;function dk(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(ts(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&kw.set(r,t)}).catch(()=>{}),Nm.set(e,t),e}function pk(t){if(ip.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ip.set(t,e)}let sp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ts(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mk(t){sp=t(sp)}function gk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(H0(this),e,...r);return Pw.set(n,e.sort?e.sort():[e]),ts(n)}:fk().includes(t)?function(...e){return t.apply(H0(this),e),ts(kw.get(this))}:function(...e){return ts(t.apply(H0(this),e))}}function vk(t){return typeof t=="function"?gk(t):(t instanceof IDBTransaction&&pk(t),ck(t,hk())?new Proxy(t,sp):t)}function ts(t){if(t instanceof IDBRequest)return dk(t);if($0.has(t))return $0.get(t);const e=vk(t);return e!==t&&($0.set(t,e),Nm.set(e,t)),e}const H0=t=>Nm.get(t);function _k(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ts(a);return n&&a.addEventListener("upgradeneeded",l=>{n(ts(a.result),l.oldVersion,l.newVersion,ts(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const yk=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],G0=new Map;function Yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=xk.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yk.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return G0.set(e,s),s}mk(t=>({...t,get:(e,r,n)=>Yv(e,r)||t.get(e,r,n),has:(e,r)=>!!Yv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wk(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ap="@firebase/app",Qv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Pm("@firebase/app"),Tk="@firebase/app-compat",Sk="@firebase/analytics-compat",Ak="@firebase/analytics",Ik="@firebase/app-check-compat",Ck="@firebase/app-check",Rk="@firebase/auth",kk="@firebase/auth-compat",Pk="@firebase/database",Nk="@firebase/data-connect",Fk="@firebase/database-compat",Ok="@firebase/functions",Dk="@firebase/functions-compat",Lk="@firebase/installations",Mk="@firebase/installations-compat",bk="@firebase/messaging",Vk="@firebase/messaging-compat",Bk="@firebase/performance",Uk="@firebase/performance-compat",jk="@firebase/remote-config",Wk="@firebase/remote-config-compat",zk="@firebase/storage",$k="@firebase/storage-compat",Hk="@firebase/firestore",Gk="@firebase/vertexai-preview",Kk="@firebase/firestore-compat",qk="firebase",Xk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",Yk={[ap]:"fire-core",[Tk]:"fire-core-compat",[Ak]:"fire-analytics",[Sk]:"fire-analytics-compat",[Ck]:"fire-app-check",[Ik]:"fire-app-check-compat",[Rk]:"fire-auth",[kk]:"fire-auth-compat",[Pk]:"fire-rtdb",[Nk]:"fire-data-connect",[Fk]:"fire-rtdb-compat",[Ok]:"fire-fn",[Dk]:"fire-fn-compat",[Lk]:"fire-iid",[Mk]:"fire-iid-compat",[bk]:"fire-fcm",[Vk]:"fire-fcm-compat",[Bk]:"fire-perf",[Uk]:"fire-perf-compat",[jk]:"fire-rc",[Wk]:"fire-rc-compat",[zk]:"fire-gcs",[$k]:"fire-gcs-compat",[Hk]:"fire-fst",[Kk]:"fire-fst-compat",[Gk]:"fire-vertex","fire-js":"fire-js",[qk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,Qk=new Map,lp=new Map;function Jv(t,e){try{t.container.addComponent(e)}catch(r){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function vo(t){const e=t.name;if(lp.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const r of Bh.values())Jv(r,t);for(const r of Qk.values())Jv(r,t);return!0}function Fm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Pu("app","Firebase",Jk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=Xk;function Nw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(r||(r=Cw()),!r)throw rs.create("no-options");const s=Bh.get(i);if(s){if(Vh(r,s.options)&&Vh(n,s.config))return s;throw rs.create("duplicate-app",{appName:i})}const a=new sk(i);for(const l of lp.values())a.addComponent(l);const o=new Zk(r,n,a);return Bh.set(i,o),o}function Fw(t=op){const e=Bh.get(t);if(!e&&t===op&&Cw())return Nw();if(!e)throw rs.create("no-app",{appName:t});return e}function ns(t,e,r){var n;let i=(n=Yk[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(o.join(" "));return}vo(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebase-heartbeat-database",tP=1,lu="firebase-heartbeat-store";let K0=null;function Ow(){return K0||(K0=_k(eP,tP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(r){console.warn(r)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),K0}async function rP(t){try{const r=(await Ow()).transaction(lu),n=await r.objectStore(lu).get(Dw(t));return await r.done,n}catch(e){if(e instanceof yi)fi.warn(e.message);else{const r=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(r.message)}}}async function Zv(t,e){try{const n=(await Ow()).transaction(lu,"readwrite");await n.objectStore(lu).put(e,Dw(t)),await n.done}catch(r){if(r instanceof yi)fi.warn(r.message);else{const n=rs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fi.warn(n.message)}}}function Dw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=1024,iP=30*24*60*60*1e3;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new oP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=e_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=iP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){fi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=e_(),{heartbeatsToSend:n,unsentEntries:i}=aP(this._heartbeatsCache.heartbeats),s=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return fi.warn(r),""}}}function e_(){return new Date().toISOString().substring(0,10)}function aP(t,e=nP){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),t_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),t_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class oP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await rP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function t_(t){return bh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){vo(new Xs("platform-logger",e=>new Ek(e),"PRIVATE")),vo(new Xs("heartbeat",e=>new sP(e),"PRIVATE")),ns(ap,Qv,t),ns(ap,Qv,"esm2017"),ns("fire-js","")}lP("");var uP="firebase",cP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(uP,cP,"app");var r_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,Lw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,E){function A(){}A.prototype=E.prototype,w.D=E.prototype,w.prototype=new A,w.prototype.constructor=w,w.C=function(C,O,V){for(var F=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)F[Ie-2]=arguments[Ie];return E.prototype[O].apply(C,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,E,A){A||(A=0);var C=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)C[O]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(O=0;16>O;++O)C[O]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=w.g[0],A=w.g[1],O=w.g[2];var V=w.g[3],F=E+(V^A&(O^V))+C[0]+3614090360&4294967295;E=A+(F<<7&4294967295|F>>>25),F=V+(O^E&(A^O))+C[1]+3905402710&4294967295,V=E+(F<<12&4294967295|F>>>20),F=O+(A^V&(E^A))+C[2]+606105819&4294967295,O=V+(F<<17&4294967295|F>>>15),F=A+(E^O&(V^E))+C[3]+3250441966&4294967295,A=O+(F<<22&4294967295|F>>>10),F=E+(V^A&(O^V))+C[4]+4118548399&4294967295,E=A+(F<<7&4294967295|F>>>25),F=V+(O^E&(A^O))+C[5]+1200080426&4294967295,V=E+(F<<12&4294967295|F>>>20),F=O+(A^V&(E^A))+C[6]+2821735955&4294967295,O=V+(F<<17&4294967295|F>>>15),F=A+(E^O&(V^E))+C[7]+4249261313&4294967295,A=O+(F<<22&4294967295|F>>>10),F=E+(V^A&(O^V))+C[8]+1770035416&4294967295,E=A+(F<<7&4294967295|F>>>25),F=V+(O^E&(A^O))+C[9]+2336552879&4294967295,V=E+(F<<12&4294967295|F>>>20),F=O+(A^V&(E^A))+C[10]+4294925233&4294967295,O=V+(F<<17&4294967295|F>>>15),F=A+(E^O&(V^E))+C[11]+2304563134&4294967295,A=O+(F<<22&4294967295|F>>>10),F=E+(V^A&(O^V))+C[12]+1804603682&4294967295,E=A+(F<<7&4294967295|F>>>25),F=V+(O^E&(A^O))+C[13]+4254626195&4294967295,V=E+(F<<12&4294967295|F>>>20),F=O+(A^V&(E^A))+C[14]+2792965006&4294967295,O=V+(F<<17&4294967295|F>>>15),F=A+(E^O&(V^E))+C[15]+1236535329&4294967295,A=O+(F<<22&4294967295|F>>>10),F=E+(O^V&(A^O))+C[1]+4129170786&4294967295,E=A+(F<<5&4294967295|F>>>27),F=V+(A^O&(E^A))+C[6]+3225465664&4294967295,V=E+(F<<9&4294967295|F>>>23),F=O+(E^A&(V^E))+C[11]+643717713&4294967295,O=V+(F<<14&4294967295|F>>>18),F=A+(V^E&(O^V))+C[0]+3921069994&4294967295,A=O+(F<<20&4294967295|F>>>12),F=E+(O^V&(A^O))+C[5]+3593408605&4294967295,E=A+(F<<5&4294967295|F>>>27),F=V+(A^O&(E^A))+C[10]+38016083&4294967295,V=E+(F<<9&4294967295|F>>>23),F=O+(E^A&(V^E))+C[15]+3634488961&4294967295,O=V+(F<<14&4294967295|F>>>18),F=A+(V^E&(O^V))+C[4]+3889429448&4294967295,A=O+(F<<20&4294967295|F>>>12),F=E+(O^V&(A^O))+C[9]+568446438&4294967295,E=A+(F<<5&4294967295|F>>>27),F=V+(A^O&(E^A))+C[14]+3275163606&4294967295,V=E+(F<<9&4294967295|F>>>23),F=O+(E^A&(V^E))+C[3]+4107603335&4294967295,O=V+(F<<14&4294967295|F>>>18),F=A+(V^E&(O^V))+C[8]+1163531501&4294967295,A=O+(F<<20&4294967295|F>>>12),F=E+(O^V&(A^O))+C[13]+2850285829&4294967295,E=A+(F<<5&4294967295|F>>>27),F=V+(A^O&(E^A))+C[2]+4243563512&4294967295,V=E+(F<<9&4294967295|F>>>23),F=O+(E^A&(V^E))+C[7]+1735328473&4294967295,O=V+(F<<14&4294967295|F>>>18),F=A+(V^E&(O^V))+C[12]+2368359562&4294967295,A=O+(F<<20&4294967295|F>>>12),F=E+(A^O^V)+C[5]+4294588738&4294967295,E=A+(F<<4&4294967295|F>>>28),F=V+(E^A^O)+C[8]+2272392833&4294967295,V=E+(F<<11&4294967295|F>>>21),F=O+(V^E^A)+C[11]+1839030562&4294967295,O=V+(F<<16&4294967295|F>>>16),F=A+(O^V^E)+C[14]+4259657740&4294967295,A=O+(F<<23&4294967295|F>>>9),F=E+(A^O^V)+C[1]+2763975236&4294967295,E=A+(F<<4&4294967295|F>>>28),F=V+(E^A^O)+C[4]+1272893353&4294967295,V=E+(F<<11&4294967295|F>>>21),F=O+(V^E^A)+C[7]+4139469664&4294967295,O=V+(F<<16&4294967295|F>>>16),F=A+(O^V^E)+C[10]+3200236656&4294967295,A=O+(F<<23&4294967295|F>>>9),F=E+(A^O^V)+C[13]+681279174&4294967295,E=A+(F<<4&4294967295|F>>>28),F=V+(E^A^O)+C[0]+3936430074&4294967295,V=E+(F<<11&4294967295|F>>>21),F=O+(V^E^A)+C[3]+3572445317&4294967295,O=V+(F<<16&4294967295|F>>>16),F=A+(O^V^E)+C[6]+76029189&4294967295,A=O+(F<<23&4294967295|F>>>9),F=E+(A^O^V)+C[9]+3654602809&4294967295,E=A+(F<<4&4294967295|F>>>28),F=V+(E^A^O)+C[12]+3873151461&4294967295,V=E+(F<<11&4294967295|F>>>21),F=O+(V^E^A)+C[15]+530742520&4294967295,O=V+(F<<16&4294967295|F>>>16),F=A+(O^V^E)+C[2]+3299628645&4294967295,A=O+(F<<23&4294967295|F>>>9),F=E+(O^(A|~V))+C[0]+4096336452&4294967295,E=A+(F<<6&4294967295|F>>>26),F=V+(A^(E|~O))+C[7]+1126891415&4294967295,V=E+(F<<10&4294967295|F>>>22),F=O+(E^(V|~A))+C[14]+2878612391&4294967295,O=V+(F<<15&4294967295|F>>>17),F=A+(V^(O|~E))+C[5]+4237533241&4294967295,A=O+(F<<21&4294967295|F>>>11),F=E+(O^(A|~V))+C[12]+1700485571&4294967295,E=A+(F<<6&4294967295|F>>>26),F=V+(A^(E|~O))+C[3]+2399980690&4294967295,V=E+(F<<10&4294967295|F>>>22),F=O+(E^(V|~A))+C[10]+4293915773&4294967295,O=V+(F<<15&4294967295|F>>>17),F=A+(V^(O|~E))+C[1]+2240044497&4294967295,A=O+(F<<21&4294967295|F>>>11),F=E+(O^(A|~V))+C[8]+1873313359&4294967295,E=A+(F<<6&4294967295|F>>>26),F=V+(A^(E|~O))+C[15]+4264355552&4294967295,V=E+(F<<10&4294967295|F>>>22),F=O+(E^(V|~A))+C[6]+2734768916&4294967295,O=V+(F<<15&4294967295|F>>>17),F=A+(V^(O|~E))+C[13]+1309151649&4294967295,A=O+(F<<21&4294967295|F>>>11),F=E+(O^(A|~V))+C[4]+4149444226&4294967295,E=A+(F<<6&4294967295|F>>>26),F=V+(A^(E|~O))+C[11]+3174756917&4294967295,V=E+(F<<10&4294967295|F>>>22),F=O+(E^(V|~A))+C[2]+718787259&4294967295,O=V+(F<<15&4294967295|F>>>17),F=A+(V^(O|~E))+C[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(O+(F<<21&4294967295|F>>>11))&4294967295,w.g[2]=w.g[2]+O&4294967295,w.g[3]=w.g[3]+V&4294967295}n.prototype.u=function(w,E){E===void 0&&(E=w.length);for(var A=E-this.blockSize,C=this.B,O=this.h,V=0;V<E;){if(O==0)for(;V<=A;)i(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<E;)if(C[O++]=w.charCodeAt(V++),O==this.blockSize){i(this,C),O=0;break}}else for(;V<E;)if(C[O++]=w[V++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=E},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;var A=8*this.o;for(E=w.length-8;E<w.length;++E)w[E]=A&255,A/=256;for(this.u(w),w=Array(16),E=A=0;4>E;++E)for(var C=0;32>C;C+=8)w[A++]=this.g[E]>>>C&255;return w};function s(w,E){var A=o;return Object.prototype.hasOwnProperty.call(A,w)?A[w]:A[w]=E(w)}function a(w,E){this.h=E;for(var A=[],C=!0,O=w.length-1;0<=O;O--){var V=w[O]|0;C&&V==E||(A[O]=V,C=!1)}this.g=A}var o={};function l(w){return-128<=w&&128>w?s(w,function(E){return new a([E|0],0>E?-1:0)}):new a([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return y(c(-w));for(var E=[],A=1,C=0;w>=A;C++)E[C]=w/A|0,A*=4294967296;return new a(E,0)}function h(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return y(h(w.substring(1),E));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(E,8)),C=f,O=0;O<w.length;O+=8){var V=Math.min(8,w.length-O),F=parseInt(w.substring(O,O+V),E);8>V?(V=c(Math.pow(E,V)),C=C.j(V).add(c(F))):(C=C.j(A),C=C.add(c(F)))}return C}var f=l(0),d=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-y(this).m();for(var w=0,E=1,A=0;A<this.g.length;A++){var C=this.i(A);w+=(0<=C?C:4294967296+C)*E,E*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(_(this))return"0";if(g(this))return"-"+y(this).toString(w);for(var E=c(Math.pow(w,6)),A=this,C="";;){var O=M(A,E).g;A=S(A,O.j(E));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(w);if(A=O,_(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function _(w){if(w.h!=0)return!1;for(var E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function g(w){return w.h==-1}t.l=function(w){return w=S(this,w),g(w)?-1:_(w)?0:1};function y(w){for(var E=w.g.length,A=[],C=0;C<E;C++)A[C]=~w.g[C];return new a(A,~w.h).add(d)}t.abs=function(){return g(this)?y(this):this},t.add=function(w){for(var E=Math.max(this.g.length,w.g.length),A=[],C=0,O=0;O<=E;O++){var V=C+(this.i(O)&65535)+(w.i(O)&65535),F=(V>>>16)+(this.i(O)>>>16)+(w.i(O)>>>16);C=F>>>16,V&=65535,F&=65535,A[O]=F<<16|V}return new a(A,A[A.length-1]&-2147483648?-1:0)};function S(w,E){return w.add(y(E))}t.j=function(w){if(_(this)||_(w))return f;if(g(this))return g(w)?y(this).j(y(w)):y(y(this).j(w));if(g(w))return y(this.j(y(w)));if(0>this.l(m)&&0>w.l(m))return c(this.m()*w.m());for(var E=this.g.length+w.g.length,A=[],C=0;C<2*E;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<w.g.length;O++){var V=this.i(C)>>>16,F=this.i(C)&65535,Ie=w.i(O)>>>16,Ce=w.i(O)&65535;A[2*C+2*O]+=F*Ce,x(A,2*C+2*O),A[2*C+2*O+1]+=V*Ce,x(A,2*C+2*O+1),A[2*C+2*O+1]+=F*Ie,x(A,2*C+2*O+1),A[2*C+2*O+2]+=V*Ie,x(A,2*C+2*O+2)}for(C=0;C<E;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=E;C<2*E;C++)A[C]=0;return new a(A,0)};function x(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function T(w,E){this.g=w,this.h=E}function M(w,E){if(_(E))throw Error("division by zero");if(_(w))return new T(f,f);if(g(w))return E=M(y(w),E),new T(y(E.g),y(E.h));if(g(E))return E=M(w,y(E)),new T(y(E.g),E.h);if(30<w.g.length){if(g(w)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var A=d,C=E;0>=C.l(w);)A=z(A),C=z(C);var O=G(A,1),V=G(C,1);for(C=G(C,2),A=G(A,2);!_(C);){var F=V.add(C);0>=F.l(w)&&(O=O.add(A),V=F),C=G(C,1),A=G(A,1)}return E=S(w,O.j(E)),new T(O,E)}for(O=f;0<=w.l(E);){for(A=Math.max(1,Math.floor(w.m()/E.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=c(A),F=V.j(E);g(F)||0<F.l(w);)A-=C,V=c(A),F=V.j(E);_(V)&&(V=d),O=O.add(V),w=S(w,F)}return new T(O,w)}t.A=function(w){return M(this,w).h},t.and=function(w){for(var E=Math.max(this.g.length,w.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)&w.i(C);return new a(A,this.h&w.h)},t.or=function(w){for(var E=Math.max(this.g.length,w.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)|w.i(C);return new a(A,this.h|w.h)},t.xor=function(w){for(var E=Math.max(this.g.length,w.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)^w.i(C);return new a(A,this.h^w.h)};function z(w){for(var E=w.g.length+1,A=[],C=0;C<E;C++)A[C]=w.i(C)<<1|w.i(C-1)>>>31;return new a(A,w.h)}function G(w,E){var A=E>>5;E%=32;for(var C=w.g.length-A,O=[],V=0;V<C;V++)O[V]=0<E?w.i(V+A)>>>E|w.i(V+A+1)<<32-E:w.i(V+A);return new a(O,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Lw=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Ws=a}).apply(typeof r_<"u"?r_:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mw,vl,bw,th,up,Vw,Bw,Uw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var n=r(this);function i(u,p){if(p)e:{var v=n;u=u.split(".");for(var k=0;k<u.length-1;k++){var H=u[k];if(!(H in v))break e;v=v[H]}u=u[u.length-1],k=v[u],p=p(k),p!=k&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var v=0,k=!1,H={next:function(){if(!k&&v<u.length){var Q=v++;return{value:p(Q,u[Q]),done:!1}}return k=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function f(u,p,v){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,k),u.apply(p,H)}}return function(){return u.apply(p,arguments)}}function d(u,p,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var k=v.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function _(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(k,H,Q){for(var ge=Array(arguments.length-2),it=2;it<arguments.length;it++)ge[it-2]=arguments[it];return p.prototype[H].apply(k,ge)}}function g(u){const p=u.length;if(0<p){const v=Array(p);for(let k=0;k<p;k++)v[k]=u[k];return v}return[]}function y(u,p){for(let v=1;v<arguments.length;v++){const k=arguments[v];if(l(k)){const H=u.length||0,Q=k.length||0;u.length=H+Q;for(let ge=0;ge<Q;ge++)u[H+ge]=k[ge]}else u.push(k)}}class S{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var z=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function G(u,p,v){for(const k in u)p.call(v,u[k],k,u)}function w(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function E(u){const p={};for(const v in u)p[v]=u[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let v,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(v in k)u[v]=k[v];for(let Q=0;Q<A.length;Q++)v=A[Q],Object.prototype.hasOwnProperty.call(k,v)&&(u[v]=k[v])}}function O(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function V(u){o.setTimeout(()=>{throw u},0)}function F(){var u=ue;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ie{constructor(){this.h=this.g=null}add(p,v){const k=Ce.get();k.set(p,v),this.h?this.h.next=k:this.g=k,this.h=k}}var Ce=new S(()=>new We,u=>u.reset());class We{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,te=!1,ue=new Ie,oe=()=>{const u=o.Promise.resolve(void 0);he=()=>{u.then(ke)}};var ke=()=>{for(var u;u=F();){try{u.h.call(u.g)}catch(v){V(v)}var p=Ce;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}te=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};o.addEventListener("test",v,p),o.removeEventListener("test",v,p)}catch{}return u}();function W(u,p){if(j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(z){e:{try{M(p.nodeName);var H=!0;break e}catch{}H=!1}H||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Z[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&W.aa.h.call(this)}}_(W,j);var Z={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Te(u,p,v,k,H){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!k,this.ha=H,this.key=++Ae,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $e(u){this.src=u,this.g={},this.h=0}$e.prototype.add=function(u,p,v,k,H){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ge=Ot(u,p,k,H);return-1<ge?(p=u[ge],v||(p.fa=!1)):(p=new Te(p,this.src,Q,!!k,H),p.fa=v,u.push(p)),p};function Me(u,p){var v=p.type;if(v in u.g){var k=u.g[v],H=Array.prototype.indexOf.call(k,p,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(k,H,1),Q&&(ve(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ot(u,p,v,k){for(var H=0;H<u.length;++H){var Q=u[H];if(!Q.da&&Q.listener==p&&Q.capture==!!v&&Q.ha==k)return H}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),Vr={};function at(u,p,v,k,H){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)at(u,p[Q],v,k,H);return null}return v=Es(v),u&&u[pe]?u.K(p,v,c(k)?!!k.capture:!!k,H):Ee(u,p,v,!1,k,H)}function Ee(u,p,v,k,H,Q){if(!p)throw Error("Invalid event type");var ge=c(H)?!!H.capture:!!H,it=xs(u);if(it||(u[Ue]=it=new $e(u)),v=it.add(p,v,k,ge,Q),v.proxy)return v;if(k=Ir(),v.proxy=k,k.src=u,k.listener=v,u.addEventListener)U||(H=ge),H===void 0&&(H=!1),u.addEventListener(p.toString(),k,H);else if(u.attachEvent)u.attachEvent($n(p.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ir(){function u(v){return p.call(u.src,u.listener,v)}const p=Xu;return u}function Zr(u,p,v,k,H){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)Zr(u,p[Q],v,k,H);else k=c(k)?!!k.capture:!!k,v=Es(v),u&&u[pe]?(u=u.i,p=String(p).toString(),p in u.g&&(Q=u.g[p],v=Ot(Q,v,k,H),-1<v&&(ve(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[p],u.h--)))):u&&(u=xs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ot(p,v,k,H)),(v=-1<u?p[u]:null)&&fn(v))}function fn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[pe])Me(p.i,u);else{var v=u.type,k=u.proxy;p.removeEventListener?p.removeEventListener(v,k,u.capture):p.detachEvent?p.detachEvent($n(v),k):p.addListener&&p.removeListener&&p.removeListener(k),(v=xs(p))?(Me(v,u),v.h==0&&(v.src=null,p[Ue]=null)):ve(u)}}}function $n(u){return u in Vr?Vr[u]:Vr[u]="on"+u}function Xu(u,p){if(u.da)u=!0;else{p=new W(p,this);var v=u.listener,k=u.ha||u.src;u.fa&&fn(u),u=v.call(k,p)}return u}function xs(u){return u=u[Ue],u instanceof $e?u:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Es(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(p){return u.handleEvent(p)}),u[Cr])}function St(){N.call(this),this.i=new $e(this),this.M=this,this.F=null}_(St,N),St.prototype[pe]=!0,St.prototype.removeEventListener=function(u,p,v,k){Zr(this,u,p,v,k)};function Dt(u,p){var v,k=u.F;if(k)for(v=[];k;k=k.F)v.push(k);if(u=u.M,k=p.type||p,typeof p=="string")p=new j(p,u);else if(p instanceof j)p.target=p.target||u;else{var H=p;p=new j(k,u),C(p,H)}if(H=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ge=p.g=v[Q];H=en(ge,k,!0,p)&&H}if(ge=p.g=u,H=en(ge,k,!0,p)&&H,H=en(ge,k,!1,p)&&H,v)for(Q=0;Q<v.length;Q++)ge=p.g=v[Q],H=en(ge,k,!1,p)&&H}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],k=0;k<v.length;k++)ve(v[k]);delete u.g[p],u.h--}}this.F=null},St.prototype.K=function(u,p,v,k){return this.i.add(String(u),p,!1,v,k)},St.prototype.L=function(u,p,v,k){return this.i.add(String(u),p,!0,v,k)};function en(u,p,v,k){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,Q=0;Q<p.length;++Q){var ge=p[Q];if(ge&&!ge.da&&ge.capture==v){var it=ge.listener,Kt=ge.ha||ge.src;ge.fa&&Me(u.i,ge),H=it.call(Kt,k)!==!1&&H}}return H&&!k.defaultPrevented}function Yu(u,p,v){if(typeof u=="function")v&&(u=d(u,v));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(u,p||0)}function Wo(u){u.g=Yu(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Qu extends N{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(u){N.call(this),this.h=u,this.g={}}_(wi,N);var zo=[];function $o(u){G(u.g,function(p,v){this.g.hasOwnProperty(v)&&fn(p)},u),u.g={}}wi.prototype.N=function(){wi.aa.N.call(this),$o(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=o.JSON.stringify,a0=o.JSON.parse,o0=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ya(){}ya.prototype.h=null;function Ho(u){return u.h||(u.h=u.i())}function Go(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ko(){j.call(this,"d")}_(Ko,j);function Ti(){j.call(this,"c")}_(Ti,j);var Hn={},Ju=null;function xa(){return Ju=Ju||new St}Hn.La="serverreachability";function Zu(u){j.call(this,Hn.La,u)}_(Zu,j);function Ts(u){const p=xa();Dt(p,new Zu(p))}Hn.STAT_EVENT="statevent";function ec(u,p){j.call(this,Hn.STAT_EVENT,u),this.stat=p}_(ec,j);function Gt(u){const p=xa();Dt(p,new ec(p,u))}Hn.Ma="timingevent";function tc(u,p){j.call(this,Hn.Ma,u),this.size=p}_(tc,j);function Gn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function Ss(){this.g=!0}Ss.prototype.xa=function(){this.g=!1};function l0(u,p,v,k,H,Q){u.info(function(){if(u.g)if(Q)for(var ge="",it=Q.split("&"),Kt=0;Kt<it.length;Kt++){var He=it[Kt].split("=");if(1<He.length){var or=He[0];He=He[1];var lr=or.split("_");ge=2<=lr.length&&lr[1]=="type"?ge+(or+"="+He+"&"):ge+(or+"=redacted&")}}else ge=null;else ge=Q;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+p+`
`+v+`
`+ge})}function u0(u,p,v,k,H,Q,ge){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+p+`
`+v+`
`+Q+" "+ge})}function I(u,p,v,k){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+P(u,v)+(k?" "+k:"")})}function L(u,p){u.info(function(){return"TIMEOUT: "+p})}Ss.prototype.info=function(){};function P(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var k=v[u];if(!(2>k.length)){var H=k[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return _a(v)}catch{return p}}var D={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},B;function K(){}_(K,ya),K.prototype.g=function(){return new XMLHttpRequest},K.prototype.i=function(){return{}},B=new K;function J(u,p,v,k){this.j=u,this.i=p,this.l=v,this.R=k||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new q}function q(){this.i=null,this.g="",this.h=!1}var X={},Y={};function ae(u,p,v){u.L=1,u.v=ic(qn(p)),u.m=v,u.P=!0,me(u,null)}function me(u,p){u.F=Date.now(),_e(u),u.A=qn(u.v);var v=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),t1(v.i,"t",k),u.C=0,v=u.j.J,u.h=new q,u.g=y1(u.j,v?p:null,!u.m),0<u.O&&(u.M=new Qu(d(u.Y,u,u.g),u.O)),p=u.U,v=u.g,k=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(zo[0]=H.toString()),H=zo);for(var Q=0;Q<H.length;Q++){var ge=at(v,H[Q],k||p.handleEvent,!1,p.h||p);if(!ge)break;p.g[ge.key]=ge}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ts(),l0(u.i,u.u,u.A,u.l,u.R,u.m)}J.prototype.ca=function(u){u=u.target;const p=this.M;p&&Xn(u)==3?p.j():this.Y(u)},J.prototype.Y=function(u){try{if(u==this.g)e:{const lr=Xn(this.g);var p=this.g.Ba();const Sa=this.g.Z();if(!(3>lr)&&(lr!=3||this.g&&(this.h.h||this.g.oa()||l1(this.g)))){this.J||lr!=4||p==7||(p==8||0>=Sa?Ts(3):Ts(2)),nt(this);var v=this.g.Z();this.X=v;t:if(ye(this)){var k=l1(this.g);u="";var H=k.length,Q=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Xe(this);var ge="";break t}this.h.i=new o.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,u+=this.h.i.decode(k[p],{stream:!(Q&&p==H-1)});k.length=0,this.h.g+=u,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=v==200,u0(this.i,this.u,this.A,this.l,this.R,lr,v),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Kt=this.g;if((it=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(it)){var He=it;break t}}He=null}if(v=He)I(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kn(this,v);else{this.o=!1,this.s=3,Gt(12),ft(this),Xe(this);break e}}if(this.P){v=!0;let dn;for(;!this.J&&this.C<ge.length;)if(dn=ce(this,ge),dn==Y){lr==4&&(this.s=4,Gt(14),v=!1),I(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==X){this.s=4,Gt(15),I(this.i,this.l,ge,"[Invalid Chunk]"),v=!1;break}else I(this.i,this.l,dn,null),Kn(this,dn);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),v=!1),this.o=this.o&&v,!v)I(this.i,this.l,ge,"[Invalid Chunked Response]"),ft(this),Xe(this);else if(0<ge.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),p0(or),or.M=!0,Gt(11))}}else I(this.i,this.l,ge,null),Kn(this,ge);lr==4&&ft(this),this.o&&!this.J&&(lr==4?m1(this.j,this):(this.o=!1,_e(this)))}else LA(this.g),v==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ft(this),Xe(this)}}}catch{}finally{}};function ye(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ce(u,p){var v=u.C,k=p.indexOf(`
`,v);return k==-1?Y:(v=Number(p.substring(v,k)),isNaN(v)?X:(k+=1,k+v>p.length?Y:(p=p.slice(k,k+v),u.C=k+v,p)))}J.prototype.cancel=function(){this.J=!0,ft(this)};function _e(u){u.S=Date.now()+u.I,Ne(u,u.I)}function Ne(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gn(d(u.ba,u),p)}function nt(u){u.B&&(o.clearTimeout(u.B),u.B=null)}J.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(L(this.i,this.A),this.L!=2&&(Ts(),Gt(17)),ft(this),this.s=2,Xe(this)):Ne(this,this.S-u)};function Xe(u){u.j.G==0||u.J||m1(u.j,u)}function ft(u){nt(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,$o(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Kn(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||Br(v.h,u))){if(!u.K&&Br(v.h,u)&&v.G==3){try{var k=v.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)cc(v),lc(v);else break e;d0(v),Gt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=Gn(d(v.Za,v),6e3));if(1>=Ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Cs(v,11)}else if((u.K||v.g==u)&&cc(v),!x(p))for(H=v.Da.g.parse(p),p=0;p<H.length;p++){let He=H[p];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const or=He[3];or!=null&&(v.la=or,v.j.info("VER="+v.la));const lr=He[4];lr!=null&&(v.Aa=lr,v.j.info("SVER="+v.Aa));const Sa=He[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&(k=1.5*Sa,v.L=k,v.j.info("backChannelRequestTimeoutMs_="+k)),k=v;const dn=u.g;if(dn){const fc=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var Q=k.h;Q.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(c0(Q,Q.h),Q.h=null))}if(k.D){const m0=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;m0&&(k.ya=m0,ot(k.I,k.D,m0))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),k=v;var ge=u;if(k.qa=_1(k,k.J?k.ia:null,k.W),ge.K){Kg(k.h,ge);var it=ge,Kt=k.L;Kt&&(it.I=Kt),it.B&&(nt(it),_e(it)),k.g=ge}else d1(k);0<v.i.length&&uc(v)}else He[0]!="stop"&&He[0]!="close"||Cs(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Cs(v,7):f0(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}Ts(4)}catch{}}var As=class{constructor(u,p){this.g=u,this.map=p}};function Si(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ea(u){return u.h?1:u.g?u.g.size:0}function Br(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function c0(u,p){u.g?u.g.add(p):u.h=p}function Kg(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Si.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return g(u.i)}function xA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],v=u.length,k=0;k<v;k++)p.push(u[k]);return p}p=[],v=0;for(k in u)p[v++]=u[k];return p}function EA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const k in u)p[v++]=k;return p}}}function Xg(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=EA(u),k=xA(u),H=k.length,Q=0;Q<H;Q++)p.call(void 0,k[Q],v&&v[Q],u)}var Yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wA(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var k=u[v].indexOf("="),H=null;if(0<=k){var Q=u[v].substring(0,k);H=u[v].substring(k+1)}else Q=u[v];p(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Is(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Is){this.h=u.h,rc(this,u.j),this.o=u.o,this.g=u.g,nc(this,u.s),this.l=u.l;var p=u.i,v=new Yo;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Qg(this,v),this.m=u.m}else u&&(p=String(u).match(Yg))?(this.h=!1,rc(this,p[1]||"",!0),this.o=qo(p[2]||""),this.g=qo(p[3]||"",!0),nc(this,p[4]),this.l=qo(p[5]||"",!0),Qg(this,p[6]||"",!0),this.m=qo(p[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Is.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Xo(p,Jg,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Xo(p,Jg,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Xo(v,v.charAt(0)=="/"?AA:SA,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Xo(v,CA)),u.join("")};function qn(u){return new Is(u)}function rc(u,p,v){u.j=v?qo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function nc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Qg(u,p,v){p instanceof Yo?(u.i=p,RA(u.i,u.h)):(v||(p=Xo(p,IA)),u.i=new Yo(p,u.h))}function ot(u,p,v){u.i.set(p,v)}function ic(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xo(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,TA),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function TA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jg=/[#\/\?@]/g,SA=/[#\?:]/g,AA=/[#\?]/g,IA=/[#\?@]/g,CA=/#/g;function Yo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ai(u){u.g||(u.g=new Map,u.h=0,u.i&&wA(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Yo.prototype,t.add=function(u,p){Ai(this),this.i=null,u=wa(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Zg(u,p){Ai(u),p=wa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function e1(u,p){return Ai(u),p=wa(u,p),u.g.has(p)}t.forEach=function(u,p){Ai(this),this.g.forEach(function(v,k){v.forEach(function(H){u.call(p,H,k,this)},this)},this)},t.na=function(){Ai(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let k=0;k<p.length;k++){const H=u[k];for(let Q=0;Q<H.length;Q++)v.push(p[k])}return v},t.V=function(u){Ai(this);let p=[];if(typeof u=="string")e1(this,u)&&(p=p.concat(this.g.get(wa(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return Ai(this),this.i=null,u=wa(this,u),e1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function t1(u,p,v){Zg(u,p),0<v.length&&(u.i=null,u.g.set(wa(u,p),g(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var k=p[v];const Q=encodeURIComponent(String(k)),ge=this.V(k);for(k=0;k<ge.length;k++){var H=Q;ge[k]!==""&&(H+="="+encodeURIComponent(String(ge[k]))),u.push(H)}}return this.i=u.join("&")};function wa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function RA(u,p){p&&!u.j&&(Ai(u),u.i=null,u.g.forEach(function(v,k){var H=k.toLowerCase();k!=H&&(Zg(this,k),t1(this,H,v))},u)),u.j=p}function kA(u,p){const v=new Ss;if(o.Image){const k=new Image;k.onload=m(Ii,v,"TestLoadImage: loaded",!0,p,k),k.onerror=m(Ii,v,"TestLoadImage: error",!1,p,k),k.onabort=m(Ii,v,"TestLoadImage: abort",!1,p,k),k.ontimeout=m(Ii,v,"TestLoadImage: timeout",!1,p,k),o.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else p(!1)}function PA(u,p){const v=new Ss,k=new AbortController,H=setTimeout(()=>{k.abort(),Ii(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:k.signal}).then(Q=>{clearTimeout(H),Q.ok?Ii(v,"TestPingServer: ok",!0,p):Ii(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),Ii(v,"TestPingServer: error",!1,p)})}function Ii(u,p,v,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(v)}catch{}}function NA(){this.g=new o0}function FA(u,p,v){const k=v||"";try{Xg(u,function(H,Q){let ge=H;c(H)&&(ge=_a(H)),p.push(k+Q+"="+encodeURIComponent(ge))})}catch(H){throw p.push(k+"type="+encodeURIComponent("_badmap")),H}}function sc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(sc,ya),sc.prototype.g=function(){return new ac(this.l,this.j)},sc.prototype.i=function(u){return function(){return u}}({});function ac(u,p){St.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ac,St),t=ac.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Jo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function r1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qo(this):Jo(this),this.readyState==3&&r1(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Qo(this))},t.Qa=function(u){this.g&&(this.response=u,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Jo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function n1(u){let p="";return G(u,function(v,k){p+=k,p+=":",p+=v,p+=`\r
`}),p}function h0(u,p,v){e:{for(k in v){var k=!1;break e}k=!0}k||(v=n1(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ot(u,p,v))}function _t(u){St.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(_t,St);var OA=/^https?$/i,DA=["POST","PUT"];t=_t.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():B.g(),this.v=this.o?Ho(this.o):Ho(B),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Q){i1(this,Q);return}if(u=v||"",v=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)v.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())v.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(DA,p,void 0))||k||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ge]of v)this.g.setRequestHeader(Q,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{o1(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){i1(this,Q)}};function i1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,s1(u),oc(u)}function s1(u){u.A||(u.A=!0,Dt(u,"complete"),Dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Dt(this,"complete"),Dt(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a1(this):this.bb())},t.bb=function(){a1(this)};function a1(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Xn(u)!=4||u.Z()!=2)){if(u.u&&Xn(u)==4)Yu(u.Ea,0,u);else if(Dt(u,"readystatechange"),Xn(u)==4){u.h=!1;try{const ge=u.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var k;if(k=ge===0){var H=String(u.D).match(Yg)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),k=!OA.test(H?H.toLowerCase():"")}v=k}if(v)Dt(u,"complete"),Dt(u,"success");else{u.m=6;try{var Q=2<Xn(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",s1(u)}}finally{oc(u)}}}}function oc(u,p){if(u.g){o1(u);const v=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Dt(u,"ready");try{v.onreadystatechange=k}catch{}}}function o1(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Xn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),a0(p)}};function l1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function LA(u){const p={};u=(u.g&&2<=Xn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(x(u[k]))continue;var v=O(u[k]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=p[H]||[];p[H]=Q,Q.push(v)}w(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function u1(u){this.Aa=0,this.i=[],this.j=new Ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zo("baseRetryDelayMs",5e3,u),this.cb=Zo("retryDelaySeedMs",1e4,u),this.Wa=Zo("forwardChannelMaxRetries",2,u),this.wa=Zo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(u&&u.concurrentRequestLimit),this.Da=new NA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u1.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,k){Gt(0),this.W=u,this.H=p||{},v&&k!==void 0&&(this.H.OSID=v,this.H.OAID=k),this.F=this.X,this.I=_1(this,null,this.W),uc(this)};function f0(u){if(c1(u),u.G==3){var p=u.U++,v=qn(u.I);if(ot(v,"SID",u.K),ot(v,"RID",p),ot(v,"TYPE","terminate"),el(u,v),p=new J(u,u.j,p),p.L=2,p.v=ic(qn(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=p.v,v=!0),v||(p.g=y1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),_e(p)}v1(u)}function lc(u){u.g&&(p0(u),u.g.cancel(),u.g=null)}function c1(u){lc(u),u.u&&(o.clearTimeout(u.u),u.u=null),cc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function uc(u){if(!kn(u.h)&&!u.s){u.s=!0;var p=u.Ga;he||oe(),te||(he(),te=!0),ue.add(p,u),u.B=0}}function MA(u,p){return Ea(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gn(d(u.Ga,u,p),g1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new J(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=E(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var k=this.i[v];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=f1(this,H,p),v=qn(this.I),ot(v,"RID",u),ot(v,"CVER",22),this.D&&ot(v,"X-HTTP-Session-Id",this.D),el(this,v),Q&&(this.O?p="headers="+encodeURIComponent(String(n1(Q)))+"&"+p:this.m&&h0(v,this.m,Q)),c0(this.h,H),this.Ua&&ot(v,"TYPE","init"),this.P?(ot(v,"$req",p),ot(v,"SID","null"),H.T=!0,ae(H,v,null)):ae(H,v,p),this.G=2}}else this.G==3&&(u?h1(this,u):this.i.length==0||kn(this.h)||h1(this))};function h1(u,p){var v;p?v=p.l:v=u.U++;const k=qn(u.I);ot(k,"SID",u.K),ot(k,"RID",v),ot(k,"AID",u.T),el(u,k),u.m&&u.o&&h0(k,u.m,u.o),v=new J(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=f1(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),c0(u.h,v),ae(v,k,p)}function el(u,p){u.H&&G(u.H,function(v,k){ot(p,k,v)}),u.l&&Xg({},function(v,k){ot(p,k,v)})}function f1(u,p,v){v=Math.min(u.i.length,v);var k=u.l?d(u.l.Na,u.l,u):null;e:{var H=u.i;let Q=-1;for(;;){const ge=["count="+v];Q==-1?0<v?(Q=H[0].g,ge.push("ofs="+Q)):Q=0:ge.push("ofs="+Q);let it=!0;for(let Kt=0;Kt<v;Kt++){let He=H[Kt].g;const or=H[Kt].map;if(He-=Q,0>He)Q=Math.max(0,H[Kt].g-100),it=!1;else try{FA(or,ge,"req"+He+"_")}catch{k&&k(or)}}if(it){k=ge.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,k}function d1(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;he||oe(),te||(he(),te=!0),ue.add(p,u),u.v=0}}function d0(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gn(d(u.Fa,u),g1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,p1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gn(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),lc(this),p1(this))};function p0(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function p1(u){u.g=new J(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=qn(u.qa);ot(p,"RID","rpc"),ot(p,"SID",u.K),ot(p,"AID",u.T),ot(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(p,"TO",u.ja),ot(p,"TYPE","xmlhttp"),el(u,p),u.m&&u.o&&h0(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ic(qn(p)),v.m=null,v.P=!0,me(v,u)}t.Za=function(){this.C!=null&&(this.C=null,lc(this),d0(this),Gt(19))};function cc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function m1(u,p){var v=null;if(u.g==p){cc(u),p0(u),u.g=null;var k=2}else if(Br(u.h,p))v=p.D,Kg(u.h,p),k=1;else return;if(u.G!=0){if(p.o)if(k==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var H=u.B;k=xa(),Dt(k,new tc(k,v)),uc(u)}else d1(u);else if(H=p.s,H==3||H==0&&0<p.X||!(k==1&&MA(u,p)||k==2&&d0(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),H){case 1:Cs(u,5);break;case 4:Cs(u,10);break;case 3:Cs(u,6);break;default:Cs(u,2)}}}function g1(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Cs(u,p){if(u.j.info("Error code "+p),p==2){var v=d(u.fb,u),k=u.Xa;const H=!k;k=new Is(k||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||rc(k,"https"),ic(k),H?kA(k.toString(),v):PA(k.toString(),v)}else Gt(2);u.G=0,u.l&&u.l.sa(p),v1(u),c1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function v1(u){if(u.G=0,u.ka=[],u.l){const p=qg(u.h);(p.length!=0||u.i.length!=0)&&(y(u.ka,p),y(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function _1(u,p,v){var k=v instanceof Is?qn(v):new Is(v);if(k.g!="")p&&(k.g=p+"."+k.g),nc(k,k.s);else{var H=o.location;k=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var Q=new Is(null);k&&rc(Q,k),p&&(Q.g=p),H&&nc(Q,H),v&&(Q.l=v),k=Q}return v=u.D,p=u.ya,v&&p&&ot(k,v,p),ot(k,"VER",u.la),el(u,k),k}function y1(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new _t(new sc({eb:v})):new _t(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x1(){}t=x1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hc(){}hc.prototype.g=function(u,p){return new Ur(u,p)};function Ur(u,p){St.call(this),this.g=new u1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ta(this)}_(Ur,St),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){f0(this.g)},Ur.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=_a(u),u=v);p.i.push(new As(p.Ya++,u)),p.G==3&&uc(p)},Ur.prototype.N=function(){this.g.l=null,delete this.j,f0(this.g),delete this.g,Ur.aa.N.call(this)};function E1(u){Ko.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(E1,Ko);function w1(){Ti.call(this),this.status=1}_(w1,Ti);function Ta(u){this.g=u}_(Ta,x1),Ta.prototype.ua=function(){Dt(this.g,"a")},Ta.prototype.ta=function(u){Dt(this.g,new E1(u))},Ta.prototype.sa=function(u){Dt(this.g,new w1)},Ta.prototype.ra=function(){Dt(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,Uw=function(){return new hc},Bw=function(){return xa()},Vw=Hn,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},D.NO_ERROR=0,D.TIMEOUT=8,D.HTTP_ERROR=6,th=D,b.COMPLETE="complete",bw=b,Go.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",St.prototype.listen=St.prototype.K,vl=Go,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Mw=_t}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Pm("@firebase/firestore");function ul(){return Ys.logLevel}function Se(t,...e){if(Ys.logLevel<=Be.DEBUG){const r=e.map(Om);Ys.debug(`Firestore (${Do}): ${t}`,...r)}}function di(t,...e){if(Ys.logLevel<=Be.ERROR){const r=e.map(Om);Ys.error(`Firestore (${Do}): ${t}`,...r)}}function _o(t,...e){if(Ys.logLevel<=Be.WARN){const r=e.map(Om);Ys.warn(`Firestore (${Do}): ${t}`,...r)}}function Om(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw di(e),new Error(e)}function et(t,e){t||Fe()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends yi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(fr.UNAUTHENTICATED))}shutdown(){}}class fP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class dP{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){et(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new is,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new is)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new jw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new fr(e)}}class pP{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mP{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new pP(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){et(this.o===void 0);const n=s=>{s.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(et(typeof r.token=="string"),this.R=r.token,new gP(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=_P(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ke(t,e){return t<e?-1:t>e?1:0}function yo(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new we(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Vt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Vt(0,0))}static max(){return new Oe(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,r,n){r===void 0?r=0:r>e.length&&Fe(),n===void 0?n=e.length-r:n>e.length-r&&Fe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return uu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof uu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ut extends uu{construct(e,r,n){return new ut(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ut(r)}static emptyPath(){return new ut([])}}const yP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends uu{construct(e,r,n){return new Jt(e,r,n)}static isValidIdentifier(e){return yP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new we(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new we(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(r)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ut.fromString(e))}static fromName(e){return new Re(ut.fromString(e).popFirst(5))}static empty(){return new Re(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ut.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ut(e.slice()))}}function xP(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(n===1e9?new Vt(r+1,0):new Vt(r,n));return new us(i,Re.empty(),e)}function EP(t){return new us(t.readTime,t.key,-1)}class us{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new us(Oe.min(),Re.empty(),-1)}static max(){return new us(Oe.max(),Re.empty(),-1)}}function wP(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(t.documentKey,e.documentKey),r!==0?r:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==TP)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,n)=>{r(e)})}static reject(e){return new se((r,n)=>{n(e)})}static waitFor(e){return new se((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=se.resolve(!1);for(const n of e)r=r.next(i=>i?se.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new se((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(h=>{a[c]=h,++o,o===s&&n(a)},h=>i(h))}})}static doWhile(e,r){return new se((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function AP(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dm.oe=-1;function Df(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function IP(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function la(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function zw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,r){this.comparator=e,this.root=r||Qt.EMPTY}insert(e,r){return new vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Qt(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Qt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new rr(this.comparator);return r.data=e,r}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Kr([])}unionWith(e){let r=new rr(Jt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Kr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $w("Invalid base64 string: "+s):s}}(e);return new sr(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(et(!!t),typeof t=="string"){let e=0;const r=CP.exec(t);if(et(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Mm(t){const e=t.mapValue.fields.__previous_value__;return Lm(e)?Mm(e):e}function cu(t){const e=cs(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,r,n,i,s,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class hu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:PP(t)?9007199254740991:kP(t)?10:11:Fe()}function Wn(t,e){if(t===e)return!0;const r=Js(t);if(r!==Js(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=cs(i.timestampValue),o=cs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qs(i.bytesValue).isEqual(Qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wt(i.geoPointValue.latitude)===wt(s.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wt(i.integerValue)===wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wt(i.doubleValue),o=wt(s.doubleValue);return a===o?Uh(a)===Uh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(i_(a)!==i_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Wn(a[l],o[l])))return!1;return!0}(t,e);default:return Fe()}}function fu(t,e){return(t.values||[]).find(r=>Wn(r,e))!==void 0}function xo(t,e){if(t===e)return 0;const r=Js(t),n=Js(e);if(r!==n)return Ke(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=wt(s.integerValue||s.doubleValue),l=wt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(cu(t),cu(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Qs(s),l=Qs(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ke(o[c],l[c]);if(h!==0)return h}return Ke(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ke(wt(s.latitude),wt(a.latitude));return o!==0?o:Ke(wt(s.longitude),wt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return o_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const f=s.fields||{},d=a.fields||{},m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Ke(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:o_(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Fc.mapValue&&a===Fc.mapValue)return 0;if(s===Fc.mapValue)return 1;if(a===Fc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ke(l[f],h[f]);if(d!==0)return d;const m=xo(o[l[f]],c[h[f]]);if(m!==0)return m}return Ke(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const r=cs(t),n=cs(e),i=Ke(r.seconds,n.seconds);return i!==0?i:Ke(r.nanos,n.nanos)}function o_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=xo(r[i],n[i]);if(s)return s}return Ke(r.length,n.length)}function Eo(t){return cp(t)}function cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=cs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Qs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Re.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=cp(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${cp(r.fields[a])}`;return i+"}"}(t.mapValue):Fe()}function l_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hp(t){return!!t&&"integerValue"in t}function bm(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function kP(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Nl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Nl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function PP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!rh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(r)}setAll(e){let r=Jt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Nl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());rh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){la(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new kr(Nl(this.value))}}function Hw(t){const e=[];return la(t.fields,(r,n)=>{const i=new Jt([r]);if(rh(n)){const s=Hw(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new pr(e,0,Oe.min(),Oe.min(),Oe.min(),kr.empty(),0)}static newFoundDocument(e,r,n,i){return new pr(e,1,r,Oe.min(),n,i,0)}static newNoDocument(e,r){return new pr(e,2,r,Oe.min(),Oe.min(),kr.empty(),0)}static newUnknownDocument(e,r){return new pr(e,3,r,Oe.min(),Oe.min(),kr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,r){this.position=e,this.inclusive=r}}function h_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Re.comparator(Re.fromName(a.referenceValue),r.key):n=xo(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Wn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,r="asc"){this.field=e,this.dir=r}}function NP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{}class Rt extends Gw{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new OP(e,r,n):r==="array-contains"?new MP(e,n):r==="in"?new bP(e,n):r==="not-in"?new VP(e,n):r==="array-contains-any"?new BP(e,n):new Rt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new DP(e,n):new LP(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(xo(r,this.value)):r!==null&&Js(this.value)===Js(r)&&this.matchesComparison(xo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends Gw{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Cn(e,r)}matches(e){return Kw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Kw(t){return t.op==="and"}function qw(t){return FP(t)&&Kw(t)}function FP(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function fp(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(qw(t))return t.filters.map(e=>fp(e)).join(",");{const e=t.filters.map(r=>fp(r)).join(",");return`${t.op}(${e})`}}function Xw(t,e){return t instanceof Rt?function(n,i){return i instanceof Rt&&n.op===i.op&&n.field.isEqual(i.field)&&Wn(n.value,i.value)}(t,e):t instanceof Cn?function(n,i){return i instanceof Cn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&Xw(a,i.filters[o]),!0):!1}(t,e):void Fe()}function Yw(t){return t instanceof Rt?function(r){return`${r.field.canonicalString()} ${r.op} ${Eo(r.value)}`}(t):t instanceof Cn?function(r){return r.op.toString()+" {"+r.getFilters().map(Yw).join(" ,")+"}"}(t):"Filter"}class OP extends Rt{constructor(e,r,n){super(e,r,n),this.key=Re.fromName(n.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class DP extends Rt{constructor(e,r){super(e,"in",r),this.keys=Qw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class LP extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=Qw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Qw(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Re.fromName(n.referenceValue))}class MP extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bm(r)&&fu(r.arrayValue,this.value)}}class bP extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fu(this.value.arrayValue,r)}}class VP extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!fu(this.value.arrayValue,r)}}class BP extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>fu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function d_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new UP(t,e,r,n,i,s,a)}function Vm(t){const e=De(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>fp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Df(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Eo(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Eo(n)).join(",")),e.ue=r}return e.ue}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!NP(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Xw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function dp(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jP(t,e,r,n,i,s,a,o){return new Du(t,e,r,n,i,s,a,o)}function Um(t){return new Du(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jw(t){return t.collectionGroup!==null}function Fl(t){const e=De(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new rr(Jt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wh(s,n))}),r.has(Jt.keyField().canonicalString())||e.ce.push(new Wh(Jt.keyField(),n))}return e.ce}function bn(t){const e=De(t);return e.le||(e.le=WP(e,Fl(t))),e.le}function WP(t,e){if(t.limitType==="F")return d_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wh(i.field,s)});const r=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;return d_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function pp(t,e){const r=t.filters.concat([e]);return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,r){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Lf(t,e){return Bm(bn(t),bn(e))&&t.limitType===e.limitType}function Zw(t){return`${Vm(bn(t))}|lt:${t.limitType}`}function Pa(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Yw(i)).join(", ")}]`),Df(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Eo(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Eo(i)).join(",")),`Target(${n})`}(bn(t))}; limitType=${t.limitType})`}function Mf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Re.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Fl(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=h_(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,Fl(n),i)||n.endAt&&!function(a,o,l){const c=h_(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,Fl(n),i))}(t,e)}function zP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e2(t){return(e,r)=>{let n=!1;for(const i of Fl(t)){const s=$P(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function $P(t,e,r){const n=t.field.isKeyField()?Re.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?xo(l,c):Fe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new vt(Re.comparator);function pi(){return HP}const t2=new vt(Re.comparator);function _l(...t){let e=t2;for(const r of t)e=e.insert(r.key,r);return e}function r2(t){let e=t2;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Vs(){return Ol()}function n2(){return Ol()}function Ol(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const GP=new vt(Re.comparator),KP=new rr(Re.comparator);function Ve(...t){let e=KP;for(const r of t)e=e.add(r);return e}const qP=new rr(Ke);function XP(){return qP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function i2(t){return{integerValue:""+t}}function YP(t,e){return IP(e)?i2(e):jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function QP(t,e,r){return t instanceof zh?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lm(s)&&(s=Mm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof du?a2(t,e):t instanceof pu?o2(t,e):function(i,s){const a=s2(i,s),o=m_(a)+m_(i.Pe);return hp(a)&&hp(i.Pe)?i2(o):jm(i.serializer,o)}(t,e)}function JP(t,e,r){return t instanceof du?a2(t,e):t instanceof pu?o2(t,e):r}function s2(t,e){return t instanceof $h?function(n){return hp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class zh extends bf{}class du extends bf{constructor(e){super(),this.elements=e}}function a2(t,e){const r=l2(e);for(const n of t.elements)r.some(i=>Wn(i,n))||r.push(n);return{arrayValue:{values:r}}}class pu extends bf{constructor(e){super(),this.elements=e}}function o2(t,e){let r=l2(e);for(const n of t.elements)r=r.filter(i=>!Wn(i,n));return{arrayValue:{values:r}}}class $h extends bf{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function m_(t){return wt(t.integerValue||t.doubleValue)}function l2(t){return bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZP(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof du&&i instanceof du||n instanceof pu&&i instanceof pu?yo(n.elements,i.elements,Wn):n instanceof $h&&i instanceof $h?Wn(n.Pe,i.Pe):n instanceof zh&&i instanceof zh}(t.transform,e.transform)}class eN{constructor(e,r){this.version=e,this.transformResults=r}}class Sn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vf{}function u2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wm(t.key,Sn.none()):new Lu(t.key,t.data,Sn.none());{const r=t.data,n=kr.empty();let i=new rr(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new _s(t.key,n,new Kr(i.toArray()),Sn.none())}}function tN(t,e,r){t instanceof Lu?function(i,s,a){const o=i.value.clone(),l=v_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof _s?function(i,s,a){if(!nh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=v_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(c2(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Dl(t,e,r,n){return t instanceof Lu?function(s,a,o,l){if(!nh(s.precondition,a))return o;const c=s.value.clone(),h=__(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof _s?function(s,a,o,l){if(!nh(s.precondition,a))return o;const c=__(s.fieldTransforms,l,a),h=a.data;return h.setAll(c2(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return nh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function rN(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=s2(n.transform,i||null);s!=null&&(r===null&&(r=kr.empty()),r.set(n.field,s))}return r||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yo(n,i,(s,a)=>ZP(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends Vf{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _s extends Vf{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function c2(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function v_(t,e,r){const n=new Map;et(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,JP(a,o,r[i]))}return n}function __(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,QP(s,a,e))}return n}class Wm extends Vf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends Vf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tN(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Dl(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Dl(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=n2();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=u2(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(r,n)=>g_(r,n))&&yo(this.baseMutations,e.baseMutations,(r,n)=>g_(r,n))}}class zm{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){et(e.mutations.length===n.length);let i=function(){return GP}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new zm(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,je;function oN(t){switch(t){default:return Fe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function h2(t){if(t===void 0)return di("GRPC error has no .code"),re.UNKNOWN;switch(t){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return Fe()}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new Ws([4294967295,4294967295],0);function y_(t){const e=lN().encode(t),r=new Lw;return r.update(e),new Uint8Array(r.digest())}function x_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ws([r,n],0),new Ws([i,s],0)]}class $m{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new yl(`Invalid padding: ${r}`);if(n<0)throw new yl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new yl(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ws.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ws.fromNumber(n)));return i.compare(uN)===1&&(i=new Ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=y_(e),[n,i]=x_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new $m(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=y_(e),[n,i]=x_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Bf(Oe.min(),i,new vt(Ke),pi(),Ve())}}class Mu{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Mu(n,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class f2{constructor(e,r){this.targetId=e,this.me=r}}class d2{constructor(e,r,n=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class E_{constructor(){this.fe=0,this.ge=T_(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),r=Ve(),n=Ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Fe()}}),new Mu(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=T_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cN{constructor(e){this.Le=e,this.Be=new Map,this.ke=pi(),this.qe=w_(),this.Qe=new vt(Ke)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(dp(s))if(n===0){const a=new Re(s.path);this.Ue(r,a,pr.newNoDocument(a,Oe.min()))}else et(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Qs(n).toUint8Array()}catch(l){if(l instanceof $w)return _o("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new $m(a,i,s)}catch(l){return _o(l instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&dp(o.target)){const l=new Re(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,pr.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Ve();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Bf(e,r,this.Qe,this.ke,n);return this.ke=pi(),this.qe=w_(),this.Qe=new vt(Ke),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new E_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new rr(Ke),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Se("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new E_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function w_(){return new vt(Re.comparator)}function T_(){return new vt(Re.comparator)}const hN={asc:"ASCENDING",desc:"DESCENDING"},fN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class pN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function gp(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function Hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mN(t,e){return Hh(t,e.toTimestamp())}function Vn(t){return et(!!t),Oe.fromTimestamp(function(r){const n=cs(r);return new Vt(n.seconds,n.nanos)}(t))}function Hm(t,e){return vp(t,e).canonicalString()}function vp(t,e){const r=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function m2(t){const e=ut.fromString(t);return et(x2(e)),e}function _p(t,e){return Hm(t.databaseId,e.path)}function q0(t,e){const r=m2(e);if(r.get(1)!==t.databaseId.projectId)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new we(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Re(v2(r))}function g2(t,e){return Hm(t.databaseId,e)}function gN(t){const e=m2(t);return e.length===4?ut.emptyPath():v2(e)}function yp(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v2(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S_(t,e,r){return{name:_p(t,e),fields:r.value.mapValue.fields}}function vN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(et(h===void 0||typeof h=="string"),sr.fromBase64String(h||"")):(et(h===void 0||h instanceof Buffer||h instanceof Uint8Array),sr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?re.UNKNOWN:h2(c.code);return new we(h,c.message||"")}(a);r=new d2(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=q0(t,n.document.name),s=Vn(n.document.updateTime),a=n.document.createTime?Vn(n.document.createTime):Oe.min(),o=new kr({mapValue:{fields:n.document.fields}}),l=pr.newFoundDocument(i,s,a,o),c=n.targetIds||[],h=n.removedTargetIds||[];r=new ih(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=q0(t,n.document),s=n.readTime?Vn(n.readTime):Oe.min(),a=pr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new ih([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=q0(t,n.document),s=n.removedTargetIds||[];r=new ih([],s,i,null)}else{if(!("filter"in e))return Fe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new aN(i,s),o=n.targetId;r=new f2(o,a)}}return r}function _N(t,e){let r;if(e instanceof Lu)r={update:S_(t,e.key,e.value)};else if(e instanceof Wm)r={delete:_p(t,e.key)};else if(e instanceof _s)r={update:S_(t,e.key,e.data),updateMask:CN(e.fieldMask)};else{if(!(e instanceof nN))return Fe();r={verify:_p(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof zh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof du)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof pu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $h)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Fe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe()}(t,e.precondition)),r}function yN(t,e){return t&&t.length>0?(et(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Vn(i.updateTime):Vn(s);return a.isEqual(Oe.min())&&(a=Vn(s)),new eN(a,i.transformResults||[])}(r,e))):[]}function xN(t,e){return{documents:[g2(t,e.path)]}}function EN(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=g2(t,i);const s=function(c){if(c.length!==0)return y2(Cn.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Na(d.field),direction:SN(d.dir)}}(h))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=gp(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function wN(t){let e=gN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){et(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];r.where&&(s=function(f){const d=_2(f);return d instanceof Cn&&qw(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(d=>function(_){return new Wh(Fa(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Df(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new jh(m,d)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new jh(m,d)}(r.endAt)),jP(e,i,a,s,o,"F",l,c)}function TN(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function _2(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Fa(r.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(r.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fa(r.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Fa(r.unaryFilter.field);return Rt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(r){return Rt.create(Fa(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Cn.create(r.compositeFilter.filters.map(n=>_2(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe()}}(r.compositeFilter.op))}(t):Fe()}function SN(t){return hN[t]}function AN(t){return fN[t]}function IN(t){return dN[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Fa(t){return Jt.fromServerFormat(t.fieldPath)}function y2(t){return t instanceof Rt?function(r){if(r.op==="=="){if(c_(r.value))return{unaryFilter:{field:Na(r.field),op:"IS_NAN"}};if(u_(r.value))return{unaryFilter:{field:Na(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(c_(r.value))return{unaryFilter:{field:Na(r.field),op:"IS_NOT_NAN"}};if(u_(r.value))return{unaryFilter:{field:Na(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(r.field),op:AN(r.op),value:r.value}}}(t):t instanceof Cn?function(r){const n=r.getFilters().map(i=>y2(i));return n.length===1?n[0]:{compositeFilter:{op:IN(r.op),filters:n}}}(t):Fe()}function CN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function x2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,r,n,i,s=Oe.min(),a=Oe.min(),o=sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.ct=e}}function kN(t){const e=wN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.un=new NN}addToCollectionParentIndex(e,r){return this.un.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(us.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(us.min())}updateCollectionGroup(e,r,n){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class NN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new rr(ut.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rr(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wo(0)}static kn(){return new wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.changes=new Lo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Dl(n.mutation,i,Kr.empty(),Vt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ve()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ve()){const i=Vs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=_l();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Vs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ve()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=pi();const a=Ol(),o=function(){return Ol()}();return r.forEach((l,c)=>{const h=n.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof _s)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Dl(h.mutation,c,h.mutation.getFieldMask(),Vt.now())):a.set(c.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),r.forEach((c,h)=>{var f;return o.set(c,new ON(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Ol();let i=new vt((a,o)=>a-o),s=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let h=n.get(l)||Kr.empty();h=o.applyToLocalView(c,h),n.set(l,h);const f=(i.get(o.batchId)||Ve()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=n2();h.forEach(d=>{if(!s.has(d)){const m=u2(r.get(d),n.get(d));m!==null&&f.set(d,m),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return se.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Jw(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):se.resolve(Vs());let o=-1,l=s;return a.next(c=>se.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?se.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ve())).next(h=>({batchId:o,changes:r2(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next(n=>{let i=_l();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=_l();return this.indexManager.getCollectionParents(e,s).next(o=>se.forEach(o,l=>{const c=function(f,d){return new Du(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,pr.newInvalidDocument(h)))});let o=_l();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Dl(h.mutation,c,Kr.empty(),Vt.now()),Mf(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return se.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:kN(i.bundledQuery),readTime:Vn(i.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.overlays=new vt(Re.comparator),this.Ir=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Vs();return se.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),se.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),se.resolve()}getOverlaysForCollection(e,r,n){const i=Vs(),s=r.length+1,a=new Re(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new vt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=s.get(c.largestBatchId);h===null&&(h=Vs(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Vs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return se.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new sN(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ve(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Tr=new rr(Ut.Er),this.dr=new rr(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ut(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ut(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Re(new ut([])),n=new Ut(r,e),i=new Ut(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Re(new ut([])),n=new Ut(r,e),i=new Ut(r,e+1);let s=Ve();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Ut(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ut{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Re.comparator(e.key,r.key)||Ke(e.wr,r.wr)}static Ar(e,r){return Ke(e.wr,r.wr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new rr(Ut.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new iN(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Ut(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,r){return se.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ut(r,0),i=new Ut(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rr(Ke);return r.forEach(i=>{const s=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),se.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Re.isDocumentKey(s)||(s=s.child(""));const a=new Ut(new Re(s),0);let o=new rr(Ke);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),se.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){et(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return se.forEach(r.mutations,i=>{const s=new Ut(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ut(r,0),i=this.br.firstAfterOrEqual(n);return se.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.Mr=e,this.docs=function(){return new vt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return se.resolve(n?n.document.mutableCopy():pr.newInvalidDocument(r))}getEntries(e,r){let n=pi();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():pr.newInvalidDocument(i))}),se.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=pi();const a=r.path,o=new Re(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||wP(EP(h),n)<=0||(i.has(h.key)||Mf(r,h))&&(s=s.insert(h.key,h.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Fe()}Or(e,r){return se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new UN(this)}getSize(e){return se.resolve(this.size)}}class UN extends FN{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),se.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.persistence=e,this.Nr=new Lo(r=>Vm(r),Bm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gm,this.targetCount=0,this.kr=wo.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),se.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new wo(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.Kn(r),se.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return se.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),se.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return se.resolve(n)}containsKey(e,r){return se.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Dm(0),this.Kr=!1,this.Kr=!0,this.$r=new bN,this.referenceDelegate=e(this),this.Ur=new jN(this),this.indexManager=new PN,this.remoteDocumentCache=function(i){return new BN(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new RN(r),this.Gr=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new MN,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new VN(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Se("MemoryPersistence","Starting transaction:",e);const i=new zN(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return se.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class zN extends SP{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Jr=new Gm,this.Yr=null}static Zr(e){return new Km(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),se.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),se.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,n=>{const i=Re.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Oe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return se.or([()=>se.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ve(),i=Ve();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qm(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GR()?8:AP(_r())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new $N;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ul()<=Be.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Pa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(ul()<=Be.DEBUG&&Se("QueryEngine","Query:",Pa(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ul()<=Be.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Pa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(r))):se.resolve())}Yi(e,r){if(p_(r))return se.resolve(null);let n=bn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=mp(r,null,"F"),n=bn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ve(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,mp(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return p_(r)||i.isEqual(Oe.min())?se.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?se.resolve(null):(ul()<=Be.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pa(r)),this.rs(e,a,r,xP(i,-1)).next(o=>o))})}ts(e,r){let n=new rr(e2(e));return r.forEach((i,s)=>{Mf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return ul()<=Be.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Pa(r)),this.Ji.getDocumentsMatchingQuery(e,r,us.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new vt(Ke),this._s=new Lo(s=>Vm(s),Bm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function KN(t,e,r,n){return new GN(t,e,r,n)}async function E2(t,e){const r=De(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Ve();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function qN(t,e){const r=De(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let m=se.resolve();return d.forEach(_=>{m=m.next(()=>h.getEntry(l,_)).next(g=>{const y=c.docVersions.get(_);et(y!==null),g.version.compareTo(y)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),h.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ve();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function w2(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function XN(t,e){const r=De(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(s,h.addedDocuments,f)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(sr.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(f,m),function(g,y,S){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,m,h)&&o.push(r.Ur.updateTargetData(s,m))});let l=pi(),c=Ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(YN(s,a,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!n.isEqual(Oe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(s).next(f=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(h)}return se.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.os=i,s))}function YN(t,e,r){let n=Ve(),i=Ve();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=pi();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Se("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function QN(t,e){const r=De(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function JN(t,e){const r=De(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,se.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new Wi(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function xp(t,e,r){const n=De(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ou(a))throw a;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function A_(t,e,r){const n=De(t);let i=Oe.min(),s=Ve();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=De(l),d=f._s.get(h);return d!==void 0?se.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(n,a,bn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Oe.min(),r?s:Ve())).next(o=>(ZN(n,zP(e),o),{documents:o,Ts:s})))}function ZN(t,e,r){let n=t.us.get(e)||Oe.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class I_{constructor(){this.activeTargetIds=XP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eF{constructor(){this.so=new I_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new I_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function X0(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class iF extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=X0(),l=this.xo(r,n.toUriEncodedString());Se("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(r,l,c,i).then(h=>(Se("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw _o("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=rF[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=X0();return new Promise((a,o)=>{const l=new Mw;l.setWithCredentials(!0),l.listenOnce(bw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case th.NO_ERROR:const h=l.getResponseJson();Se(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case th.TIMEOUT:Se(hr,`RPC '${e}' ${s} timed out`),o(new we(re.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const f=l.getStatus();if(Se(hr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(y){const S=y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(S)>=0?S:re.UNKNOWN}(m.status);o(new we(_,m.message))}else o(new we(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new we(re.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Se(hr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Se(hr,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=X0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Uw(),o=Bw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=s.join("");Se(hr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,m=!1;const _=new nF({Io:y=>{m?Se(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(Se(hr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),Se(hr,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},To:()=>f.close()}),g=(y,S,x)=>{y.listen(S,T=>{try{x(T)}catch(M){setTimeout(()=>{throw M},0)}})};return g(f,vl.EventType.OPEN,()=>{m||(Se(hr,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),g(f,vl.EventType.CLOSE,()=>{m||(m=!0,Se(hr,`RPC '${e}' stream ${i} transport closed`),_.So())}),g(f,vl.EventType.ERROR,y=>{m||(m=!0,_o(hr,`RPC '${e}' stream ${i} transport errored:`,y),_.So(new we(re.UNAVAILABLE,"The operation could not be completed")))}),g(f,vl.EventType.MESSAGE,y=>{var S;if(!m){const x=y.data[0];et(!!x);const T=x,M=T.error||((S=T[0])===null||S===void 0?void 0:S.error);if(M){Se(hr,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let G=function(A){const C=It[A];if(C!==void 0)return h2(C)}(z),w=M.message;G===void 0&&(G=re.INTERNAL,w="Unknown error status: "+z+" with message "+M.message),m=!0,_.So(new we(G,w)),f.close()}else Se(hr,`RPC '${e}' stream ${i} received:`,x),_.bo(x)}}),g(o,Vw.STAT_EVENT,y=>{y.stat===up.PROXY?Se(hr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===up.NOPROXY&&Se(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){return new pN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T2(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(di(r.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new we(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sF extends S2{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=vN(this.serializer,e),n=function(s){if(!("targetChange"in s))return Oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Oe.min():a.readTime?Vn(a.readTime):Oe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=yp(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=dp(l)?{documents:xN(s,l)}:{query:EN(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=p2(s,a.resumeToken);const c=gp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Oe.min())>0){o.readTime=Hh(s,a.snapshotVersion.toTimestamp());const c=gp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=TN(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=yp(this.serializer),r.removeTarget=e,this.a_(r)}}class aF extends S2{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=yN(e.writeResults,e.commitTime),n=Vn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=yp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>_N(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,vp(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(re.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,vp(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(re.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class lF{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(di(r),this.D_=!1):Se("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{ua(this)&&(Se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=De(l);c.L_.add(4),await bu(c),c.q_.set("Unknown"),c.L_.delete(4),await jf(c)}(this))})}),this.q_=new lF(n,i)}}async function jf(t){if(ua(t))for(const e of t.B_)await e(!0)}async function bu(t){for(const e of t.B_)await e(!1)}function A2(t,e){const r=De(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Jm(r)?Qm(r):Mo(r).r_()&&Ym(r,e))}function Xm(t,e){const r=De(t),n=Mo(r);r.N_.delete(e),n.r_()&&I2(r,e),r.N_.size===0&&(n.r_()?n.o_():ua(r)&&r.q_.set("Unknown"))}function Ym(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Mo(t).A_(e)}function I2(t,e){t.Q_.xe(e),Mo(t).R_(e)}function Qm(t){t.Q_=new cN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function Jm(t){return ua(t)&&!Mo(t).n_()&&t.N_.size>0}function ua(t){return De(t).L_.size===0}function C2(t){t.Q_=void 0}async function cF(t){t.q_.set("Online")}async function hF(t){t.N_.forEach((e,r)=>{Ym(t,e)})}async function fF(t,e){C2(t),Jm(t)?(t.q_.M_(e),Qm(t)):t.q_.set("Unknown")}async function dF(t,e,r){if(t.q_.set("Online"),e instanceof d2&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Gh(t,n)}else if(e instanceof ih?t.Q_.Ke(e):e instanceof f2?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Oe.min()))try{const n=await w2(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(sr.EMPTY_BYTE_STRING,h.snapshotVersion)),I2(s,l);const f=new Wi(h.target,l,c,h.sequenceNumber);Ym(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Se("RemoteStore","Failed to raise snapshot:",n),await Gh(t,n)}}async function Gh(t,e,r){if(!Ou(e))throw e;t.L_.add(1),await bu(t),t.q_.set("Offline"),r||(r=()=>w2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Se("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await jf(t)})}function R2(t,e){return e().catch(r=>Gh(t,r,e))}async function Wf(t){const e=De(t),r=hs(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;pF(e);)try{const i=await QN(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,mF(e,i)}catch(i){await Gh(e,i)}k2(e)&&P2(e)}function pF(t){return ua(t)&&t.O_.length<10}function mF(t,e){t.O_.push(e);const r=hs(t);r.r_()&&r.V_&&r.m_(e.mutations)}function k2(t){return ua(t)&&!hs(t).n_()&&t.O_.length>0}function P2(t){hs(t).start()}async function gF(t){hs(t).p_()}async function vF(t){const e=hs(t);for(const r of t.O_)e.m_(r.mutations)}async function _F(t,e,r){const n=t.O_.shift(),i=zm.from(n,e,r);await R2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wf(t)}async function yF(t,e){e&&hs(t).V_&&await async function(n,i){if(function(a){return oN(a)&&a!==re.ABORTED}(i.code)){const s=n.O_.shift();hs(n).s_(),await R2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Wf(n)}}(t,e),k2(t)&&P2(t)}async function R_(t,e){const r=De(t);r.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const n=ua(r);r.L_.add(3),await bu(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await jf(r)}async function xF(t,e){const r=De(t);e?(r.L_.delete(2),await jf(r)):e||(r.L_.add(2),await bu(r),r.q_.set("Unknown"))}function Mo(t){return t.K_||(t.K_=function(r,n,i){const s=De(r);return s.w_(),new sF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:cF.bind(null,t),Ro:hF.bind(null,t),mo:fF.bind(null,t),d_:dF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Jm(t)?Qm(t):t.q_.set("Unknown")):(await t.K_.stop(),C2(t))})),t.K_}function hs(t){return t.U_||(t.U_=function(r,n,i){const s=De(r);return s.w_(),new aF(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gF.bind(null,t),mo:yF.bind(null,t),f_:vF.bind(null,t),g_:_F.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wf(t)):(await t.U_.stop(),t.O_.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new Zm(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(t,e){if(di("AsyncQueue",`${e}: ${t}`),Ou(t))return new we(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Re.comparator(r.key,n.key):(r,n)=>Re.comparator(r.key,n.key),this.keyedMap=_l(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new to(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new to;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.W_=new vt(Re.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class To{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new To(e,r,to.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wF{constructor(){this.queries=P_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=De(r),s=i.queries;i.queries=P_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new we(re.ABORTED,"Firestore shutting down"))}}function P_(){return new Lo(t=>Zw(t),Lf)}async function N2(t,e){const r=De(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new EF,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=eg(a,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&tg(r)}async function F2(t,e){const r=De(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function TF(t,e){const r=De(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&tg(r)}function SF(t,e,r){const n=De(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function tg(t){t.Y_.forEach(e=>{e.next()})}var Ep,N_;(N_=Ep||(Ep={})).ea="default",N_.Cache="cache";class O2{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new To(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.key=e}}class L2{constructor(e){this.key=e}}class AF{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=e2(e),this.Ra=new to(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new k_,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=Mf(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;d&&m?d.data.isEqual(m.data)?_!==g&&(n.track({type:3,doc:m}),y=!0):this.ga(d,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!d&&m?(n.track({type:0,doc:m}),y=!0):d&&!m&&(n.track({type:1,doc:d}),y=!0,(l||c)&&(o=!0)),y&&(m?(a=a.add(m),s=g?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(m,_){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return g(m)-g(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new To(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new L2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new D2(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ve();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return To.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IF{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class CF{constructor(e){this.key=e,this.va=!1}}class RF{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Lo(o=>Zw(o),Lf),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(Re.comparator),this.Na=new Map,this.La=new Gm,this.Ba={},this.ka=new Map,this.qa=wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kF(t,e,r=!0){const n=j2(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await M2(n,e,r,!0),i}async function PF(t,e){const r=j2(t);await M2(r,e,!0,!1)}async function M2(t,e,r,n){const i=await JN(t.localStore,bn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await NF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&A2(t.remoteStore,i),o}async function NF(t,e,r,n,i){t.Ka=(f,d,m)=>async function(g,y,S,x){let T=y.view.ma(S);T.ns&&(T=await A_(g.localStore,y.query,!1).then(({documents:w})=>y.view.ma(w,T)));const M=x&&x.targetChanges.get(y.targetId),z=x&&x.targetMismatches.get(y.targetId)!=null,G=y.view.applyChanges(T,g.isPrimaryClient,M,z);return O_(g,y.targetId,G.wa),G.snapshot}(t,f,d,m);const s=await A_(t.localStore,e,!0),a=new AF(e,s.Ts),o=a.ma(s.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);O_(t,r,c.wa);const h=new IF(e,r,a);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function FF(t,e,r){const n=De(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!Lf(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Xm(n.remoteStore,i.targetId),wp(n,i.targetId)}).catch(Fu)):(wp(n,i.targetId),await xp(n.localStore,i.targetId,!0))}async function OF(t,e){const r=De(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xm(r.remoteStore,n.targetId))}async function DF(t,e,r){const n=jF(t);try{const i=await function(a,o){const l=De(a),c=Vt.now(),h=o.reduce((m,_)=>m.add(_.key),Ve());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=pi(),g=Ve();return l.cs.getEntries(m,h).next(y=>{_=y,_.forEach((S,x)=>{x.isValidDocument()||(g=g.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(y=>{f=y;const S=[];for(const x of o){const T=rN(x,f.get(x.key).overlayedDocument);T!=null&&S.push(new _s(x.key,T,Hw(T.value.mapValue),Sn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,o)}).next(y=>{d=y;const S=y.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,y.batchId,S)})}).then(()=>({batchId:d.batchId,changes:r2(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new vt(Ke)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(n,i.batchId,r),await Vu(n,i.changes),await Wf(n.remoteStore)}catch(i){const s=eg(i,"Failed to persist write");r.reject(s)}}async function b2(t,e){const r=De(t);try{const n=await XN(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?et(a.va):i.removedDocuments.size>0&&(et(a.va),a.va=!1))}),await Vu(r,n,e)}catch(n){await Fu(n)}}function F_(t,e,r){const n=De(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=De(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(o)&&(c=!0)}),c&&tg(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function LF(t,e,r){const n=De(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new vt(Re.comparator);a=a.insert(s,pr.newNoDocument(s,Oe.min()));const o=Ve().add(s),l=new Bf(Oe.min(),new Map,new vt(Ke),a,o);await b2(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),rg(n)}else await xp(n.localStore,e,!1).then(()=>wp(n,e,r)).catch(Fu)}async function MF(t,e){const r=De(t),n=e.batch.batchId;try{const i=await qN(r.localStore,e);B2(r,n,null),V2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Vu(r,i)}catch(i){await Fu(i)}}async function bF(t,e,r){const n=De(t);try{const i=await function(a,o){const l=De(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(et(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);B2(n,e,r),V2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Vu(n,i)}catch(i){await Fu(i)}}function V2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function B2(t,e,r){const n=De(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function wp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||U2(t,n)})}function U2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Xm(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),rg(t))}function O_(t,e,r){for(const n of r)n instanceof D2?(t.La.addReference(n.key,e),VF(t,n)):n instanceof L2?(Se("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||U2(t,n.key)):Fe()}function VF(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Se("SyncEngine","New document in limbo: "+r),t.xa.add(n),rg(t))}function rg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Re(ut.fromString(e)),n=t.qa.next();t.Na.set(n,new CF(r)),t.Oa=t.Oa.insert(r,n),A2(t.remoteStore,new Wi(bn(Um(r.path)),n,"TargetPurposeLimboResolution",Dm.oe))}}async function Vu(t,e,r){const n=De(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=qm.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,c){const h=De(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(c,d=>se.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>se.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Ou(f))throw f;Se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),_=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(d,g)}}}(n.localStore,s))}async function BF(t,e){const r=De(t);if(!r.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const n=await E2(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new we(re.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Vu(r,n.hs)}}function UF(t,e){const r=De(t),n=r.Na.get(e);if(n&&n.va)return Ve().add(n.key);{let i=Ve();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function j2(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LF.bind(null,e),e.Ca.d_=TF.bind(null,e.eventManager),e.Ca.$a=SF.bind(null,e.eventManager),e}function jF(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return KN(this.persistence,new HN,e.initialUser,this.serializer)}Ga(e){return new WN(Km.Zr,this.serializer)}Wa(e){return new eF}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class Tp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>F_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=BF.bind(null,this.syncEngine),await xF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wF}()}createDatastore(e){const r=Uf(e.databaseInfo.databaseId),n=function(s){return new iF(s)}(e.databaseInfo);return function(s,a,o,l){return new oF(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new uF(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>F_(this.syncEngine,r,0),function(){return C_.D()?new C_:new tF}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,h){const f=new RF(i,s,a,o,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=De(i);Se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=Ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=eg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Q0(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await E2(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await zF(t);Se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>R_(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>R_(e.remoteStore,i)),t._onlineComponents=e}async function zF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Q0(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;_o("Error using user provided cache. Falling back to memory cache: "+r),await Q0(t,new Kh)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),await Q0(t,new Kh);return t._offlineComponents}async function z2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),await D_(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),await D_(t,new Tp))),t._onlineComponents}function $F(t){return z2(t).then(e=>e.syncEngine)}async function Sp(t){const e=await z2(t),r=e.eventManager;return r.onListen=kF.bind(null,e.syncEngine),r.onUnlisten=FF.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=PF.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=OF.bind(null,e.syncEngine),r}function HF(t,e,r={}){const n=new is;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new W2({next:d=>{h.Za(),a.enqueueAndForget(()=>F2(s,f)),d.fromCache&&l.source==="server"?c.reject(new we(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new O2(o,h,{includeMetadataChanges:!0,_a:!0});return N2(s,f)}(await Sp(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e,r){if(!r)throw new we(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GF(t,e,r,n){if(e===!0&&n===!0)throw new we(re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function M_(t){if(!Re.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b_(t){if(Re.isDocumentKey(t))throw new we(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=zf(t);throw new we(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new we(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new hP;switch(n.type){case"firstParty":return new mP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=L_.get(r);n&&(Se("ComponentProvider","Removing Datastore"),L_.delete(r),n.terminate())}(this),Promise.resolve()}}function KF(t,e,r,n={}){var i;const s=(t=Bn(t,$f))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=fr.MOCK_USER;else{o=BR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new we(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fr(c)}t._authCredentials=new fP(new jw(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class Dr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dr(this.firestore,e,this._key)}}class ss extends ca{constructor(e,r,n){super(e,r,Um(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dr(this.firestore,null,new Re(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function Ll(t,e,...r){if(t=Nt(t),H2("collection","path",e),t instanceof $f){const n=ut.fromString(e,...r);return b_(n),new ss(t,null,n)}{if(!(t instanceof Dr||t instanceof ss))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ut.fromString(e,...r));return b_(n),new ss(t.firestore,null,n)}}function qh(t,e,...r){if(t=Nt(t),arguments.length===1&&(e=Ww.newId()),H2("doc","path",e),t instanceof $f){const n=ut.fromString(e,...r);return M_(n),new Dr(t,null,new Re(n))}{if(!(t instanceof Dr||t instanceof ss))throw new we(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ut.fromString(e,...r));return M_(n),new Dr(t.firestore,t instanceof ss?t.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T2(this,"async_queue_retry"),this.Vu=()=>{const n=Y0();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Y0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Y0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ou(e))throw e;Se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw di("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Zm.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function U_(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Zs extends $f{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new B_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function qF(t,e){const r=typeof t=="object"?t:Fw(),n=typeof t=="string"?t:"(default)",i=Fm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=bR("firestore");s&&KF(i,...s)}return i}function ng(t){if(t._terminated)throw new we(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XF(t),t._firestoreClient}function XF(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,c,h){return new RP(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(sr.fromBase64String(e))}catch(r){throw new we(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new So(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new we(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new we(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new we(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=/^__.*__$/;class QF{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,r,this.fieldTransforms):new Lu(e,this.data,r,this.fieldTransforms)}}class G2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new _s(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function K2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class og{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(K2(this.Cu)&&YF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JF{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Uf(e)}Qu(e,r,n,i=!1){return new og({Cu:e,methodName:r,qu:n,path:Jt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(t){const e=t._freezeSettings(),r=Uf(t._databaseId);return new JF(t._databaseId,!!e.ignoreUndefinedProperties,r)}function ZF(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);ug("Data must be an object, but it was:",a,n);const o=q2(n,a);let l,c;if(s.merge)l=new Kr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=Ap(e,f,r);if(!a.contains(d))throw new we(re.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Y2(h,d)||h.push(d)}l=new Kr(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new QF(new kr(o),l,c)}class Gf extends ig{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function e3(t,e,r,n){const i=t.Qu(1,e,r);ug("Data must be an object, but it was:",i,n);const s=[],a=kr.empty();la(n,(l,c)=>{const h=cg(e,l,r);c=Nt(c);const f=i.Nu(h);if(c instanceof Gf)s.push(h);else{const d=Bu(c,f);d!=null&&(s.push(h),a.set(h,d))}});const o=new Kr(s);return new G2(a,o,i.fieldTransforms)}function t3(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Ap(e,n,r)],l=[i];if(s.length%2!=0)throw new we(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Ap(e,s[d])),l.push(s[d+1]);const c=[],h=kr.empty();for(let d=o.length-1;d>=0;--d)if(!Y2(c,o[d])){const m=o[d];let _=l[d];_=Nt(_);const g=a.Nu(m);if(_ instanceof Gf)c.push(m);else{const y=Bu(_,g);y!=null&&(c.push(m),h.set(m,y))}}const f=new Kr(c);return new G2(h,f,a.fieldTransforms)}function r3(t,e,r,n=!1){return Bu(r,t.Qu(n?4:3,e))}function Bu(t,e){if(X2(t=Nt(t)))return ug("Unsupported field value:",e,t),q2(t,e);if(t instanceof ig)return function(n,i){if(!K2(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Bu(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Vt.fromDate(n);return{timestampValue:Hh(i.serializer,s)}}if(n instanceof Vt){const s=new Vt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hh(i.serializer,s)}}if(n instanceof sg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof So)return{bytesValue:p2(i.serializer,n._byteString)};if(n instanceof Dr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hm(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ag)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return jm(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${zf(n)}`)}(t,e)}function q2(t,e){const r={};return zw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(n,i)=>{const s=Bu(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function X2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof sg||t instanceof So||t instanceof Dr||t instanceof ig||t instanceof ag)}function ug(t,e,r){if(!X2(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=zf(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Ap(t,e,r){if((e=Nt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return cg(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,r)}const n3=new RegExp("[~\\*/\\[\\]]");function cg(t,e,r){if(e.search(n3)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Hf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Xh(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new we(re.INVALID_ARGUMENT,o+t+l)}function Y2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class i3 extends Q2{data(){return super.data()}}function hg(t,e){return typeof e=="string"?cg(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class s3 extends fg{}function dg(t,e,...r){let n=[];e instanceof fg&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof pg).length,o=s.filter(l=>l instanceof Kf).length;if(a>1||a>0&&o>0)throw new we(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Kf extends s3{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Kf(e,r,n)}_apply(e){const r=this._parse(e);return eT(e._query,r),new ca(e.firestore,e.converter,pp(e._query,r))}_parse(e){const r=lg(e.firestore);return function(s,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new we(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){W_(f,h);const m=[];for(const _ of f)m.push(j_(l,s,_));d={arrayValue:{values:m}}}else d=j_(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||W_(f,h),d=r3(o,a,f,h==="in"||h==="not-in");return Rt.create(c,h,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Z2(t,e,r){const n=e,i=hg("where",t);return Kf._create(i,n,r)}class pg extends fg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new pg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Cn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)eT(a,l),a=pp(a,l)}(e._query,r),new ca(e.firestore,e.converter,pp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function j_(t,e,r){if(typeof(r=Nt(r))=="string"){if(r==="")throw new we(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jw(e)&&r.indexOf("/")!==-1)throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(ut.fromString(r));if(!Re.isDocumentKey(n))throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return l_(t,new Re(n))}if(r instanceof Dr)return l_(t,r._key);throw new we(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(r)}.`)}function W_(t,e){if(!Array.isArray(t)||t.length===0)throw new we(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eT(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class a3{convertValue(e,r="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return la(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>wt(a.doubleValue));return new ag(s)}convertGeoPoint(e){return new sg(wt(e.latitude),wt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Mm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const r=cs(e);return new Vt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ut.fromString(e);et(x2(n));const i=new hu(n.get(1),n.get(3)),s=new Re(n.popFirst(5));return i.isEqual(r)||di(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tT extends Q2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class sh extends tT{data(e={}){return super.data(e)}}class rT{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new sh(this._firestore,this._userDataWriter,n.key,n,new xl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new we(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new sh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new sh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:l3(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function l3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class mg extends a3{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dr(this.firestore,null,r)}}function nT(t){t=Bn(t,ca);const e=Bn(t.firestore,Zs),r=ng(e),n=new mg(e);return J2(t._query),HF(r,t._query).then(i=>new rT(e,n,t,i))}function u3(t,e,r,...n){t=Bn(t,Dr);const i=Bn(t.firestore,Zs),s=lg(i);let a;return a=typeof(e=Nt(e))=="string"||e instanceof Hf?t3(s,"updateDoc",t._key,e,r,n):e3(s,"updateDoc",t._key,e),gg(i,[a.toMutation(t._key,Sn.exists(!0))])}function iT(t){return gg(Bn(t.firestore,Zs),[new Wm(t._key,Sn.none())])}function z_(t,e){const r=Bn(t.firestore,Zs),n=qh(t),i=o3(t.converter,e);return gg(r,[ZF(lg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Sn.exists(!1))]).then(()=>n)}function c3(t,...e){var r,n,i;t=Nt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||U_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(U_(e[a])){const f=e[a];e[a]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,h;if(t instanceof Dr)c=Bn(t.firestore,Zs),h=Um(t._key.path),l={next:f=>{e[a]&&e[a](h3(c,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Bn(t,ca);c=Bn(f.firestore,Zs),h=f._query;const d=new mg(c);l={next:m=>{e[a]&&e[a](new rT(c,d,f,m))},error:e[a+1],complete:e[a+2]},J2(t._query)}return function(d,m,_,g){const y=new W2(g),S=new O2(m,y,_);return d.asyncQueue.enqueueAndForget(async()=>N2(await Sp(d),S)),()=>{y.Za(),d.asyncQueue.enqueueAndForget(async()=>F2(await Sp(d),S))}}(ng(c),h,o,l)}function gg(t,e){return function(n,i){const s=new is;return n.asyncQueue.enqueueAndForget(async()=>DF(await $F(n),i,s)),s.promise}(ng(t),e)}function h3(t,e,r){const n=r.docs.get(e._key),i=new mg(t);return new tT(t,i,e._key,n,new xl(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Do=i})(Oo),vo(new Xs("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Zs(new dP(n.getProvider("auth-internal")),new vP(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new we(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ns(n_,"4.7.3",e),ns(n_,"4.7.3","esm2017")})();function vg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f3=sT,aT=new Pu("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Pm("@firebase/auth");function d3(t,...e){Yh.logLevel<=Be.WARN&&Yh.warn(`Auth (${Oo}): ${t}`,...e)}function ah(t,...e){Yh.logLevel<=Be.ERROR&&Yh.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw _g(t,...e)}function Un(t,...e){return _g(t,...e)}function oT(t,e,r){const n=Object.assign(Object.assign({},f3()),{[e]:r});return new Pu("auth","Firebase",n).create(e,{appName:t.name})}function as(t){return oT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return aT.create(t,...e)}function Pe(t,e,...r){if(!t)throw _g(e,...r)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function mi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p3(){return $_()==="http:"||$_()==="https:"}function $_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p3()||zR()||"connection"in navigator)?navigator.onLine:!0}function g3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.shortDelay=e,this.longDelay=r,mi(r>e,"Short delay should be less than long delay!"),this.isMobile=UR()||$R()}get(){return m3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t,e){mi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Uu(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xi(t,e,r,n,i={}){return uT(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Nu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return WR()||(c.referrerPolicy="no-referrer"),lT.fetch()(cT(t,t.config.apiHost,r,o),c)})}async function uT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},v3),e);try{const i=new x3(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Dc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Dc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Dc(t,"user-disabled",a);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oT(t,h,c);Rn(t,h)}}catch(i){if(i instanceof yi)throw i;Rn(t,"network-request-failed",{message:String(i)})}}async function qf(t,e,r,n,i={}){const s=await xi(t,e,r,n,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?yg(t.config,i):`${t.config.apiScheme}://${i}`}function y3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Un(this.auth,"network-request-failed")),_3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Un(t,e,n);return i.customData._tokenResponse=r,i}function H_(t){return t!==void 0&&t.enterprise!==void 0}class E3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return y3(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w3(t,e){return xi(t,"GET","/v2/recaptchaConfig",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){return xi(t,"POST","/v1/accounts:delete",e)}async function hT(t,e){return xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S3(t,e=!1){const r=Nt(t),n=await r.getIdToken(e),i=xg(n);Pe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ml(J0(i.auth_time)),issuedAtTime:Ml(J0(i.iat)),expirationTime:Ml(J0(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function J0(t){return Number(t)*1e3}function xg(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=Aw(r);return i?JSON.parse(i):(ah("Failed to decode base64 JWT payload"),null)}catch(i){return ah("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function G_(t){const e=xg(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof yi&&A3(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function A3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Ao(t,hT(r,{idToken:n}));Pe(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fT(s.providerUserInfo):[],o=R3(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Cp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function C3(t){const e=Nt(t);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R3(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function fT(t){return t.map(e=>{var{providerId:r}=e,n=vg(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e){const r=await uT(t,{},async()=>{const n=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=cT(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",lT.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function P3(t,e){return xi(t,"POST","/v2/accounts:revokeToken",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const r=G_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await k3(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new ro;return n&&(Pe(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Pe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return Pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return S3(this,e)}reload(){return C3(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Qh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await Ao(this,T3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:M,isAnonymous:z,providerData:G,stsTokenManager:w}=r;Pe(T&&w,e,"internal-error");const E=ro.fromJSON(this.name,w);Pe(typeof T=="string",e,"internal-error"),Ri(f,e.name),Ri(d,e.name),Pe(typeof M=="boolean",e,"internal-error"),Pe(typeof z=="boolean",e,"internal-error"),Ri(m,e.name),Ri(_,e.name),Ri(g,e.name),Ri(y,e.name),Ri(S,e.name),Ri(x,e.name);const A=new ri({uid:T,auth:e,email:d,emailVerified:M,displayName:f,isAnonymous:z,photoURL:_,phoneNumber:m,tenantId:g,stsTokenManager:E,createdAt:S,lastLoginAt:x});return G&&Array.isArray(G)&&(A.providerData=G.map(C=>Object.assign({},C))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new ro;i.updateFromServerResponse(r);const s=new ri({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Qh(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new ro;o.updateFromIdToken(n);const l=new ri({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function ni(t){mi(t instanceof Function,"Expected a class definition");let e=K_.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}dT.type="NONE";const q_=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,r){return`firebase:${t}:${e}:${r}`}class no{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=oh(this.userKey,i.apiKey,s),this.fullPersistenceKey=oh("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new no(ni(q_),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ni(q_);const a=oh(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const h=await c._get(a);if(h){const f=ri._fromJSON(e,h);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new no(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new no(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(xT(e))return"Webos";if(mT(e))return"Safari";if((e.includes("chrome/")||gT(e))&&!e.includes("edge/"))return"Chrome";if(_T(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function pT(t=_r()){return/firefox\//i.test(t)}function mT(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gT(t=_r()){return/crios\//i.test(t)}function vT(t=_r()){return/iemobile/i.test(t)}function _T(t=_r()){return/android/i.test(t)}function yT(t=_r()){return/blackberry/i.test(t)}function xT(t=_r()){return/webos/i.test(t)}function Eg(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N3(t=_r()){var e;return Eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function F3(){return HR()&&document.documentMode===10}function ET(t=_r()){return Eg(t)||_T(t)||xT(t)||yT(t)||/windows phone/i.test(t)||vT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e=[]){let r;switch(t){case"Browser":r=X_(_r());break;case"Worker":r=`${X_(_r())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Oo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t,e={}){return xi(t,"GET","/v2/passwordPolicy",ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=6;class M3{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:L3,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new O3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ni(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hT(this,{idToken:e}),n=await ri._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ei(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(as(this));const r=e?Nt(e):null;return r&&Pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D3(this),r=new M3(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await P3(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ni(e)||this._popupRedirectResolver;Pe(r,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ni(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&d3(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function bo(t){return Nt(t)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(r=>this.observer=r)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V3(t){Xf=t}function TT(t){return Xf.loadJS(t)}function B3(){return Xf.recaptchaEnterpriseScript}function U3(){return Xf.gapiScript}function j3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const W3="recaptcha-enterprise",z3="NO_RECAPTCHA";class $3{constructor(e){this.type=W3,this.auth=bo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{w3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new E3(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;H_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(z3)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&H_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=B3();l.length!==0&&(l+=o),TT(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function Q_(t,e,r,n=!1){const i=new $3(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function J_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Q_(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q_(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t,e){const r=Fm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Vh(s,e??{}))return i;Rn(i,"already-initialized")}return r.initialize({options:e})}function G3(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function K3(t,e,r){const n=bo(t);Pe(n._canInitEmulator,n,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=ST(e),{host:a,port:o}=q3(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),X3()}function ST(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q3(t){const e=ST(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Z_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:Z_(a)}}}function Z_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X3(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,r){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function Y3(t,e){return xi(t,"POST","/v1/accounts:update",e)}async function Q3(t,e){return xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return qf(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(t,e){return qf(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function eO(t,e){return qf(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends wg{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new mu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new mu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,r,"signInWithPassword",J3);case"emailLink":return Z3(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,n,"signUpPassword",Q3);case"emailLink":return eO(e,{idToken:r,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e){return qf(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="http://localhost";class ea extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Rn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=vg(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new ea(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return io(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,io(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,io(e,r)}buildRequest(){const e={requestUri:tO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Nu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nO(t){const e=ml(gl(t)).link,r=e?ml(gl(e)).deep_link_id:null,n=ml(gl(t)).deep_link_id;return(n?ml(gl(n)).link:null)||n||r||e||t}class Tg{constructor(e){var r,n,i,s,a,o;const l=ml(gl(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=rO((i=l.mode)!==null&&i!==void 0?i:null);Pe(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=nO(e);try{return new Tg(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,r){return mu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Tg.parseLink(r);return Pe(n,"argument-error"),mu._fromEmailAndCode(e,n.code,n.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ju{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ea._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Mi.credential(r,n)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends ju{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ju{constructor(){super("twitter.com")}static credential(e,r){return ea._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Vi.credential(r,n)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ri._fromIdTokenResponse(e,n,i),a=ey(n);return new Io({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=ey(n);return new Io({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function ey(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends yi{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Jh(e,r,n,i)}}function IT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(t,s,e,n):s})}async function iO(t,e,r=!1){const n=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Io._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t,e,r=!1){const{auth:n}=t;if(ei(n.app))return Promise.reject(as(n));const i="reauthenticate";try{const s=await Ao(t,IT(n,i,e,t),r);Pe(s.idToken,n,"internal-error");const a=xg(s.idToken);Pe(a,n,"internal-error");const{sub:o}=a;return Pe(t.uid===o,n,"user-mismatch"),Io._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(t,e,r=!1){if(ei(t.app))return Promise.reject(as(t));const n="signIn",i=await IT(t,n,e),s=await Io._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function sO(t,e){return RT(bo(t),e)}async function aO(t,e){return CT(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t){const e=bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lO(t,e,r){return ei(t.app)?Promise.reject(as(t)):sO(Nt(t),fa.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&oO(t),n})}function uO(t,e){return cO(Nt(t),null,e)}async function cO(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await Ao(t,Y3(n,s));await t._updateTokensIfNecessary(a,!0)}function hO(t,e,r,n){return Nt(t).onIdTokenChanged(e,r,n)}function fO(t,e,r){return Nt(t).beforeAuthStateChanged(e,r)}function dO(t){return Nt(t).signOut()}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=1e3,mO=10;class PT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);F3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mO):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},pO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const gO=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}NT.type="SESSION";const FT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Yf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await vO(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Sg("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function yO(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function xO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wO(){return OT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firebaseLocalStorageDb",TO=1,ef="firebaseLocalStorage",LT="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Qf(t,e){return t.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function SO(){const t=indexedDB.deleteDatabase(DT);return new Wu(t).toPromise()}function Rp(){const t=indexedDB.open(DT,TO);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ef,{keyPath:LT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ef)?e(n):(n.close(),await SO(),e(await Rp()))})})}async function ty(t,e,r){const n=Qf(t,!0).put({[LT]:e,value:r});return new Wu(n).toPromise()}async function AO(t,e){const r=Qf(t,!1).get(e),n=await new Wu(r).toPromise();return n===void 0?null:n.value}function ry(t,e){const r=Qf(t,!0).delete(e);return new Wu(r).toPromise()}const IO=800,CO=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>CO)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(wO()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new _O(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await ty(e,Zh,"1"),await ry(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>ty(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>AO(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ry(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qf(i,!1).getAll();return new Wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const RO=MT;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e){return e?ni(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,r){return io(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function PO(t){return RT(t.auth,new Ag(t),t.bypassAuthState)}function NO(t){const{auth:e,user:r}=t;return Pe(r,e,"internal-error"),CT(r,new Ag(t),t.bypassAuthState)}async function FO(t){const{auth:e,user:r}=t;return Pe(r,e,"internal-error"),iO(r,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PO;case"linkViaPopup":case"linkViaRedirect":return FO;case"reauthViaPopup":case"reauthViaRedirect":return NO;default:Rn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Uu(2e3,1e4);class Ka extends bT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OO.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="pendingRedirect",lh=new Map;class LO extends bT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const n=await MO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MO(t,e){const r=BO(e),n=VO(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function bO(t,e){lh.set(t._key(),e)}function VO(t){return ni(t._redirectPersistence)}function BO(t){return oh(DO,t.config.apiKey,t.name)}async function UO(t,e,r=!1){if(ei(t.app))return Promise.reject(as(t));const n=bo(t),i=kO(n,e),a=await new LO(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=10*60*1e3;class WO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zO(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!VT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Un(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ny(e))}saveEventToCache(e){this.cachedEventUids.add(ny(e)),this.lastProcessedEventTime=Date.now()}}function ny(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e={}){return xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GO=/^https?/;async function KO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $O(t);for(const r of e)try{if(qO(r))return}catch{}Rn(t,"unauthorized-domain")}function qO(t){const e=Ip(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!GO.test(r))return!1;if(HO.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Uu(3e4,6e4);function iy(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function YO(t){return new Promise((e,r)=>{var n,i,s;function a(){iy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iy(),r(Un(t,"network-request-failed"))},timeout:XO.get()})}if(!((i=(n=jn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jn().gapi)===null||s===void 0)&&s.load)a();else{const o=j3("iframefcb");return jn()[o]=()=>{gapi.load?a():r(Un(t,"network-request-failed"))},TT(`${U3()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw uh=null,e})}let uh=null;function QO(t){return uh=uh||YO(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=new Uu(5e3,15e3),ZO="__/auth/iframe",eD="emulator/auth/iframe",tD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?yg(e,eD):`https://${t.config.authDomain}/${ZO}`,n={apiKey:e.apiKey,appName:t.name,v:Oo},i=rD.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Nu(n).slice(1)}`}async function iD(t){const e=await QO(t),r=jn().gapi;return Pe(r,t,"internal-error"),e.open({where:document.body,url:nD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tD,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Un(t,"network-request-failed"),o=jn().setTimeout(()=>{s(a)},JO.get());function l(){jn().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,oD=600,lD="_blank",uD="http://localhost";class sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cD(t,e,r,n=aD,i=oD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},sD),{width:n.toString(),height:i.toString(),top:s,left:a}),c=_r().toLowerCase();r&&(o=gT(c)?lD:r),pT(c)&&(e=e||uD,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,_])=>`${d}${m}=${_},`,"");if(N3(c)&&o!=="_self")return hD(e||"",o),new sy(null);const f=window.open(e||"",o,h);Pe(f,t,"popup-blocked");try{f.focus()}catch{}return new sy(f)}function hD(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="__/auth/handler",dD="emulator/auth/handler",pD=encodeURIComponent("fac");async function ay(t,e,r,n,i,s){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Oo,eventId:i};if(e instanceof AT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",JR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof ju){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${pD}=${encodeURIComponent(l)}`:"";return`${mD(t)}?${Nu(o).slice(1)}${c}`}function mD({config:t}){return t.emulator?yg(t,dD):`https://${t.authDomain}/${fD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="webStorageSupport";class gD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=UO,this._overrideRedirectResult=bO}async _openPopup(e,r,n,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await ay(e,r,n,Ip(),i);return cD(e,a,Sg())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await ay(e,r,n,Ip(),i);return yO(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await iD(e),n=new WO(e);return r.register("authEvent",i=>(Pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Z0,{type:Z0},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Z0];a!==void 0&&r(!!a),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=KO(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ET()||mT()||Eg()}}const vD=gD;var oy="@firebase/auth",ly="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(t){vo(new Xs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Pe(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(t)},c=new b3(n,i,s,l);return G3(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),vo(new Xs("auth-internal",e=>{const r=bo(e.getProvider("auth").getImmediate());return(n=>new _D(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(oy,ly,yD(t)),ns(oy,ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=5*60,wD=Rw("authIdTokenMaxAge")||ED;let uy=null;const TD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>wD)return;const i=r==null?void 0:r.token;uy!==i&&(uy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SD(t=Fw()){const e=Fm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=H3(t,{popupRedirectResolver:vD,persistence:[RO,gO,FT]}),n=Rw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=TD(s.toString());fO(r,a,()=>a(r.currentUser)),hO(r,o=>a(o))}}const i=Iw("auth");return i&&K3(r,`http://${i}`),r}function AD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}V3({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Un("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",AD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");const ID={apiKey:"AIzaSyBhd-WdSzkOOsk3cd_0TrFA428IBrCzOzY",authDomain:"mckay-fbar.firebaseapp.com",projectId:"mckay-fbar",storageBucket:"mckay-fbar.firebasestorage.app",messagingSenderId:"511917520877",appId:"1:511917520877:web:79e396b41f5760d56a99e4"},BT=Nw(ID),kp=SD(BT),zi=qF(BT),cy=[{value:"bank",label:"Bank Account",description:"A bank account held at a financial institution."},{value:"securities",label:"Securities Account",description:"An account holding securities, stocks, bonds, or other investment instruments."}],CD={EUR:.924,USD:1,GBP:.783,MXN:18.33,TRY:32.867,AED:3.673,CAD:1.37},RD=[{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"MXN",name:"Mexican Peso"},{code:"TRY",name:"Turkish Lira"},{code:"AED",name:"UAE Dirham"},{code:"CAD",name:"Canadian Dollar"}],Ia=t=>{const e={ı:"i",İ:"I",ğ:"g",Ğ:"G",ü:"u",Ü:"U",ş:"s",Ş:"S",ö:"o",Ö:"O",ç:"c",Ç:"C"};return t.replace(/[ıİğĞüÜşŞöÖçÇ]/g,r=>e[r]||r)};function kD({code:t}){const[e,r]=ie.useState(!1),n=async()=>{try{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)}catch(i){console.error("Failed to copy code:",i)}};return R.jsx("button",{onClick:n,className:`p-2 rounded-full transition-colors duration-200 ${e?"text-green-600 bg-green-50":"text-gray-500 hover:bg-gray-100"}`,title:"Copy code",children:e?R.jsx(gR,{className:"h-5 w-5"}):R.jsx(Pi,{className:"h-5 w-5"})})}function PD(){const t=Fo(),e=ku(),[r,n]=ie.useState(""),[i,s]=ie.useState([{id:Date.now().toString(),type:"",currency:"",accountNumber:"",maxValue:0,usdValue:0,institutionName:"",mailingAddress:""}]),[a,o]=ie.useState(""),[l,c]=ie.useState(!1),[h,f]=ie.useState(!1),[d,m]=ie.useState(!1),[_,g]=ie.useState(""),[y,S]=ie.useState(!1),[x,T]=ie.useState(""),[M,z]=ie.useState(null),G=ie.useRef({});ie.useEffect(()=>{var te;const he=(te=e.state)==null?void 0:te.resumeData;he&&(n(he.companyName||""),s(he.accounts||[{id:Date.now().toString(),type:"",currency:"",accountNumber:"",maxValue:0,usdValue:0,institutionName:"",mailingAddress:""}]),z(he.id||null))},[e.state]),ie.useEffect(()=>{const he="AIzaSyBCoiakTPqpFOkBnls-j1b6N34swxBHxZg";new Fs({apiKey:he,version:"weekly",libraries:["places"]}).load().then(()=>{o(""),i.forEach(ue=>{const oe=G.current[ue.id];if(oe)try{const ke={types:["establishment"],fields:["name","formatted_address"]},N=new google.maps.places.Autocomplete(oe,ke);N.addListener("place_changed",()=>{const j=N.getPlace();j.formatted_address&&s(U=>U.map(W=>W.id===ue.id?{...W,institutionName:Ia(j.name||""),mailingAddress:Ia(j.formatted_address||"")}:W))})}catch(ke){console.error("Error initializing Places Autocomplete:",ke),o("Error initializing address search. Please enter details manually."),c(!0)}})}).catch(ue=>{console.error("Error loading Google Maps API:",ue),o("Unable to load address search. Please enter institution details manually."),c(!0)})},[i.length]);const w=he=>{const te=he.replace(/[^\d.]/g,""),[ue,oe]=te.split("."),ke=ue.replace(/\B(?=(\d{3})+(?!\d))/g,",");return oe?`${ke}.${oe}`:ke},E=(he,te)=>{const ue=parseFloat(te.replace(/,/g,""))||0;Ie(he,"maxValue",ue)},A=(he,te)=>{const ue=CD[te]||1;return he/ue},C=()=>Math.floor(1e3+Math.random()*9e3).toString(),O=async()=>{g(""),m(!0);try{const he=C(),te=dg(Ll(zi,"fbar_drafts"),Z2("resumeCode","==",he));if(!(await nT(te)).empty){O();return}const oe={companyName:r,accounts:i,resumeCode:he,createdAt:new Date};await z_(Ll(zi,"fbar_drafts"),oe),T(he),S(!0)}catch(he){console.error("Error saving draft:",he),g("An error occurred while saving the form. Please try again.")}finally{m(!1)}},V=()=>{s([...i,{id:Date.now().toString(),type:"",currency:"",accountNumber:"",maxValue:0,usdValue:0,institutionName:"",mailingAddress:""}])},F=he=>{i.length>1&&s(i.filter(te=>te.id!==he))},Ie=(he,te,ue)=>{s(i.map(oe=>{if(oe.id===he){const ke={...oe,[te]:ue};return(te==="maxValue"||te==="currency")&&(ke.usdValue=A(ke.maxValue,ke.currency)),(te==="institutionName"||te==="mailingAddress")&&(ke[te]=Ia(ue)),ke}return oe}))},Ce=he=>{he.key==="Enter"&&he.preventDefault()},We=async he=>{if(he.preventDefault(),g(""),f(!0),!r.trim()){g("Please enter the company name."),f(!1);return}try{const te={companyName:Ia(r),accounts:i.map(ue=>({...ue,institutionName:Ia(ue.institutionName),mailingAddress:Ia(ue.mailingAddress)})),submittedAt:new Date,status:"pending"};if(await z_(Ll(zi,"fbar_submissions"),te),M)try{await iT(qh(zi,"fbar_drafts",M))}catch(ue){console.error("Error deleting draft:",ue)}t("/thank-you")}catch(te){console.error("Error submitting form:",te),g("An error occurred while submitting the form. Please try again."),f(!1)}};return R.jsx("form",{className:"container mx-auto px-4 py-8",onSubmit:he=>he.preventDefault(),children:R.jsxs("div",{className:"max-w-4xl mx-auto",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12 mx-auto mb-8"}),y&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[R.jsx("h2",{className:"text-2xl font-bold text-[#002F4A] mb-4",children:"Save Your Progress"}),R.jsx("p",{className:"text-gray-600 mb-6",children:"Please save this 4-digit code to continue your form later. You can use this code anytime to resume where you left off."}),R.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-lg mb-6",children:[R.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Resume Code:"}),R.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[R.jsx("p",{className:"text-4xl font-mono font-bold tracking-wider text-[#002F4A]",children:x}),R.jsx(kD,{code:x})]}),R.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:R.jsxs("p",{className:"text-sm text-yellow-800 flex items-center",children:[R.jsx(js,{className:"h-4 w-4 mr-2 flex-shrink-0"}),"Make sure to save this code before closing - you won't be able to see it again!"]})})]}),R.jsx("div",{className:"flex justify-end",children:R.jsx("button",{onClick:()=>{S(!1),t("/")},className:"bg-[#002F4A] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#00304A] transition-colors duration-200",children:"Got it"})})]})}),R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[R.jsx("h1",{className:"text-3xl font-bold text-[#002F4A] mb-6",children:"FBAR Information Form"}),R.jsxs("div",{className:"mb-8",children:[R.jsx("h2",{className:"text-xl font-semibold text-[#111828] mb-4",children:"Company Information"}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company/Individual Name"}),R.jsx("input",{type:"text",value:r,onChange:he=>n(he.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]})]}),a&&R.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-yellow-800",children:[R.jsx(js,{className:"h-5 w-5 mr-2"}),R.jsx("span",{children:a})]})}),R.jsx("div",{className:"mb-4",children:R.jsx("h2",{className:"text-xl font-semibold text-[#111828]",children:"Bank Accounts"})}),i.map((he,te)=>{var ue;return R.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h3",{className:"text-lg font-semibold text-[#002F4A]",children:["Account #",te+1]}),i.length>1&&R.jsx("button",{type:"button",onClick:()=>F(he.id),className:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors duration-200",title:"Remove Account",children:R.jsx(ww,{className:"h-5 w-5"})})]}),R.jsxs("div",{className:"grid gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type of Account"}),R.jsxs("select",{value:he.type,onChange:oe=>Ie(he.id,"type",oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0,children:[R.jsx("option",{value:"",children:"Select account type"}),cy.map(oe=>R.jsx("option",{value:oe.value,children:oe.label},oe.value))]}),he.type&&R.jsx("p",{className:"mt-1 text-sm text-gray-500",children:(ue=cy.find(oe=>oe.value===he.type))==null?void 0:ue.description})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Currency"}),R.jsxs("select",{value:he.currency,onChange:oe=>Ie(he.id,"currency",oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0,children:[R.jsx("option",{value:"",children:"Select currency"}),RD.map(oe=>R.jsxs("option",{value:oe.code,children:[oe.name," (",oe.code,")"]},oe.code))]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),R.jsx("input",{type:"text",value:he.accountNumber,onChange:oe=>Ie(he.id,"accountNumber",oe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximum Value (in selected currency)"}),R.jsx("input",{type:"text",value:he.maxValue?w(he.maxValue.toString()):"",onChange:oe=>E(he.id,oe.target.value),onFocus:oe=>oe.target.select(),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",placeholder:"0",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USD Value"}),R.jsx("div",{className:"relative",children:R.jsx("input",{type:"text",value:he.usdValue?w(he.usdValue.toFixed(2)):"0",className:"w-full px-4 py-2 border border-gray-300 rounded-md bg-gray-100",disabled:!0})})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of Institution"}),R.jsx("input",{ref:oe=>G.current[he.id]=oe,type:"text",value:he.institutionName,onChange:oe=>Ie(he.id,"institutionName",oe.target.value),onKeyDown:Ce,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",placeholder:l?"Enter institution name":"Start typing to search...",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mailing Address"}),R.jsx("input",{type:"text",value:he.mailingAddress,onChange:oe=>Ie(he.id,"mailingAddress",oe.target.value),className:`w-full px-4 py-2 border border-gray-300 rounded-md ${l?"focus:ring-[#002F4A] focus:border-[#002F4A]":"bg-gray-100"}`,placeholder:l?"Enter institution address":"Address will be filled automatically",disabled:!l,required:!0})]})]})]},he.id)}),R.jsxs("button",{type:"button",onClick:V,className:`group relative w-full flex items-center justify-center px-6 py-4 bg-[#002F4A] text-white rounded-lg 
                     hover:bg-[#00304A] transition-all duration-200 shadow-lg hover:shadow-xl 
                     transform hover:-translate-y-0.5`,children:[R.jsx(wR,{className:"mr-2 group-hover:scale-110 transition-transform duration-200"}),R.jsx("span",{className:"font-semibold",children:"Add Another Account"})]}),_&&R.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-red-800",children:[R.jsx(js,{className:"h-5 w-5 mr-2"}),R.jsx("span",{children:_})]})}),R.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[R.jsx("button",{onClick:We,disabled:h,className:`bg-[#002F4A] text-white px-8 py-4 rounded-lg font-semibold 
                      text-lg transition-colors duration-200 
                      shadow-lg hover:shadow-xl
                      ${h?"opacity-75 cursor-not-allowed":"hover:bg-[#00304A]"}`,children:h?R.jsxs("span",{className:"flex items-center justify-center",children:[R.jsx(Mh,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Submitting..."]}):"Submit FBAR Information"}),R.jsx("button",{onClick:O,disabled:d,className:`bg-white border-2 border-[#002F4A] text-[#002F4A] px-8 py-4 rounded-lg font-semibold 
                      text-lg transition-colors duration-200 
                      shadow-lg hover:shadow-xl flex items-center justify-center
                      ${d?"opacity-75 cursor-not-allowed":"hover:bg-gray-50"}`,children:d?R.jsxs("span",{className:"flex items-center justify-center",children:[R.jsx(Mh,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Saving..."]}):R.jsxs(R.Fragment,{children:[R.jsx(TR,{className:"mr-2 h-5 w-5"}),"Save for Later"]})})]})]})]})})}function ND(){return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC] flex items-center justify-center px-4",children:R.jsxs("div",{className:"max-w-2xl w-full text-center",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12 mx-auto mb-8"}),R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 md:p-12",children:[R.jsx("div",{className:"flex justify-center mb-6",children:R.jsx("div",{className:"rounded-full bg-green-100 p-3",children:R.jsx(rn,{className:"h-12 w-12 text-green-600"})})}),R.jsx("h1",{className:"text-3xl font-bold text-[#002F4A] mb-4",children:"Thank You for Your Submission"}),R.jsx("p",{className:"text-gray-600 mb-8",children:"Your FBAR information has been successfully received. Our team will review your submission and contact you if any additional information is needed."}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[R.jsx("h2",{className:"font-semibold text-[#002F4A] mb-2",children:"What's Next?"}),R.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[R.jsx("li",{children:"• Our team will review your submission"}),R.jsx("li",{children:"• We'll prepare your FBAR filing"}),R.jsx("li",{children:"• You'll receive a confirmation once filed"})]})]}),R.jsx(fR,{to:"/",className:`inline-block bg-[#002F4A] text-white px-6 py-3 rounded-lg 
                       font-semibold hover:bg-[#00304A] transition-colors duration-200`,children:"Return to Home"})]})]})]})})}function FD(){const[t,e]=ie.useState(""),[r,n]=ie.useState(""),[i,s]=ie.useState(""),[a,o]=ie.useState(!1),l=Fo(),c=async h=>{h.preventDefault(),s(""),o(!0);try{await lO(kp,t,r),l("/admin/dashboard")}catch(f){switch(f.code){case"auth/invalid-credential":s("Email veya şifre hatalı. Lütfen bilgilerinizi kontrol edip tekrar deneyin.");break;case"auth/invalid-email":s("Geçersiz email adresi. Lütfen doğru bir email adresi girin.");break;case"auth/user-disabled":s("Bu hesap devre dışı bırakılmış. Lütfen yönetici ile iletişime geçin.");break;case"auth/user-not-found":s("Bu email adresi ile kayıtlı bir hesap bulunamadı.");break;case"auth/too-many-requests":s("Çok fazla başarısız giriş denemesi. Lütfen daha sonra tekrar deneyin.");break;default:s("Giriş yapılırken bir hata oluştu. Lütfen daha sonra tekrar deneyin.")}}finally{o(!1)}};return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC] flex items-center justify-center px-4",children:R.jsxs("div",{className:"max-w-md w-full",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12 mx-auto mb-8"}),R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[R.jsx("h1",{className:"text-2xl font-bold text-[#002F4A] mb-6",children:"Admin Login"}),i&&R.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-red-800",children:[R.jsx(js,{className:"h-5 w-5 mr-2 flex-shrink-0"}),R.jsx("span",{className:"text-sm",children:i})]})}),R.jsxs("form",{onSubmit:c,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),R.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),R.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]}),R.jsx("button",{type:"submit",disabled:a,className:`w-full bg-[#002F4A] text-white px-4 py-2 rounded-md font-semibold
                       ${a?"opacity-75 cursor-not-allowed":"hover:bg-[#00304A]"}
                       transition-colors duration-200`,children:a?"Giriş yapılıyor...":"Giriş Yap"})]})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var tf={};tf.version="0.18.5";var UT=1252,OD=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jT=function(t){OD.indexOf(t)!=-1&&(UT=t)};function DD(){jT(1252)}var gu=function(t){jT(t)};function LD(){gu(1200),DD()}var Lc=function(e){return String.fromCharCode(e)},hy=function(e){return String.fromCharCode(e)},Os,$i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vu(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=$i.charAt(s)+$i.charAt(a)+$i.charAt(o)+$i.charAt(l);return e}function gi(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=$i.indexOf(t.charAt(c++)),a=$i.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=$i.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=$i.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ei=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ta(t){return qe?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function fy(t){return qe?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var xn=function(e){return qe?Ei(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Jf(t){if(typeof ArrayBuffer>"u")return xn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function zu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function MD(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Zt=qe?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ei(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function bD(t){for(var e=[],r=0,n=t.length+250,i=ta(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ta(65535),n=65530)}return e.push(i.slice(0,r)),Zt(e)}var bl=/\u0000/g,Mc=/[\u0001-\u0006]/g;function so(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function En(t,e){var r=""+t;return r.length>=e?r:xt("0",e-r.length)+r}function Ig(t,e){var r=""+t;return r.length>=e?r:xt(" ",e-r.length)+r}function rf(t,e){var r=""+t;return r.length>=e?r:r+xt(" ",e-r.length)}function VD(t,e){var r=""+Math.round(t);return r.length>=e?r:xt("0",e-r.length)+r}function BD(t,e){var r=""+t;return r.length>=e?r:xt("0",e-r.length)+r}var dy=Math.pow(2,32);function Ca(t,e){if(t>dy||t<-dy)return VD(t,e);var r=Math.round(t);return BD(r,e)}function nf(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var py=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ed=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UD(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Et={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},my={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jD={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sf(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,h=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,h=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=h;if(h>e&&(c>e?(h=l,o=s):(h=c,o=a)),!r)return[0,n*o,h];var d=Math.floor(n*o/h);return[d,n*o-d*h,h]}function bc(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=qD(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var WT=new Date(1899,11,31,0,0,0),WD=WT.getTime(),zD=new Date(1900,2,1,0,0,0);function zT(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=zD&&(r+=24*60*60*1e3),(r-(WD+(t.getTimezoneOffset()-WT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Cg(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $D(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function HD(t){var e=t<0?12:11,r=Cg(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function GD(t){var e=Cg(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function KD(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=HD(t):e===10?r=t.toFixed(10).substr(0,12):r=GD(t),Cg($D(r.toUpperCase()))}function Pp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):KD(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return fs(14,zT(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function qD(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function XD(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return ed[r.m-1][1];case 5:return ed[r.m-1][0];default:return ed[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return py[r.q][0];default:return py[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?En(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=En(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var h=c>0?En(l,c):"";return h}function Hi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var $T=/%/g;function YD(t,e,r){var n=e.replace($T,""),i=e.length-n.length;return si(t,n,r*Math.pow(10,2*i))+xt("%",i)}function QD(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return si(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function HT(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+HT(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,h){return l+c+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var GT=/# (\?+)( ?)\/( ?)(\d+)/;function JD(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?xt(" ",t[1].length+1+t[4].length):Ig(a,t[1].length)+t[2]+"/"+t[3]+En(o,t[4].length))}function ZD(t,e,r){return r+(e===0?"":""+e)+xt(" ",t[1].length+2+t[4].length)}var KT=/^#*0*\.([0#]+)/,qT=/\).*[0#]/,XT=/\(###\) ###\\?-####/;function xr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function gy(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function vy(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function eL(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function tL(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function tn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qT)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?tn("n",n,r):"("+tn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return QD(t,e,r);if(e.indexOf("%")!==-1)return YD(t,e,r);if(e.indexOf("E")!==-1)return HT(e,r);if(e.charCodeAt(0)===36)return"$"+tn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Ca(l,e.length);if(e.match(/^[#?]+$/))return i=Ca(r,0),i==="0"&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(GT))return JD(s,l,c);if(e.match(/^#+0+$/))return c+Ca(l,e.length-e.indexOf("0"));if(s=e.match(KT))return i=gy(r,s[1].length).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])).replace(/\.(\d*)$/,function(_,g){return"."+g+xt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+gy(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Hi(Ca(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+tn(t,e,-r):Hi(""+(Math.floor(r)+eL(r,s[1].length)))+"."+En(vy(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return tn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=so(tn(t,e.replace(/[\\-]/g,""),r)),a=0,so(so(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(XT))return i=tn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=sf(l,Math.pow(10,a)-1,!1),i=""+c,h=si("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=rf(o[2],a),h.length<s[4].length&&(h=xr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=sf(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ig(o[1],a)+s[2]+"/"+s[3]+rf(o[2],a):xt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ca(r,0),e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return xr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=vy(r,s[1].length),r<0?"-"+tn(t,e,-r):Hi(tL(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?En(0,3-_.length):"")+_})+"."+En(a,s[1].length);switch(e){case"###,##0.00":return tn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Hi(Ca(l,0));return m!=="0"?c+m:"";case"###,###.00":return tn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return tn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function rL(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return si(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function nL(t,e,r){var n=e.replace($T,""),i=e.length-n.length;return si(t,n,r*Math.pow(10,2*i))+xt("%",i)}function YT(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+YT(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,h){return l+c+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Nn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qT)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nn("n",n,r):"("+Nn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return rL(t,e,r);if(e.indexOf("%")!==-1)return nL(t,e,r);if(e.indexOf("E")!==-1)return YT(e,r);if(e.charCodeAt(0)===36)return"$"+Nn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+En(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(GT))return ZD(s,l,c);if(e.match(/^#+0+$/))return c+En(l,e.length-e.indexOf("0"));if(s=e.match(KT))return i=(""+r).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])),i=i.replace(/\.(\d*)$/,function(_,g){return"."+g+xt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Hi(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nn(t,e,-r):Hi(""+r)+"."+xt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Nn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=so(Nn(t,e.replace(/[\\-]/g,""),r)),a=0,so(so(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(XT))return i=Nn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=sf(l,Math.pow(10,a)-1,!1),i=""+c,h=si("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=rf(o[2],a),h.length<s[4].length&&(h=xr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=sf(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ig(o[1],a)+s[2]+"/"+s[3]+rf(o[2],a):xt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return xr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Nn(t,e,-r):Hi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?En(0,3-_.length):"")+_})+"."+En(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Hi(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return Nn(t,e.slice(0,e.lastIndexOf(".")),r)+xr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function si(t,e,r){return(r|0)===r?Nn(t,e,r):tn(t,e,r)}function iL(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var QT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function JT(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":nf(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(QT))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function sL(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,h,f,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!nf(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),_=m==="("||m===")"?m:"t";i[i.length]={t:_,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=bc(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=bc(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(c==null&&(c=bc(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(g.v=c.H>=12?"下午":"上午"),g.t="T",a+=5,d="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(QT)){if(c==null&&(c=bc(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",JT(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,S=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",y<1&&(y=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(S=Math.max(S,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var T="",M;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=XD(i[a].t.charCodeAt(0),i[a].v,c,S),i[a].t="t";break;case"n":case"?":for(M=a+1;i[M]!=null&&((o=i[M].t)==="?"||o==="D"||(o===" "||o==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[a].v+=i[M].v,i[M]={v:"",t:";"},++M;T+=i[a].v,a=M-1;break;case"G":i[a].t="t",i[a].v=Pp(e,r);break}var z="",G,w;if(T.length>0){T.charCodeAt(0)==40?(G=e<0&&T.charCodeAt(0)===45?-e:e,w=si("n",T,G)):(G=e<0&&n>1?-e:e,w=si("n",T,G),G<0&&i[0]&&i[0].t=="t"&&(w=w.substr(1),i[0].v="-"+i[0].v)),M=w.length-1;var E=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){E=a;break}var A=i.length;if(E===i.length&&w.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(M>=i[a].v.length-1?(M-=i[a].v.length,i[a].v=w.substr(M+1,i[a].v.length)):M<0?i[a].v="":(i[a].v=w.substr(0,M+1),M=-1),i[a].t="t",A=a);M>=0&&A<i.length&&(i[A].v=w.substr(0,M+1)+i[A].v)}else if(E!==i.length&&w.indexOf("E")===-1){for(M=w.indexOf(".")-1,a=E;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")-1:i[a].v.length-1,z=i[a].v.substr(h+1);h>=0;--h)M>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(z=w.charAt(M--)+z);i[a].v=z,i[a].t="t",A=a}for(M>=0&&A<i.length&&(i[A].v=w.substr(0,M+1)+i[A].v),M=w.indexOf(".")+1,a=E;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==E)){for(h=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")+1:0,z=i[a].v.substr(0,h);h<i[a].v.length;++h)M<w.length&&(z+=w.charAt(M++));i[a].v=z,i[a].t="t",A=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(G=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=si(i[a].t,i[a].v,G),i[a].t="t");var C="";for(a=0;a!==i.length;++a)i[a]!=null&&(C+=i[a].v);return C}var _y=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yy(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function aL(t,e){var r=iL(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(_y),o=r[1].match(_y);return yy(e,a)?[n,r[0]]:yy(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function fs(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Et)[t],n==null&&(n=r.table&&r.table[my[t]]||Et[my[t]]),n==null&&(n=jD[t]||"General");break}if(nf(n,0))return Pp(e,r);e instanceof Date&&(e=zT(e,r.date1904));var i=aL(n,e);if(nf(i[1]))return Pp(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return sL(i[1],e,r,i[0])}function ZT(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Et[r]==null){e<0&&(e=r);continue}if(Et[r]==t){e=r;break}}e<0&&(e=391)}return Et[e]=t,e}function Zf(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ZT(t[e],e)}function e0(){Et=UD()}var eS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function oL(t){var e=typeof t=="number"?Et[t]:t;return e=e.replace(eS,"(\\d+)"),new RegExp("^"+e+"$")}function lL(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(eS)||[]).forEach(function(f,d){var m=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?h:c+"T"+h}var uL=function(){var t={};t.version="1.2.0";function e(){for(var w=0,E=new Array(256),A=0;A!=256;++A)w=A,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,E[A]=w;return typeof Int32Array<"u"?new Int32Array(E):E}var r=e();function n(w){var E=0,A=0,C=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)O[C]=w[C];for(C=0;C!=256;++C)for(A=w[C],E=256+C;E<4096;E+=256)A=O[E]=A>>>8^w[A&255];var V=[];for(C=1;C!=16;++C)V[C-1]=typeof Int32Array<"u"?O.subarray(C*256,C*256+256):O.slice(C*256,C*256+256);return V}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],h=i[5],f=i[6],d=i[7],m=i[8],_=i[9],g=i[10],y=i[11],S=i[12],x=i[13],T=i[14];function M(w,E){for(var A=E^-1,C=0,O=w.length;C<O;)A=A>>>8^r[(A^w.charCodeAt(C++))&255];return~A}function z(w,E){for(var A=E^-1,C=w.length-15,O=0;O<C;)A=T[w[O++]^A&255]^x[w[O++]^A>>8&255]^S[w[O++]^A>>16&255]^y[w[O++]^A>>>24]^g[w[O++]]^_[w[O++]]^m[w[O++]]^d[w[O++]]^f[w[O++]]^h[w[O++]]^c[w[O++]]^l[w[O++]]^o[w[O++]]^a[w[O++]]^s[w[O++]]^r[w[O++]];for(C+=15;O<C;)A=A>>>8^r[(A^w[O++])&255];return~A}function G(w,E){for(var A=E^-1,C=0,O=w.length,V=0,F=0;C<O;)V=w.charCodeAt(C++),V<128?A=A>>>8^r[(A^V)&255]:V<2048?(A=A>>>8^r[(A^(192|V>>6&31))&255],A=A>>>8^r[(A^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,F=w.charCodeAt(C++)&1023,A=A>>>8^r[(A^(240|V>>8&7))&255],A=A>>>8^r[(A^(128|V>>2&63))&255],A=A>>>8^r[(A^(128|F>>6&15|(V&3)<<4))&255],A=A>>>8^r[(A^(128|F&63))&255]):(A=A>>>8^r[(A^(224|V>>12&15))&255],A=A>>>8^r[(A^(128|V>>6&63))&255],A=A>>>8^r[(A^(128|V&63))&255]);return~A}return t.table=r,t.bstr=M,t.buf=z,t.str=G,t}(),rt=function(){var e={};e.version="1.2.1";function r(I,L){for(var P=I.split("/"),D=L.split("/"),b=0,B=0,K=Math.min(P.length,D.length);b<K;++b){if(B=P[b].length-D[b].length)return B;if(P[b]!=D[b])return P[b]<D[b]?-1:1}return P.length-D.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var L=I.lastIndexOf("/");return L===-1?I:I.slice(0,L+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var L=I.lastIndexOf("/");return L===-1?I:I.slice(L+1)}function s(I,L){typeof L=="string"&&(L=new Date(L));var P=L.getHours();P=P<<6|L.getMinutes(),P=P<<5|L.getSeconds()>>>1,I.write_shift(2,P);var D=L.getFullYear()-1980;D=D<<4|L.getMonth()+1,D=D<<5|L.getDate(),I.write_shift(2,D)}function a(I){var L=I.read_shift(2)&65535,P=I.read_shift(2)&65535,D=new Date,b=P&31;P>>>=5;var B=P&15;P>>>=4,D.setMilliseconds(0),D.setFullYear(P+1980),D.setMonth(B-1),D.setDate(b);var K=L&31;L>>>=5;var J=L&63;return L>>>=6,D.setHours(L),D.setMinutes(J),D.setSeconds(K<<1),D}function o(I){zr(I,0);for(var L={},P=0;I.l<=I.length-4;){var D=I.read_shift(2),b=I.read_shift(2),B=I.l+b,K={};switch(D){case 21589:P=I.read_shift(1),P&1&&(K.mtime=I.read_shift(4)),b>5&&(P&2&&(K.atime=I.read_shift(4)),P&4&&(K.ctime=I.read_shift(4))),K.mtime&&(K.mt=new Date(K.mtime*1e3));break}I.l=B,L[D]=K}return L}var l;function c(){return l||(l={})}function h(I,L){if(I[0]==80&&I[1]==75)return Go(I,L);if((I[0]|32)==109&&(I[1]|32)==105)return ec(I,L);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var P=3,D=512,b=0,B=0,K=0,J=0,q=0,X=[],Y=I.slice(0,512);zr(Y,0);var ae=f(Y);switch(P=ae[0],P){case 3:D=512;break;case 4:D=4096;break;case 0:if(ae[1]==0)return Go(I,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}D!==512&&(Y=I.slice(0,D),zr(Y,28));var me=I.slice(0,D);d(Y,P);var ye=Y.read_shift(4,"i");if(P===3&&ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ye);Y.l+=4,K=Y.read_shift(4,"i"),Y.l+=4,Y.chk("00100000","Mini Stream Cutoff Size: "),J=Y.read_shift(4,"i"),b=Y.read_shift(4,"i"),q=Y.read_shift(4,"i"),B=Y.read_shift(4,"i");for(var ce=-1,_e=0;_e<109&&(ce=Y.read_shift(4,"i"),!(ce<0));++_e)X[_e]=ce;var Ne=m(I,D);y(q,B,Ne,D,X);var nt=x(Ne,K,X,D);nt[K].name="!Directory",b>0&&J!==F&&(nt[J].name="!MiniFAT"),nt[X[0]].name="!FAT",nt.fat_addrs=X,nt.ssz=D;var Xe={},ft=[],Kn=[],As=[];T(K,nt,Ne,ft,b,Xe,Kn,J),_(Kn,As,ft),ft.shift();var Si={FileIndex:Kn,FullPaths:As};return L&&L.raw&&(Si.raw={header:me,sectors:Ne}),Si}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(Ie,"Header Signature: "),I.l+=16;var L=I.read_shift(2,"u");return[I.read_shift(2,"u"),L]}function d(I,L){var P=9;switch(I.l+=2,P=I.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,L){for(var P=Math.ceil(I.length/L)-1,D=[],b=1;b<P;++b)D[b-1]=I.slice(b*L,(b+1)*L);return D[P-1]=I.slice(P*L),D}function _(I,L,P){for(var D=0,b=0,B=0,K=0,J=0,q=P.length,X=[],Y=[];D<q;++D)X[D]=Y[D]=D,L[D]=P[D];for(;J<Y.length;++J)D=Y[J],b=I[D].L,B=I[D].R,K=I[D].C,X[D]===D&&(b!==-1&&X[b]!==b&&(X[D]=X[b]),B!==-1&&X[B]!==B&&(X[D]=X[B])),K!==-1&&(X[K]=D),b!==-1&&D!=X[D]&&(X[b]=X[D],Y.lastIndexOf(b)<J&&Y.push(b)),B!==-1&&D!=X[D]&&(X[B]=X[D],Y.lastIndexOf(B)<J&&Y.push(B));for(D=1;D<q;++D)X[D]===D&&(B!==-1&&X[B]!==B?X[D]=X[B]:b!==-1&&X[b]!==b&&(X[D]=X[b]));for(D=1;D<q;++D)if(I[D].type!==0){if(J=D,J!=X[J])do J=X[J],L[D]=L[J]+"/"+L[D];while(J!==0&&X[J]!==-1&&J!=X[J]);X[D]=-1}for(L[0]+="/",D=1;D<q;++D)I[D].type!==2&&(L[D]+="/")}function g(I,L,P){for(var D=I.start,b=I.size,B=[],K=D;P&&b>0&&K>=0;)B.push(L.slice(K*V,K*V+V)),b-=V,K=Ds(P,K*4);return B.length===0?ee(0):Zt(B).slice(0,I.size)}function y(I,L,P,D,b){var B=F;if(I===F){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var K=P[I],J=(D>>>2)-1;if(!K)return;for(var q=0;q<J&&(B=Ds(K,q*4))!==F;++q)b.push(B);y(Ds(K,D-4),L-1,P,D,b)}}function S(I,L,P,D,b){var B=[],K=[];b||(b=[]);var J=D-1,q=0,X=0;for(q=L;q>=0;){b[q]=!0,B[B.length]=q,K.push(I[q]);var Y=P[Math.floor(q*4/D)];if(X=q*4&J,D<4+X)throw new Error("FAT boundary crossed: "+q+" 4 "+D);if(!I[Y])break;q=Ds(I[Y],X)}return{nodes:B,data:Cy([K])}}function x(I,L,P,D){var b=I.length,B=[],K=[],J=[],q=[],X=D-1,Y=0,ae=0,me=0,ye=0;for(Y=0;Y<b;++Y)if(J=[],me=Y+L,me>=b&&(me-=b),!K[me]){q=[];var ce=[];for(ae=me;ae>=0;){ce[ae]=!0,K[ae]=!0,J[J.length]=ae,q.push(I[ae]);var _e=P[Math.floor(ae*4/D)];if(ye=ae*4&X,D<4+ye)throw new Error("FAT boundary crossed: "+ae+" 4 "+D);if(!I[_e]||(ae=Ds(I[_e],ye),ce[ae]))break}B[me]={nodes:J,data:Cy([q])}}return B}function T(I,L,P,D,b,B,K,J){for(var q=0,X=D.length?2:0,Y=L[I].data,ae=0,me=0,ye;ae<Y.length;ae+=128){var ce=Y.slice(ae,ae+128);zr(ce,64),me=ce.read_shift(2),ye=Fg(ce,0,me-X),D.push(ye);var _e={name:ye,type:ce.read_shift(1),color:ce.read_shift(1),L:ce.read_shift(4,"i"),R:ce.read_shift(4,"i"),C:ce.read_shift(4,"i"),clsid:ce.read_shift(16),state:ce.read_shift(4,"i"),start:0,size:0},Ne=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);Ne!==0&&(_e.ct=M(ce,ce.l-8));var nt=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);nt!==0&&(_e.mt=M(ce,ce.l-8)),_e.start=ce.read_shift(4,"i"),_e.size=ce.read_shift(4,"i"),_e.size<0&&_e.start<0&&(_e.size=_e.type=0,_e.start=F,_e.name=""),_e.type===5?(q=_e.start,b>0&&q!==F&&(L[q].name="!StreamData")):_e.size>=4096?(_e.storage="fat",L[_e.start]===void 0&&(L[_e.start]=S(P,_e.start,L.fat_addrs,L.ssz)),L[_e.start].name=_e.name,_e.content=L[_e.start].data.slice(0,_e.size)):(_e.storage="minifat",_e.size<0?_e.size=0:q!==F&&_e.start!==F&&L[q]&&(_e.content=g(_e,L[q].data,(L[J]||{}).data))),_e.content&&zr(_e.content,0),B[ye]=_e,K.push(_e)}}function M(I,L){return new Date((Hr(I,L+4)/1e7*Math.pow(2,32)+Hr(I,L)/1e7-11644473600)*1e3)}function z(I,L){return c(),h(l.readFileSync(I),L)}function G(I,L){var P=L&&L.type;switch(P||qe&&Buffer.isBuffer(I)&&(P="buffer"),P||"base64"){case"file":return z(I,L);case"base64":return h(xn(gi(I)),L);case"binary":return h(xn(I),L)}return h(I,L)}function w(I,L){var P=L||{},D=P.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=D+"/",I.FileIndex[0]={name:D,type:5}),P.CLSID&&(I.FileIndex[0].clsid=P.CLSID),E(I)}function E(I){var L="Sh33tJ5";if(!rt.find(I,"/"+L)){var P=ee(4);P[0]=55,P[1]=P[3]=50,P[2]=54,I.FileIndex.push({name:L,type:2,content:P,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+L),A(I)}}function A(I,L){w(I);for(var P=!1,D=!1,b=I.FullPaths.length-1;b>=0;--b){var B=I.FileIndex[b];switch(B.type){case 0:D?P=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(B.R*B.L*B.C)&&(P=!0),B.R>-1&&B.L>-1&&B.R==B.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!L)){var K=new Date(1987,1,19),J=0,q=Object.create?Object.create(null):{},X=[];for(b=0;b<I.FullPaths.length;++b)q[I.FullPaths[b]]=!0,I.FileIndex[b].type!==0&&X.push([I.FullPaths[b],I.FileIndex[b]]);for(b=0;b<X.length;++b){var Y=n(X[b][0]);D=q[Y],D||(X.push([Y,{name:i(Y).replace("/",""),type:1,clsid:We,ct:K,mt:K,content:null}]),q[Y]=!0)}for(X.sort(function(ye,ce){return r(ye[0],ce[0])}),I.FullPaths=[],I.FileIndex=[],b=0;b<X.length;++b)I.FullPaths[b]=X[b][0],I.FileIndex[b]=X[b][1];for(b=0;b<X.length;++b){var ae=I.FileIndex[b],me=I.FullPaths[b];if(ae.name=i(me).replace("/",""),ae.L=ae.R=ae.C=-(ae.color=1),ae.size=ae.content?ae.content.length:0,ae.start=0,ae.clsid=ae.clsid||We,b===0)ae.C=X.length>1?1:-1,ae.size=0,ae.type=5;else if(me.slice(-1)=="/"){for(J=b+1;J<X.length&&n(I.FullPaths[J])!=me;++J);for(ae.C=J>=X.length?-1:J,J=b+1;J<X.length&&n(I.FullPaths[J])!=n(me);++J);ae.R=J>=X.length?-1:J,ae.type=1}else n(I.FullPaths[b+1]||"")==n(me)&&(ae.R=b+1),ae.type=2}}}function C(I,L){var P=L||{};if(P.fileType=="mad")return Gt(I,P);switch(A(I),P.fileType){case"zip":return Ko(I,P)}var D=function(ye){for(var ce=0,_e=0,Ne=0;Ne<ye.FileIndex.length;++Ne){var nt=ye.FileIndex[Ne];if(nt.content){var Xe=nt.content.length;Xe>0&&(Xe<4096?ce+=Xe+63>>6:_e+=Xe+511>>9)}}for(var ft=ye.FullPaths.length+3>>2,Kn=ce+7>>3,As=ce+127>>7,Si=Kn+_e+ft+As,kn=Si+127>>7,Ea=kn<=109?0:Math.ceil((kn-109)/127);Si+kn+Ea+127>>7>kn;)Ea=++kn<=109?0:Math.ceil((kn-109)/127);var Br=[1,Ea,kn,As,ft,_e,ce,0];return ye.FileIndex[0].size=ce<<6,Br[7]=(ye.FileIndex[0].start=Br[0]+Br[1]+Br[2]+Br[3]+Br[4]+Br[5])+(Br[6]+7>>3),Br}(I),b=ee(D[7]<<9),B=0,K=0;{for(B=0;B<8;++B)b.write_shift(1,Ce[B]);for(B=0;B<8;++B)b.write_shift(2,0);for(b.write_shift(2,62),b.write_shift(2,3),b.write_shift(2,65534),b.write_shift(2,9),b.write_shift(2,6),B=0;B<3;++B)b.write_shift(2,0);for(b.write_shift(4,0),b.write_shift(4,D[2]),b.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),b.write_shift(4,0),b.write_shift(4,4096),b.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:F),b.write_shift(4,D[3]),b.write_shift(-4,D[1]?D[0]-1:F),b.write_shift(4,D[1]),B=0;B<109;++B)b.write_shift(-4,B<D[2]?D[1]+B:-1)}if(D[1])for(K=0;K<D[1];++K){for(;B<236+K*127;++B)b.write_shift(-4,B<D[2]?D[1]+B:-1);b.write_shift(-4,K===D[1]-1?F:K+1)}var J=function(ye){for(K+=ye;B<K-1;++B)b.write_shift(-4,B+1);ye&&(++B,b.write_shift(-4,F))};for(K=B=0,K+=D[1];B<K;++B)b.write_shift(-4,he.DIFSECT);for(K+=D[2];B<K;++B)b.write_shift(-4,he.FATSECT);J(D[3]),J(D[4]);for(var q=0,X=0,Y=I.FileIndex[0];q<I.FileIndex.length;++q)Y=I.FileIndex[q],Y.content&&(X=Y.content.length,!(X<4096)&&(Y.start=K,J(X+511>>9)));for(J(D[6]+7>>3);b.l&511;)b.write_shift(-4,he.ENDOFCHAIN);for(K=B=0,q=0;q<I.FileIndex.length;++q)Y=I.FileIndex[q],Y.content&&(X=Y.content.length,!(!X||X>=4096)&&(Y.start=K,J(X+63>>6)));for(;b.l&511;)b.write_shift(-4,he.ENDOFCHAIN);for(B=0;B<D[4]<<2;++B){var ae=I.FullPaths[B];if(!ae||ae.length===0){for(q=0;q<17;++q)b.write_shift(4,0);for(q=0;q<3;++q)b.write_shift(4,-1);for(q=0;q<12;++q)b.write_shift(4,0);continue}Y=I.FileIndex[B],B===0&&(Y.start=Y.size?Y.start-1:F);var me=B===0&&P.root||Y.name;if(X=2*(me.length+1),b.write_shift(64,me,"utf16le"),b.write_shift(2,X),b.write_shift(1,Y.type),b.write_shift(1,Y.color),b.write_shift(-4,Y.L),b.write_shift(-4,Y.R),b.write_shift(-4,Y.C),Y.clsid)b.write_shift(16,Y.clsid,"hex");else for(q=0;q<4;++q)b.write_shift(4,0);b.write_shift(4,Y.state||0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,0),b.write_shift(4,Y.start),b.write_shift(4,Y.size),b.write_shift(4,0)}for(B=1;B<I.FileIndex.length;++B)if(Y=I.FileIndex[B],Y.size>=4096)if(b.l=Y.start+1<<9,qe&&Buffer.isBuffer(Y.content))Y.content.copy(b,b.l,0,Y.size),b.l+=Y.size+511&-512;else{for(q=0;q<Y.size;++q)b.write_shift(1,Y.content[q]);for(;q&511;++q)b.write_shift(1,0)}for(B=1;B<I.FileIndex.length;++B)if(Y=I.FileIndex[B],Y.size>0&&Y.size<4096)if(qe&&Buffer.isBuffer(Y.content))Y.content.copy(b,b.l,0,Y.size),b.l+=Y.size+63&-64;else{for(q=0;q<Y.size;++q)b.write_shift(1,Y.content[q]);for(;q&63;++q)b.write_shift(1,0)}if(qe)b.l=b.length;else for(;b.l<b.length;)b.write_shift(1,0);return b}function O(I,L){var P=I.FullPaths.map(function(q){return q.toUpperCase()}),D=P.map(function(q){var X=q.split("/");return X[X.length-(q.slice(-1)=="/"?2:1)]}),b=!1;L.charCodeAt(0)===47?(b=!0,L=P[0].slice(0,-1)+L):b=L.indexOf("/")!==-1;var B=L.toUpperCase(),K=b===!0?P.indexOf(B):D.indexOf(B);if(K!==-1)return I.FileIndex[K];var J=!B.match(Mc);for(B=B.replace(bl,""),J&&(B=B.replace(Mc,"!")),K=0;K<P.length;++K)if((J?P[K].replace(Mc,"!"):P[K]).replace(bl,"")==B||(J?D[K].replace(Mc,"!"):D[K]).replace(bl,"")==B)return I.FileIndex[K];return null}var V=64,F=-2,Ie="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],We="00000000000000000000000000000000",he={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:Ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:We,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(I,L,P){c();var D=C(I,P);l.writeFileSync(L,D)}function ue(I){for(var L=new Array(I.length),P=0;P<I.length;++P)L[P]=String.fromCharCode(I[P]);return L.join("")}function oe(I,L){var P=C(I,L);switch(L&&L.type||"buffer"){case"file":return c(),l.writeFileSync(L.filename,P),P;case"binary":return typeof P=="string"?P:ue(P);case"base64":return vu(typeof P=="string"?P:ue(P));case"buffer":if(qe)return Buffer.isBuffer(P)?P:Ei(P);case"array":return typeof P=="string"?xn(P):P}return P}var ke;function N(I){try{var L=I.InflateRaw,P=new L;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)ke=I;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function j(I,L){if(!ke)return ya(I,L);var P=ke.InflateRaw,D=new P,b=D._processChunk(I.slice(I.l),D._finishFlushFlag);return I.l+=D.bytesRead,b}function U(I){return ke?ke.deflateRawSync(I):Wo(I)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(I){var L=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(L>>16|L>>8|L)&255}for(var Te=typeof Uint8Array<"u",ve=Te?new Uint8Array(256):[],$e=0;$e<256;++$e)ve[$e]=Ae($e);function Me(I,L){var P=ve[I&255];return L<=8?P>>>8-L:(P=P<<8|ve[I>>8&255],L<=16?P>>>16-L:(P=P<<8|ve[I>>16&255],P>>>24-L))}function Ot(I,L){var P=L&7,D=L>>>3;return(I[D]|(P<=6?0:I[D+1]<<8))>>>P&3}function Ue(I,L){var P=L&7,D=L>>>3;return(I[D]|(P<=5?0:I[D+1]<<8))>>>P&7}function Vr(I,L){var P=L&7,D=L>>>3;return(I[D]|(P<=4?0:I[D+1]<<8))>>>P&15}function at(I,L){var P=L&7,D=L>>>3;return(I[D]|(P<=3?0:I[D+1]<<8))>>>P&31}function Ee(I,L){var P=L&7,D=L>>>3;return(I[D]|(P<=1?0:I[D+1]<<8))>>>P&127}function Ir(I,L,P){var D=L&7,b=L>>>3,B=(1<<P)-1,K=I[b]>>>D;return P<8-D||(K|=I[b+1]<<8-D,P<16-D)||(K|=I[b+2]<<16-D,P<24-D)||(K|=I[b+3]<<24-D),K&B}function Zr(I,L,P){var D=L&7,b=L>>>3;return D<=5?I[b]|=(P&7)<<D:(I[b]|=P<<D&255,I[b+1]=(P&7)>>8-D),L+3}function fn(I,L,P){var D=L&7,b=L>>>3;return P=(P&1)<<D,I[b]|=P,L+1}function $n(I,L,P){var D=L&7,b=L>>>3;return P<<=D,I[b]|=P&255,P>>>=8,I[b+1]=P,L+8}function Xu(I,L,P){var D=L&7,b=L>>>3;return P<<=D,I[b]|=P&255,P>>>=8,I[b+1]=P&255,I[b+2]=P>>>8,L+16}function xs(I,L){var P=I.length,D=2*P>L?2*P:L+5,b=0;if(P>=L)return I;if(qe){var B=fy(D);if(I.copy)I.copy(B);else for(;b<I.length;++b)B[b]=I[b];return B}else if(Te){var K=new Uint8Array(D);if(K.set)K.set(I);else for(;b<P;++b)K[b]=I[b];return K}return I.length=D,I}function Cr(I){for(var L=new Array(I),P=0;P<I;++P)L[P]=0;return L}function Es(I,L,P){var D=1,b=0,B=0,K=0,J=0,q=I.length,X=Te?new Uint16Array(32):Cr(32);for(B=0;B<32;++B)X[B]=0;for(B=q;B<P;++B)I[B]=0;q=I.length;var Y=Te?new Uint16Array(q):Cr(q);for(B=0;B<q;++B)X[b=I[B]]++,D<b&&(D=b),Y[B]=0;for(X[0]=0,B=1;B<=D;++B)X[B+16]=J=J+X[B-1]<<1;for(B=0;B<q;++B)J=I[B],J!=0&&(Y[B]=X[J+16]++);var ae=0;for(B=0;B<q;++B)if(ae=I[B],ae!=0)for(J=Me(Y[B],D)>>D-ae,K=(1<<D+4-ae)-1;K>=0;--K)L[J|K<<ae]=ae&15|B<<4;return D}var St=Te?new Uint16Array(512):Cr(512),Dt=Te?new Uint16Array(32):Cr(32);if(!Te){for(var en=0;en<512;++en)St[en]=0;for(en=0;en<32;++en)Dt[en]=0}(function(){for(var I=[],L=0;L<32;L++)I.push(5);Es(I,Dt,32);var P=[];for(L=0;L<=143;L++)P.push(8);for(;L<=255;L++)P.push(9);for(;L<=279;L++)P.push(7);for(;L<=287;L++)P.push(8);Es(P,St,288)})();var Yu=function(){for(var L=Te?new Uint8Array(32768):[],P=0,D=0;P<pe.length-1;++P)for(;D<pe[P+1];++D)L[D]=P;for(;D<32768;++D)L[D]=29;var b=Te?new Uint8Array(259):[];for(P=0,D=0;P<Z.length-1;++P)for(;D<Z[P+1];++D)b[D]=P;function B(J,q){for(var X=0;X<J.length;){var Y=Math.min(65535,J.length-X),ae=X+Y==J.length;for(q.write_shift(1,+ae),q.write_shift(2,Y),q.write_shift(2,~Y&65535);Y-- >0;)q[q.l++]=J[X++]}return q.l}function K(J,q){for(var X=0,Y=0,ae=Te?new Uint16Array(32768):[];Y<J.length;){var me=Math.min(65535,J.length-Y);if(me<10){for(X=Zr(q,X,+(Y+me==J.length)),X&7&&(X+=8-(X&7)),q.l=X/8|0,q.write_shift(2,me),q.write_shift(2,~me&65535);me-- >0;)q[q.l++]=J[Y++];X=q.l*8;continue}X=Zr(q,X,+(Y+me==J.length)+2);for(var ye=0;me-- >0;){var ce=J[Y];ye=(ye<<5^ce)&32767;var _e=-1,Ne=0;if((_e=ae[ye])&&(_e|=Y&-32768,_e>Y&&(_e-=32768),_e<Y))for(;J[_e+Ne]==J[Y+Ne]&&Ne<250;)++Ne;if(Ne>2){ce=b[Ne],ce<=22?X=$n(q,X,ve[ce+1]>>1)-1:($n(q,X,3),X+=5,$n(q,X,ve[ce-23]>>5),X+=3);var nt=ce<8?0:ce-4>>2;nt>0&&(Xu(q,X,Ne-Z[ce]),X+=nt),ce=L[Y-_e],X=$n(q,X,ve[ce]>>3),X-=3;var Xe=ce<4?0:ce-2>>1;Xe>0&&(Xu(q,X,Y-_e-pe[ce]),X+=Xe);for(var ft=0;ft<Ne;++ft)ae[ye]=Y&32767,ye=(ye<<5^J[Y])&32767,++Y;me-=Ne-1}else ce<=143?ce=ce+48:X=fn(q,X,1),X=$n(q,X,ve[ce]),ae[ye]=Y&32767,++Y}X=$n(q,X,0)-1}return q.l=(X+7)/8|0,q.l}return function(q,X){return q.length<8?B(q,X):K(q,X)}}();function Wo(I){var L=ee(50+Math.floor(I.length*1.1)),P=Yu(I,L);return L.slice(0,P)}var Qu=Te?new Uint16Array(32768):Cr(32768),wi=Te?new Uint16Array(32768):Cr(32768),zo=Te?new Uint16Array(128):Cr(128),$o=1,_a=1;function a0(I,L){var P=at(I,L)+257;L+=5;var D=at(I,L)+1;L+=5;var b=Vr(I,L)+4;L+=4;for(var B=0,K=Te?new Uint8Array(19):Cr(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],q=1,X=Te?new Uint8Array(8):Cr(8),Y=Te?new Uint8Array(8):Cr(8),ae=K.length,me=0;me<b;++me)K[W[me]]=B=Ue(I,L),q<B&&(q=B),X[B]++,L+=3;var ye=0;for(X[0]=0,me=1;me<=q;++me)Y[me]=ye=ye+X[me-1]<<1;for(me=0;me<ae;++me)(ye=K[me])!=0&&(J[me]=Y[ye]++);var ce=0;for(me=0;me<ae;++me)if(ce=K[me],ce!=0){ye=ve[J[me]]>>8-ce;for(var _e=(1<<7-ce)-1;_e>=0;--_e)zo[ye|_e<<ce]=ce&7|me<<3}var Ne=[];for(q=1;Ne.length<P+D;)switch(ye=zo[Ee(I,L)],L+=ye&7,ye>>>=3){case 16:for(B=3+Ot(I,L),L+=2,ye=Ne[Ne.length-1];B-- >0;)Ne.push(ye);break;case 17:for(B=3+Ue(I,L),L+=3;B-- >0;)Ne.push(0);break;case 18:for(B=11+Ee(I,L),L+=7;B-- >0;)Ne.push(0);break;default:Ne.push(ye),q<ye&&(q=ye);break}var nt=Ne.slice(0,P),Xe=Ne.slice(P);for(me=P;me<286;++me)nt[me]=0;for(me=D;me<30;++me)Xe[me]=0;return $o=Es(nt,Qu,286),_a=Es(Xe,wi,30),L}function o0(I,L){if(I[0]==3&&!(I[1]&3))return[ta(L),2];for(var P=0,D=0,b=fy(L||1<<18),B=0,K=b.length>>>0,J=0,q=0;!(D&1);){if(D=Ue(I,P),P+=3,D>>>1)D>>1==1?(J=9,q=5):(P=a0(I,P),J=$o,q=_a);else{P&7&&(P+=8-(P&7));var X=I[P>>>3]|I[(P>>>3)+1]<<8;if(P+=32,X>0)for(!L&&K<B+X&&(b=xs(b,B+X),K=b.length);X-- >0;)b[B++]=I[P>>>3],P+=8;continue}for(;;){!L&&K<B+32767&&(b=xs(b,B+32767),K=b.length);var Y=Ir(I,P,J),ae=D>>>1==1?St[Y]:Qu[Y];if(P+=ae&15,ae>>>=4,!(ae>>>8&255))b[B++]=ae;else{if(ae==256)break;ae-=257;var me=ae<8?0:ae-4>>2;me>5&&(me=0);var ye=B+Z[ae];me>0&&(ye+=Ir(I,P,me),P+=me),Y=Ir(I,P,q),ae=D>>>1==1?Dt[Y]:wi[Y],P+=ae&15,ae>>>=4;var ce=ae<4?0:ae-2>>1,_e=pe[ae];for(ce>0&&(_e+=Ir(I,P,ce),P+=ce),!L&&K<ye&&(b=xs(b,ye+100),K=b.length);B<ye;)b[B]=b[B-_e],++B}}}return L?[b,P+7>>>3]:[b.slice(0,B),P+7>>>3]}function ya(I,L){var P=I.slice(I.l||0),D=o0(P,L);return I.l+=D[1],D[0]}function Ho(I,L){if(I)typeof console<"u"&&console.error(L);else throw new Error(L)}function Go(I,L){var P=I;zr(P,0);var D=[],b=[],B={FileIndex:D,FullPaths:b};w(B,{root:L.root});for(var K=P.length-4;(P[K]!=80||P[K+1]!=75||P[K+2]!=5||P[K+3]!=6)&&K>=0;)--K;P.l=K+4,P.l+=4;var J=P.read_shift(2);P.l+=6;var q=P.read_shift(4);for(P.l=q,K=0;K<J;++K){P.l+=20;var X=P.read_shift(4),Y=P.read_shift(4),ae=P.read_shift(2),me=P.read_shift(2),ye=P.read_shift(2);P.l+=8;var ce=P.read_shift(4),_e=o(P.slice(P.l+ae,P.l+ae+me));P.l+=ae+me+ye;var Ne=P.l;P.l=ce+4,ws(P,X,Y,B,_e),P.l=Ne}return B}function ws(I,L,P,D,b){I.l+=2;var B=I.read_shift(2),K=I.read_shift(2),J=a(I);if(B&8257)throw new Error("Unsupported ZIP encryption");for(var q=I.read_shift(4),X=I.read_shift(4),Y=I.read_shift(4),ae=I.read_shift(2),me=I.read_shift(2),ye="",ce=0;ce<ae;++ce)ye+=String.fromCharCode(I[I.l++]);if(me){var _e=o(I.slice(I.l,I.l+me));(_e[21589]||{}).mt&&(J=_e[21589].mt),((b||{})[21589]||{}).mt&&(J=b[21589].mt)}I.l+=me;var Ne=I.slice(I.l,I.l+X);switch(K){case 8:Ne=j(I,Y);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+K)}var nt=!1;B&8&&(q=I.read_shift(4),q==134695760&&(q=I.read_shift(4),nt=!0),X=I.read_shift(4),Y=I.read_shift(4)),X!=L&&Ho(nt,"Bad compressed size: "+L+" != "+X),Y!=P&&Ho(nt,"Bad uncompressed size: "+P+" != "+Y),Gn(D,ye,Ne,{unsafe:!0,mt:J})}function Ko(I,L){var P=L||{},D=[],b=[],B=ee(1),K=P.compression?8:0,J=0,q=0,X=0,Y=0,ae=0,me=I.FullPaths[0],ye=me,ce=I.FileIndex[0],_e=[],Ne=0;for(q=1;q<I.FullPaths.length;++q)if(ye=I.FullPaths[q].slice(me.length),ce=I.FileIndex[q],!(!ce.size||!ce.content||ye=="Sh33tJ5")){var nt=Y,Xe=ee(ye.length);for(X=0;X<ye.length;++X)Xe.write_shift(1,ye.charCodeAt(X)&127);Xe=Xe.slice(0,Xe.l),_e[ae]=uL.buf(ce.content,0);var ft=ce.content;K==8&&(ft=U(ft)),B=ee(30),B.write_shift(4,67324752),B.write_shift(2,20),B.write_shift(2,J),B.write_shift(2,K),ce.mt?s(B,ce.mt):B.write_shift(4,0),B.write_shift(-4,_e[ae]),B.write_shift(4,ft.length),B.write_shift(4,ce.content.length),B.write_shift(2,Xe.length),B.write_shift(2,0),Y+=B.length,D.push(B),Y+=Xe.length,D.push(Xe),Y+=ft.length,D.push(ft),B=ee(46),B.write_shift(4,33639248),B.write_shift(2,0),B.write_shift(2,20),B.write_shift(2,J),B.write_shift(2,K),B.write_shift(4,0),B.write_shift(-4,_e[ae]),B.write_shift(4,ft.length),B.write_shift(4,ce.content.length),B.write_shift(2,Xe.length),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(4,0),B.write_shift(4,nt),Ne+=B.l,b.push(B),Ne+=Xe.length,b.push(Xe),++ae}return B=ee(22),B.write_shift(4,101010256),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(2,ae),B.write_shift(2,ae),B.write_shift(4,Ne),B.write_shift(4,Y),B.write_shift(2,0),Zt([Zt(D),Zt(b),B])}var Ti={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hn(I,L){if(I.ctype)return I.ctype;var P=I.name||"",D=P.match(/\.([^\.]+)$/);return D&&Ti[D[1]]||L&&(D=(P=L).match(/[\.\\]([^\.\\])+$/),D&&Ti[D[1]])?Ti[D[1]]:"application/octet-stream"}function Ju(I){for(var L=vu(I),P=[],D=0;D<L.length;D+=76)P.push(L.slice(D,D+76));return P.join(`\r
`)+`\r
`}function xa(I){var L=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(X){var Y=X.charCodeAt(0).toString(16).toUpperCase();return"="+(Y.length==1?"0"+Y:Y)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],D=L.split(`\r
`),b=0;b<D.length;++b){var B=D[b];if(B.length==0){P.push("");continue}for(var K=0;K<B.length;){var J=76,q=B.slice(K,K+J);q.charAt(J-1)=="="?J--:q.charAt(J-2)=="="?J-=2:q.charAt(J-3)=="="&&(J-=3),q=B.slice(K,K+J),K+=J,K<B.length&&(q+="="),P.push(q)}}return P.join(`\r
`)}function Zu(I){for(var L=[],P=0;P<I.length;++P){for(var D=I[P];P<=I.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+I[++P];L.push(D)}for(var b=0;b<L.length;++b)L[b]=L[b].replace(/[=][0-9A-Fa-f]{2}/g,function(B){return String.fromCharCode(parseInt(B.slice(1),16))});return xn(L.join(`\r
`))}function Ts(I,L,P){for(var D="",b="",B="",K,J=0;J<10;++J){var q=L[J];if(!q||q.match(/^\s*$/))break;var X=q.match(/^(.*?):\s*([^\s].*)$/);if(X)switch(X[1].toLowerCase()){case"content-location":D=X[2].trim();break;case"content-type":B=X[2].trim();break;case"content-transfer-encoding":b=X[2].trim();break}}switch(++J,b.toLowerCase()){case"base64":K=xn(gi(L.slice(J).join("")));break;case"quoted-printable":K=Zu(L.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+b)}var Y=Gn(I,D.slice(P.length),K,{unsafe:!0});B&&(Y.ctype=B)}function ec(I,L){if(ue(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=L&&L.root||"",D=(qe&&Buffer.isBuffer(I)?I.toString("binary"):ue(I)).split(`\r
`),b=0,B="";for(b=0;b<D.length;++b)if(B=D[b],!!/^Content-Location:/i.test(B)&&(B=B.slice(B.indexOf("file")),P||(P=B.slice(0,B.lastIndexOf("/")+1)),B.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),B.slice(0,P.length)!=P););var K=(D[1]||"").match(/boundary="(.*?)"/);if(!K)throw new Error("MAD cannot find boundary");var J="--"+(K[1]||""),q=[],X=[],Y={FileIndex:q,FullPaths:X};w(Y);var ae,me=0;for(b=0;b<D.length;++b){var ye=D[b];ye!==J&&ye!==J+"--"||(me++&&Ts(Y,D.slice(ae,b),P),ae=b)}return Y}function Gt(I,L){var P=L||{},D=P.boundary||"SheetJS";D="------="+D;for(var b=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],B=I.FullPaths[0],K=B,J=I.FileIndex[0],q=1;q<I.FullPaths.length;++q)if(K=I.FullPaths[q].slice(B.length),J=I.FileIndex[q],!(!J.size||!J.content||K=="Sh33tJ5")){K=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ne){return"_x"+Ne.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ne){return"_u"+Ne.charCodeAt(0).toString(16)+"_"});for(var X=J.content,Y=qe&&Buffer.isBuffer(X)?X.toString("binary"):ue(X),ae=0,me=Math.min(1024,Y.length),ye=0,ce=0;ce<=me;++ce)(ye=Y.charCodeAt(ce))>=32&&ye<128&&++ae;var _e=ae>=me*4/5;b.push(D),b.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+K),b.push("Content-Transfer-Encoding: "+(_e?"quoted-printable":"base64")),b.push("Content-Type: "+Hn(J,K)),b.push(""),b.push(_e?xa(Y):Ju(Y))}return b.push(D+`--\r
`),b.join(`\r
`)}function tc(I){var L={};return w(L,I),L}function Gn(I,L,P,D){var b=D&&D.unsafe;b||w(I);var B=!b&&rt.find(I,L);if(!B){var K=I.FullPaths[0];L.slice(0,K.length)==K?K=L:(K.slice(-1)!="/"&&(K+="/"),K=(K+L).replace("//","/")),B={name:i(L),type:2},I.FileIndex.push(B),I.FullPaths.push(K),b||rt.utils.cfb_gc(I)}return B.content=P,B.size=P?P.length:0,D&&(D.CLSID&&(B.clsid=D.CLSID),D.mt&&(B.mt=D.mt),D.ct&&(B.ct=D.ct)),B}function Ss(I,L){w(I);var P=rt.find(I,L);if(P){for(var D=0;D<I.FileIndex.length;++D)if(I.FileIndex[D]==P)return I.FileIndex.splice(D,1),I.FullPaths.splice(D,1),!0}return!1}function l0(I,L,P){w(I);var D=rt.find(I,L);if(D){for(var b=0;b<I.FileIndex.length;++b)if(I.FileIndex[b]==D)return I.FileIndex[b].name=i(P),I.FullPaths[b]=P,!0}return!1}function u0(I){A(I,!0)}return e.find=O,e.read=G,e.parse=h,e.write=oe,e.writeFile=te,e.utils={cfb_new:tc,cfb_add:Gn,cfb_del:Ss,cfb_mov:l0,cfb_gc:u0,ReadShift:Bl,CheckField:_S,prep_blob:zr,bconcat:Zt,use_zlib:N,_deflateRaw:Wo,_inflateRaw:ya,consts:he},e}();function cL(t){return typeof t=="string"?Jf(t):Array.isArray(t)?MD(t):t}function $u(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Jf(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?yu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([cL(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=zu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function ar(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function xy(t,e){for(var r=[],n=ar(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Rg(t){for(var e=[],r=ar(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function t0(t){for(var e=[],r=ar(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function hL(t){for(var e=[],r=ar(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var af=new Date(1899,11,30,0,0,0);function Mr(t,e){var r=t.getTime(),n=af.getTime()+(t.getTimezoneOffset()-af.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tS=new Date,fL=af.getTime()+(tS.getTimezoneOffset()-af.getTimezoneOffset())*6e4,Ey=tS.getTimezoneOffset();function rS(t){var e=new Date;return e.setTime(t*24*60*60*1e3+fL),e.getTimezoneOffset()!==Ey&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Ey)*6e4),e}var wy=new Date("2017-02-19T19:06:09.000Z"),nS=isNaN(wy.getFullYear())?new Date("2/19/17"):wy,dL=nS.getFullYear()==2017;function Tr(t,e){var r=new Date(t);if(dL)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(nS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function r0(t,e){if(qe&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function br(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=br(t[r]));return e}function xt(t,e){for(var r="";r.length<e;)r+=t;return r}function ai(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var pL=["january","february","march","april","may","june","july","august","september","october","november","december"];function _u(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&pL.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Le(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return qe?n=Ei(r):n=bD(r),rt.utils.cfb_add(t,e,n)}rt.utils.cfb_add(t,e,r)}else t.file(e,r)}function kg(){return rt.utils.cfb_new()}var Ft=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,mL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Pg=Rg(mL),Ng=/[&<>'"]/g,gL=/[\u0000-\u0008\u000b-\u001f]/g;function Je(t){var e=t+"";return e.replace(Ng,function(r){return Pg[r]}).replace(gL,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ty(t){return Je(t).replace(/ /g,"_x0020_")}var iS=/[\u0000-\u001f]/g;function vL(t){var e=t+"";return e.replace(Ng,function(r){return Pg[r]}).replace(/\n/g,"<br/>").replace(iS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _L(t){var e=t+"";return e.replace(Ng,function(r){return Pg[r]}).replace(iS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function yL(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function xL(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function td(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Sy(t){var e=ta(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Ay(t){return Ei(t,"binary").toString("utf8")}var Vc="foo bar bazâð£",Vl=qe&&(Ay(Vc)==td(Vc)&&Ay||Sy(Vc)==td(Vc)&&Sy)||td,yu=qe?function(t){return Ei(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},EL=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),sS=/(^\s|\s$|\n)/;function er(t,e){return"<"+t+(e.match(sS)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function xu(t){return ar(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function fe(t,e,r){return"<"+t+(r!=null?xu(r):"")+(e!=null?(e.match(sS)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Np(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function wL(t,e){switch(typeof t){case"string":var r=fe("vt:lpwstr",Je(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return fe((t|0)==t?"vt:i4":"vt:r8",Je(String(t)));case"boolean":return fe("vt:bool",t?"true":"false")}if(t instanceof Date)return fe("vt:filetime",Np(t));throw new Error("Unable to serialize "+t)}var Wt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vo=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$r={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function TL(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function SL(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Iy=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Cy=qe?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ei(e)})):Iy(t)}:Iy,Ry=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(El(t,i)));return n.join("").replace(bl,"")},Fg=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(bl,""):Ry(t,e,r)}:Ry,ky=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},aS=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):ky(t,e,r)}:ky,Py=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Oa(t,i)));return n.join("")},Hu=qe?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Py(e,r,n)}:Py,oS=function(t,e){var r=Hr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},lS=oS,uS=function(t,e){var r=Hr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},cS=uS,hS=function(t,e){var r=2*Hr(t,e);return r>0?Hu(t,e+4,e+4+r-1):""},fS=hS,dS=function(e,r){var n=Hr(e,r);return n>0?Fg(e,r+4,r+4+n):""},pS=dS,mS=function(t,e){var r=Hr(t,e);return r>0?Hu(t,e+4,e+4+r):""},gS=mS,vS=function(t,e){return TL(t,e)},of=vS,Og=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};qe&&(lS=function(e,r){if(!Buffer.isBuffer(e))return oS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},cS=function(e,r){if(!Buffer.isBuffer(e))return uS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},fS=function(e,r){if(!Buffer.isBuffer(e))return hS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},pS=function(e,r){if(!Buffer.isBuffer(e))return dS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},gS=function(e,r){if(!Buffer.isBuffer(e))return mS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},of=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):vS(e,r)},Og=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Oa=function(t,e){return t[e]},El=function(t,e){return t[e+1]*256+t[e]},AL=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Hr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Ds=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},IL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Bl(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(El(this,c)),c+=2;t*=2;break;case"utf8":r=Hu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Fg(this,this.l,this.l+t);break;case"wstr":return Bl.call(this,t,"dbcs");case"lpstr-ansi":r=lS(this,this.l),t=4+Hr(this,this.l);break;case"lpstr-cp":r=cS(this,this.l),t=4+Hr(this,this.l);break;case"lpwstr":r=fS(this,this.l),t=4+2*Hr(this,this.l);break;case"lpp4":t=4+Hr(this,this.l),r=pS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Hr(this,this.l),r=gS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Oa(this,this.l+t++))!==0;)s.push(Lc(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=El(this,this.l+t))!==0;)s.push(Lc(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Oa(this,c),this.l=c+1,o=Bl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Lc(El(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Oa(this,c),this.l=c+1,o=Bl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Lc(Oa(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=Oa(this,this.l),this.l++,n;case 2:return n=(e==="i"?AL:El)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Ds:IL)(this,this.l),this.l+=4,n):(i=Hr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=of(this,this.l):i=of([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=aS(this,this.l,t);break}}return this.l+=t,r}var CL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},RL=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},kL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function PL(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)kL(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,CL(this,e,this.l);break;case 8:if(n=8,r==="f"){SL(this,e,this.l);break}case 16:break;case-4:n=4,RL(this,e,this.l);break}return this.l+=n,this}function _S(t,e){var r=aS(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function zr(t,e){t.l=e,t.read_shift=Bl,t.chk=_S,t.write_shift=PL}function zn(t,e){t.l+=e}function ee(t){var e=ta(t);return zr(e,0),e}function Lr(){var t=[],e=qe?256:2048,r=function(c){var h=ee(c);return zr(h,0),h},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),Zt(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function ne(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=T9[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Og(r)&&t.push(r)}}function Ul(t,e,r){var n=br(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Ny(t,e,r){var n=br(t);return n.s=Ul(n.s,e.s,r),n.e=Ul(n.e,e.s,r),n}function jl(t,e){if(t.cRel&&t.c<0)for(t=br(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=br(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=tt(t);return!t.cRel&&t.cRel!=null&&(r=OL(r)),!t.rRel&&t.rRel!=null&&(r=NL(r)),r}function rd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+mr(t.s.c)+":"+(t.e.cRel?"":"$")+mr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+nr(t.s.r)+":"+(t.e.rRel?"":"$")+nr(t.e.r):jl(t.s,e.biff)+":"+jl(t.e,e.biff)}function Dg(t){return parseInt(FL(t),10)-1}function nr(t){return""+(t+1)}function NL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function FL(t){return t.replace(/\$(\d+)$/,"$1")}function Lg(t){for(var e=DL(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function mr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function OL(t){return t.replace(/^([A-Z])/,"$$$1")}function DL(t){return t.replace(/^\$([A-Z])/,"$1")}function LL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function zt(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function tt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Yr(t){var e=t.indexOf(":");return e==-1?{s:zt(t),e:zt(t)}:{s:zt(t.slice(0,e)),e:zt(t.slice(e+1))}}function Pt(t,e){return typeof e>"u"||typeof e=="number"?Pt(t.s,t.e):(typeof t!="string"&&(t=tt(t)),typeof e!="string"&&(e=tt(e)),t==e?t:t+":"+e)}function ht(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Fy(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=fs(t.z,r?Mr(e):e)}catch{}try{return t.w=fs((t.XF||{}).numFmtId||(r?14:0),r?Mr(e):e)}catch{return""+e}}function vi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Gu[t.v]||t.v:e==null?Fy(t,t.v):Fy(t,e))}function da(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function yS(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?zt(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=ht(s["!ref"]);c.s.c=h.s.c,c.s.r=h.s.r,c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),a==-1&&(c.e.r=a=h.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var m={v:e[f][d]},_=a+f,g=o+d;if(c.s.r>_&&(c.s.r=_),c.s.c>g&&(c.s.c=g),c.e.r<_&&(c.e.r=_),c.e.c<g&&(c.e.c=g),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))m=e[f][d];else if(Array.isArray(m.v)&&(m.f=e[f][d][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Et[14],n.cellDates?(m.t="d",m.w=fs(m.z,Mr(m.v))):(m.t="n",m.v=Mr(m.v),m.w=fs(m.z,m.v))):m.t="s";if(i)s[_]||(s[_]=[]),s[_][g]&&s[_][g].z&&(m.z=s[_][g].z),s[_][g]=m;else{var y=tt({c:g,r:_});s[y]&&s[y].z&&(m.z=s[y].z),s[y]=m}}}return c.s.c<1e7&&(s["!ref"]=Pt(c)),s}function Bo(t,e){return yS(null,t,e)}function ML(t){return t.read_shift(4,"i")}function An(t,e){return e||(e=ee(4)),e.write_shift(4,t),e}function gr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function $t(t,e){var r=!1;return e==null&&(r=!0,e=ee(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function bL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function VL(t,e){return e||(e=ee(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Mg(t,e){var r=t.l,n=t.read_shift(1),i=gr(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(bL(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function BL(t,e){var r=!1;return e==null&&(r=!0,e=ee(15+4*t.t.length)),e.write_shift(1,0),$t(t.t,e),r?e.slice(0,e.l):e}var UL=Mg;function jL(t,e){var r=!1;return e==null&&(r=!0,e=ee(23+4*t.t.length)),e.write_shift(1,1),$t(t.t,e),e.write_shift(4,1),VL({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function hn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function pa(t,e){return e==null&&(e=ee(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function ma(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ga(t,e){return e==null&&(e=ee(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var WL=gr,xS=$t;function bg(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function lf(t,e){var r=!1;return e==null&&(r=!0,e=ee(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var zL=gr,Fp=bg,Vg=lf;function ES(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?of([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Ds(e,0)>>2;return r?i/100:i}function wS(t,e){e==null&&(e=ee(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function TS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function $L(t,e){return e||(e=ee(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var va=TS,Uo=$L;function jo(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ra(t,e){return(e||ee(8)).write_shift(8,t,"f")}function HL(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=e6[i];c&&(e.rgb=zy(c));break;case 2:e.rgb=zy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function uf(t,e){if(e||(e=ee(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function GL(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function KL(t,e){e||(e=ee(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var SS=2,jr=3,Bc=11,cf=19,Uc=64,qL=65,XL=71,YL=4108,QL=4126,Yt=80,Oy={1:{n:"CodePage",t:SS},2:{n:"Category",t:Yt},3:{n:"PresentationFormat",t:Yt},4:{n:"ByteCount",t:jr},5:{n:"LineCount",t:jr},6:{n:"ParagraphCount",t:jr},7:{n:"SlideCount",t:jr},8:{n:"NoteCount",t:jr},9:{n:"HiddenCount",t:jr},10:{n:"MultimediaClipCount",t:jr},11:{n:"ScaleCrop",t:Bc},12:{n:"HeadingPairs",t:YL},13:{n:"TitlesOfParts",t:QL},14:{n:"Manager",t:Yt},15:{n:"Company",t:Yt},16:{n:"LinksUpToDate",t:Bc},17:{n:"CharacterCount",t:jr},19:{n:"SharedDoc",t:Bc},22:{n:"HyperlinksChanged",t:Bc},23:{n:"AppVersion",t:jr,p:"version"},24:{n:"DigSig",t:qL},26:{n:"ContentType",t:Yt},27:{n:"ContentStatus",t:Yt},28:{n:"Language",t:Yt},29:{n:"Version",t:Yt},255:{},2147483648:{n:"Locale",t:cf},2147483651:{n:"Behavior",t:cf},1919054434:{}},Dy={1:{n:"CodePage",t:SS},2:{n:"Title",t:Yt},3:{n:"Subject",t:Yt},4:{n:"Author",t:Yt},5:{n:"Keywords",t:Yt},6:{n:"Comments",t:Yt},7:{n:"Template",t:Yt},8:{n:"LastAuthor",t:Yt},9:{n:"RevNumber",t:Yt},10:{n:"EditTime",t:Uc},11:{n:"LastPrinted",t:Uc},12:{n:"CreatedDate",t:Uc},13:{n:"ModifiedDate",t:Uc},14:{n:"PageCount",t:jr},15:{n:"WordCount",t:jr},16:{n:"CharCount",t:jr},17:{n:"Thumbnail",t:XL},18:{n:"Application",t:Yt},19:{n:"DocSecurity",t:jr},255:{},2147483648:{n:"Locale",t:cf},2147483651:{n:"Behavior",t:cf},1919054434:{}};function JL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var ZL=JL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e6=br(ZL),Gu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},t6={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function AS(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function IS(t,e){var r=hL(t6),n=[],i;n[n.length]=Ft,n[n.length]=fe("Types",null,{xmlns:Wt.CT,"xmlns:xsd":Wt.xsd,"xmlns:xsi":Wt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return fe("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=fe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:jc[l][e.bookType]||jc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=fe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:jc[l][e.bookType]||jc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=fe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ge={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function CS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ao(t){var e=[Ft,fe("Relationships",null,{xmlns:Wt.RELS})];return ar(t["!id"]).forEach(function(r){e[e.length]=fe("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Qe(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[Ge.HLINK,Ge.XPATH,Ge.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function r6(t){var e=[Ft];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Ly(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function n6(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function i6(t){var e=[Ft];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Ly(t[r][0],t[r][1])),e.push(n6("",t[r][0]));return e.push(Ly("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function RS(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+tf.version+"</meta:generator></office:meta></office:document-meta>"}var zs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function nd(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Je(e),n[n.length]=r?fe(t,e,r):er(t,e))}function kS(t,e){var r=e||{},n=[Ft,fe("cp:coreProperties",null,{"xmlns:cp":Wt.CORE_PROPS,"xmlns:dc":Wt.dc,"xmlns:dcterms":Wt.dcterms,"xmlns:dcmitype":Wt.dcmitype,"xmlns:xsi":Wt.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&nd("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Np(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&nd("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Np(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=zs.length;++s){var a=zs[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&nd(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var oo=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NS(t){var e=[],r=fe;return t||(t={}),t.Application="SheetJS",e[e.length]=Ft,e[e.length]=fe("Properties",null,{xmlns:Wt.EXT_PROPS,"xmlns:vt":Wt.vt}),oo.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Je(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Je(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function FS(t){var e=[Ft,fe("Properties",null,{xmlns:Wt.CUST_PROPS,"xmlns:vt":Wt.vt})];if(!t)return e.join("");var r=1;return ar(t).forEach(function(i){++r,e[e.length]=fe("property",wL(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Je(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var My={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function s6(t,e){var r=[];return ar(My).map(function(n){for(var i=0;i<zs.length;++i)if(zs[i][1]==n)return zs[i];for(i=0;i<oo.length;++i)if(oo[i][1]==n)return oo[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(er(My[n[1]]||n[1],i))}}),fe("DocumentProperties",r.join(""),{xmlns:$r.o})}function a6(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ar(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<zs.length;++a)if(s==zs[a][1])return;for(a=0;a<oo.length;++a)if(s==oo[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(fe(Ty(s),o,{"dt:dt":l}))}}),e&&ar(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(fe(Ty(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+$r.o+'">'+i.join("")+"</"+n+">"}function o6(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=ee(8);return a.write_shift(4,n),a.write_shift(4,i),a}function by(t,e){var r=ee(4),n=ee(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ee(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=o6(e);break;case 31:case 80:for(n=ee(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Zt([r,n])}var OS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function l6(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Vy(t,e,r){var n=ee(8),i=[],s=[],a=8,o=0,l=ee(8),c=ee(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=ee(8),c.write_shift(4,0),i.unshift(c);var h=[ee(4)];for(h[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=ee(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=Zt(h),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(OS.indexOf(t[o][0])>-1||PS.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],m=0;if(e){m=+e[t[o][0]];var _=r[m];if(_.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=by(_.t,d)}else{var y=l6(d);y==-1&&(y=31,d=String(d)),l=by(y,d)}s.push(l),c=ee(8),c.write_shift(4,e?m:2+o),i.push(c),a+=8+l.length}var S=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,S),S+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Zt([n].concat(i).concat(s))}function By(t,e,r,n,i,s){var a=ee(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,rt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=Vy(t,r,n);if(o.push(l),i){var c=Vy(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return Zt(o)}function u6(t,e){e||(e=ee(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function c6(t,e){return t.read_shift(e)===1}function Er(t,e){return e||(e=ee(2)),e.write_shift(2,+!!t),e}function DS(t){return t.read_shift(2,"u")}function nn(t,e){return e||(e=ee(2)),e.write_shift(2,t),e}function LS(t,e,r){return r||(r=ee(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function MS(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function h6(t){var e=t.t||"",r=ee(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ee(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Zt(i)}function f6(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function d6(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):f6(t,n,r)}function p6(t,e,r){if(r.biff>5)return d6(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function bS(t,e,r){return r||(r=ee(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Uy(t,e){e||(e=ee(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function m6(t){var e=ee(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),Uy(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&Uy(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function na(t,e,r,n){return n||(n=ee(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function g6(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function v6(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function VS(t,e){return e||(e=ee(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Bg(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ee(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _6(t,e){var r=!e||e.biff==8,n=ee(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function y6(t,e){var r=!e||e.biff>=8?2:1,n=ee(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function x6(t,e){var r=ee(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=h6(t[i]);var s=Zt([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function E6(){var t=ee(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function w6(t){var e=ee(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function T6(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=ee(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function S6(t,e,r,n){var i=ee(10);return na(t,e,n,i),i.write_shift(4,r),i}function A6(t,e,r,n,i){var s=!i||i.biff==8,a=ee(8+ +s+(1+s)*r.length);return na(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function I6(t,e,r,n){var i=r&&r.biff==5;n||(n=ee(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function C6(t,e){var r=e.biff==8||!e.biff?4:2,n=ee(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function jy(t,e,r,n){var i=r&&r.biff==5;n||(n=ee(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function R6(t){var e=ee(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function k6(t,e,r,n,i,s){var a=ee(8);return na(t,e,n,a),LS(r,s,a),a}function P6(t,e,r,n){var i=ee(14);return na(t,e,n,i),ra(r,i),i}function N6(t,e,r){if(r.biff<8)return F6(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(g6(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function F6(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=MS(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function O6(t){var e=ee(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)VS(t[r],e);return e}function D6(t){var e=ee(24),r=zt(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Zt([e,m6(t[1])])}function L6(t){var e=t[1].Tooltip,r=ee(10+2*(e.length+1));r.write_shift(2,2048);var n=zt(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function M6(t){return t||(t=ee(4)),t.write_shift(2,1),t.write_shift(2,1),t}function b6(t,e,r){if(!r.cellStyles)return zn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function V6(t,e){var r=ee(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function B6(t){for(var e=ee(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function U6(t,e,r){var n=ee(15);return qu(n,t,e),n.write_shift(8,r,"f"),n}function j6(t,e,r){var n=ee(9);return qu(n,t,e),n.write_shift(2,r),n}var W6=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Rg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],h=ta(1);switch(l.type){case"base64":h=xn(gi(o));break;case"binary":h=xn(o);break;case"buffer":case"array":h=o;break}zr(h,0);var f=h.read_shift(1),d=!!(f&136),m=!1,_=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,d=!0;break;case 49:m=!0,d=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,y=521;f==2&&(g=h.read_shift(2)),h.l+=3,f!=2&&(g=h.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(y=h.read_shift(2));var S=h.read_shift(2),x=l.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(x=t[h[h.l]]),h.l+=1,h.l+=2),_&&(h.l+=36);for(var T=[],M={},z=Math.min(h.length,f==2?521:y-10-(m?264:0)),G=_?32:11;h.l<z&&h[h.l]!=13;)switch(M={},M.name=Os.utils.decode(x,h.slice(h.l,h.l+G)).replace(/[\u0000\r\n].*$/g,""),h.l+=G,M.type=String.fromCharCode(h.read_shift(1)),f!=2&&!_&&(M.offset=h.read_shift(4)),M.len=h.read_shift(1),f==2&&(M.offset=h.read_shift(2)),M.dec=h.read_shift(1),M.name.length&&T.push(M),f!=2&&(h.l+=_?13:14),M.type){case"B":(!m||M.len!=8)&&l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(h[h.l]!==13&&(h.l=y-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=y;var w=0,E=0;for(c[0]=[],E=0;E!=T.length;++E)c[0][E]=T[E].name;for(;g-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,c[++w]=[],E=0,E=0;E!=T.length;++E){var A=h.slice(h.l,h.l+T[E].len);h.l+=T[E].len,zr(A,0);var C=Os.utils.decode(x,A);switch(T[E].type){case"C":C.trim().length&&(c[w][E]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[w][E]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[w][E]=C;break;case"F":c[w][E]=parseFloat(C.trim());break;case"+":case"I":c[w][E]=_?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[w][E]=!0;break;case"N":case"F":c[w][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[w][E]="##MEMO##"+(_?parseInt(C.trim(),10):A.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[w][E]=+C||0);break;case"@":c[w][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[w][E]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[w][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[w][E]=-A.read_shift(-8,"f");break;case"B":if(m&&T[E].len==8){c[w][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=T[E].len;break;case"0":if(T[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[E].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=T,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var h=Bo(r(o,c),c);return h["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,h}function i(o,l){try{return da(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&gu(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var h=Lr(),f=mf(o,{header:1,raw:!0,cellDates:!0}),d=f[0],m=f.slice(1),_=o["!cols"]||[],g=0,y=0,S=0,x=1;for(g=0;g<d.length;++g){if(((_[g]||{}).DBF||{}).name){d[g]=_[g].DBF.name,++S;continue}if(d[g]!=null){if(++S,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(y=0;y<1024;++y)if(d.indexOf(d[g]+"_"+y)==-1){d[g]+="_"+y;break}}}}var T=ht(o["!ref"]),M=[],z=[],G=[];for(g=0;g<=T.e.c-T.s.c;++g){var w="",E="",A=0,C=[];for(y=0;y<m.length;++y)m[y][g]!=null&&C.push(m[y][g]);if(C.length==0||d[g]==null){M[g]="?";continue}for(y=0;y<C.length;++y){switch(typeof C[y]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=C[y]instanceof Date?"D":"C";break;default:E="C"}A=Math.max(A,String(C[y]).length),w=w&&w!=E?"C":E}A>250&&(A=250),E=((_[g]||{}).DBF||{}).type,E=="C"&&_[g].DBF.len>A&&(A=_[g].DBF.len),w=="B"&&E=="N"&&(w="N",G[g]=_[g].DBF.dec,A=_[g].DBF.len),z[g]=w=="C"||E=="N"?A:s[w]||0,x+=z[g],M[g]=w}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*S),O.write_shift(2,x),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+e[UT]||3)<<8),g=0,y=0;g<d.length;++g)if(d[g]!=null){var V=h.next(32),F=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,F,"sbcs"),V.write_shift(1,M[g]=="?"?"C":M[g],"sbcs"),V.write_shift(4,y),V.write_shift(1,z[g]||s[M[g]]||0),V.write_shift(1,G[g]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),y+=z[g]||s[M[g]]||0}var Ie=h.next(264);for(Ie.write_shift(4,13),g=0;g<65;++g)Ie.write_shift(4,0);for(g=0;g<m.length;++g){var Ce=h.next(x);for(Ce.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(M[y]){case"L":Ce.write_shift(1,m[g][y]==null?63:m[g][y]?84:70);break;case"B":Ce.write_shift(8,m[g][y]||0,"f");break;case"N":var We="0";for(typeof m[g][y]=="number"&&(We=m[g][y].toFixed(G[y]||0)),S=0;S<z[y]-We.length;++S)Ce.write_shift(1,32);Ce.write_shift(1,We,"sbcs");break;case"D":m[g][y]?(Ce.write_shift(4,("0000"+m[g][y].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(m[g][y].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+m[g][y].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var he=String(m[g][y]!=null?m[g][y]:"").slice(0,z[y]);for(Ce.write_shift(1,he,"sbcs"),S=0;S<z[y]-he.length;++S)Ce.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),z6=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ar(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,m){var _=t[m];return typeof _=="number"?hy(_):_},n=function(d,m,_){var g=m.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return g==59?d:hy(g)};t["|"]=254;function i(d,m){switch(m.type){case"base64":return s(gi(d),m);case"binary":return s(d,m);case"buffer":return s(qe&&Buffer.isBuffer(d)?d.toString("binary"):zu(d),m);case"array":return s(r0(d),m)}throw new Error("Unrecognized type "+m.type)}function s(d,m){var _=d.split(/[\n\r]+/),g=-1,y=-1,S=0,x=0,T=[],M=[],z=null,G={},w=[],E=[],A=[],C=0,O;for(+m.codepage>=0&&gu(+m.codepage);S!==_.length;++S){C=0;var V=_[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),F=V.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),Ie=F[0],Ce;if(V.length>0)switch(Ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&M.push(V.slice(3).replace(/;;/g,";"));break;case"C":var We=!1,he=!1,te=!1,ue=!1,oe=-1,ke=-1;for(x=1;x<F.length;++x)switch(F[x].charAt(0)){case"A":break;case"X":y=parseInt(F[x].slice(1))-1,he=!0;break;case"Y":for(g=parseInt(F[x].slice(1))-1,he||(y=0),O=T.length;O<=g;++O)T[O]=[];break;case"K":Ce=F[x].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(ai(Ce))?isNaN(_u(Ce).getDate())||(Ce=Tr(Ce)):(Ce=ai(Ce),z!==null&&JT(z)&&(Ce=rS(Ce))),We=!0;break;case"E":ue=!0;var N=jM(F[x].slice(1),{r:g,c:y});T[g][y]=[T[g][y],N];break;case"S":te=!0,T[g][y]=[T[g][y],"S5S"];break;case"G":break;case"R":oe=parseInt(F[x].slice(1))-1;break;case"C":ke=parseInt(F[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(We&&(T[g][y]&&T[g][y].length==2?T[g][y][0]=Ce:T[g][y]=Ce,z=null),te){if(ue)throw new Error("SYLK shared formula cannot have own formula");var j=oe>-1&&T[oe][ke];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");T[g][y][1]=WM(j[1],{r:g-oe,c:y-ke})}break;case"F":var U=0;for(x=1;x<F.length;++x)switch(F[x].charAt(0)){case"X":y=parseInt(F[x].slice(1))-1,++U;break;case"Y":for(g=parseInt(F[x].slice(1))-1,O=T.length;O<=g;++O)T[O]=[];break;case"M":C=parseInt(F[x].slice(1))/20;break;case"F":break;case"G":break;case"P":z=M[parseInt(F[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=F[x].slice(1).split(" "),O=parseInt(A[0],10);O<=parseInt(A[1],10);++O)C=parseInt(A[2],10),E[O-1]=C===0?{hidden:!0}:{wch:C},Ug(E[O-1]);break;case"C":y=parseInt(F[x].slice(1))-1,E[y]||(E[y]={});break;case"R":g=parseInt(F[x].slice(1))-1,w[g]||(w[g]={}),C>0?(w[g].hpt=C,w[g].hpx=zS(C)):C===0&&(w[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}U<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return w.length>0&&(G["!rows"]=w),E.length>0&&(G["!cols"]=E),m&&m.sheetRows&&(T=T.slice(0,m.sheetRows)),[T,G]}function a(d,m){var _=i(d,m),g=_[0],y=_[1],S=Bo(g,m);return ar(y).forEach(function(x){S[x]=y[x]}),S}function o(d,m){return da(a(d,m),m)}function l(d,m,_,g){var y="C;Y"+(_+1)+";X"+(g+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+Wg(d.f,{r:_,c:g}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(d,m){m.forEach(function(_,g){var y="F;W"+(g+1)+" "+(g+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=hf(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=ff(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function h(d,m){m.forEach(function(_,g){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*df(_.hpx)+";"),y.length>2&&d.push(y+"R"+(g+1))})}function f(d,m){var _=["ID;PWXL;N;E"],g=[],y=ht(d["!ref"]),S,x=Array.isArray(d),T=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),d["!cols"]&&c(_,d["!cols"]),d["!rows"]&&h(_,d["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var M=y.s.r;M<=y.e.r;++M)for(var z=y.s.c;z<=y.e.c;++z){var G=tt({r:M,c:z});S=x?(d[M]||[])[z]:d[G],!(!S||S.v==null&&(!S.f||S.F))&&g.push(l(S,d,M,z))}return _.join(T)+T+g.join(T)+T+"E"+T}return{to_workbook:o,to_sheet:a,from_sheet:f}}(),$6=function(){function t(s,a){switch(a.type){case"base64":return e(gi(s),a);case"binary":return e(s,a);case"buffer":return e(qe&&Buffer.isBuffer(s)?s.toString("binary"):zu(s),a);case"array":return e(r0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,h=0,f=[];h!==o.length;++h){if(o[h].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[h].trim().split(","),m=d[0],_=d[1];++h;for(var g=o[h]||"";(g.match(/["]/g)||[]).length&1&&h<o.length-1;)g+=`
`+o[++h];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(ai(_))?isNaN(_u(_).getDate())?f[l][c]=_:f[l][c]=Tr(_):f[l][c]=ai(_),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Bo(t(s,a),a)}function n(s,a){return da(r(s,a),a)}var i=function(){var s=function(l,c,h,f,d){l.push(c),l.push(h+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,c,h,f){l.push(c+","+h),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],h=ht(l["!ref"]),f,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,h.e.r-h.s.r+1,""),s(c,"TUPLES",0,h.e.c-h.s.c+1,""),s(c,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(c,-1,0,"BOT");for(var _=h.s.c;_<=h.e.c;++_){var g=tt({r:m,c:_});if(f=d?(l[m]||[])[_]:l[g],!f){a(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=fs(f.z||Et[14],Mr(Tr(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var S=`\r
`,x=c.join(S);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),BS=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var m=f.split(`
`),_=-1,g=-1,y=0,S=[];y!==m.length;++y){var x=m[y].trim().split(":");if(x[0]==="cell"){var T=zt(x[1]);if(S.length<=T.r)for(_=S.length;_<=T.r;++_)S[_]||(S[_]=[]);switch(_=T.r,g=T.c,x[2]){case"t":S[_][g]=t(x[3]);break;case"v":S[_][g]=+x[3];break;case"vtf":var M=x[x.length-1];case"vtc":switch(x[3]){case"nl":S[_][g]=!!+x[4];break;default:S[_][g]=+x[4];break}x[2]=="vtf"&&(S[_][g]=[S[_][g],M])}}}return d&&d.sheetRows&&(S=S.slice(0,d.sheetRows)),S}function n(f,d){return Bo(r(f,d),d)}function i(f,d){return da(n(f,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],m=[],_,g="",y=Yr(f["!ref"]),S=Array.isArray(f),x=y.s.r;x<=y.e.r;++x)for(var T=y.s.c;T<=y.e.c;++T)if(g=tt({r:x,c:T}),_=S?(f[x]||[])[T]:f[g],!(!_||_.v==null||_.t==="z")){switch(m=["cell",g,"t"],_.t){case"s":case"str":m.push(e(_.v));break;case"n":_.f?(m[2]="vtf",m[3]="n",m[4]=_.v,m[5]=e(_.f)):(m[2]="v",m[3]=_.v);break;case"b":m[2]="vt"+(_.f?"f":"c"),m[3]="nl",m[4]=_.v?"1":"0",m[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var M=Mr(Tr(_.v));m[2]="vtc",m[3]="nd",m[4]=""+M,m[5]=_.w||fs(_.z||Et[14],M);break;case"e":continue}d.push(m.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function h(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),H6=function(){function t(h,f,d,m,_){_.raw?f[d][m]=h:h===""||(h==="TRUE"?f[d][m]=!0:h==="FALSE"?f[d][m]=!1:isNaN(ai(h))?isNaN(_u(h).getDate())?f[d][m]=h:f[d][m]=Tr(h):f[d][m]=ai(h))}function e(h,f){var d=f||{},m=[];if(!h||h.length===0)return m;for(var _=h.split(/[\r\n]/),g=_.length-1;g>=0&&_[g].length===0;)--g;for(var y=10,S=0,x=0;x<=g;++x)S=_[x].indexOf(" "),S==-1?S=_[x].length:S++,y=Math.max(y,S);for(x=0;x<=g;++x){m[x]=[];var T=0;for(t(_[x].slice(0,y).trim(),m,x,T,d),T=1;T<=(_[x].length-y)/10+1;++T)t(_[x].slice(y+(T-1)*10,y+T*10).trim(),m,x,T,d)}return d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var f={},d=!1,m=0,_=0;m<h.length;++m)(_=h.charCodeAt(m))==34?d=!d:!d&&_ in r&&(f[_]=(f[_]||0)+1);_=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&_.push([f[m],m]);if(!_.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&_.push([f[m],m])}return _.sort(function(g,y){return g[0]-y[0]||n[g[1]]-n[y[1]]}),r[_.pop()[1]]||44}function s(h,f){var d=f||{},m="",_=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):d&&d.FS?m=d.FS:m=i(h.slice(0,1024));var y=0,S=0,x=0,T=0,M=0,z=m.charCodeAt(0),G=!1,w=0,E=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var A=d.dateNF!=null?oL(d.dateNF):null;function C(){var O=h.slice(T,M),V={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)V.t="z";else if(d.raw)V.t="s",V.v=O;else if(O.trim().length===0)V.t="s",V.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(V.t="s",V.v=O.slice(2,-1).replace(/""/g,'"')):zM(O)?(V.t="n",V.f=O.slice(1)):(V.t="s",V.v=O);else if(O=="TRUE")V.t="b",V.v=!0;else if(O=="FALSE")V.t="b",V.v=!1;else if(!isNaN(x=ai(O)))V.t="n",d.cellText!==!1&&(V.w=O),V.v=x;else if(!isNaN(_u(O).getDate())||A&&O.match(A)){V.z=d.dateNF||Et[14];var F=0;A&&O.match(A)&&(O=lL(O,d.dateNF,O.match(A)||[]),F=1),d.cellDates?(V.t="d",V.v=Tr(O,F)):(V.t="n",V.v=Mr(Tr(O,F))),d.cellText!==!1&&(V.w=fs(V.z,V.v instanceof Date?Mr(V.v):V.v)),d.cellNF||delete V.z}else V.t="s",V.v=O;if(V.t=="z"||(d.dense?(_[y]||(_[y]=[]),_[y][S]=V):_[tt({c:S,r:y})]=V),T=M+1,E=h.charCodeAt(T),g.e.c<S&&(g.e.c=S),g.e.r<y&&(g.e.r=y),w==z)++S;else if(S=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;M<h.length;++M)switch(w=h.charCodeAt(M)){case 34:E===34&&(G=!G);break;case z:case 10:case 13:if(!G&&C())break e;break}return M-T>0&&C(),_["!ref"]=Pt(g),_}function a(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,f):Bo(e(h,f),f)}function o(h,f){var d="",m=f.type=="string"?[0,0,0,0]:nV(h,f);switch(f.type){case"base64":d=gi(h);break;case"binary":d=h;break;case"buffer":f.codepage==65001?d=h.toString("utf8"):f.codepage&&typeof Os<"u"?d=Os.utils.decode(f.codepage,h):d=qe&&Buffer.isBuffer(h)?h.toString("binary"):zu(h);break;case"array":d=r0(h);break;case"string":d=h;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?d=Vl(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Vl(d):f.type=="binary"&&typeof Os<"u"&&f.codepage&&(d=Os.utils.decode(f.codepage,Os.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?BS.to_sheet(f.type=="string"?d:Vl(d),f):a(d,f)}function l(h,f){return da(o(h,f),f)}function c(h){for(var f=[],d=ht(h["!ref"]),m,_=Array.isArray(h),g=d.s.r;g<=d.e.r;++g){for(var y=[],S=d.s.c;S<=d.e.c;++S){var x=tt({r:g,c:S});if(m=_?(h[g]||[])[S]:h[x],!m||m.v==null){y.push("          ");continue}for(var T=(m.w||(vi(m),m.w)||"").slice(0,10);T.length<10;)T+=" ";y.push(T+(S===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),Wy=function(){function t(N,j,U){if(N){zr(N,N.l||0);for(var W=U.Enum||oe;N.l<N.length;){var Z=N.read_shift(2),pe=W[Z]||W[65535],Ae=N.read_shift(2),Te=N.l+Ae,ve=pe.f&&pe.f(N,Ae,U);if(N.l=Te,j(ve,pe,Z))return}}}function e(N,j){switch(j.type){case"base64":return r(xn(gi(N)),j);case"binary":return r(xn(N),j);case"buffer":case"array":return r(N,j)}throw"Unsupported type "+j.type}function r(N,j){if(!N)return N;var U=j||{},W=U.dense?[]:{},Z="Sheet1",pe="",Ae=0,Te={},ve=[],$e=[],Me={s:{r:0,c:0},e:{r:0,c:0}},Ot=U.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)U.Enum=oe,t(N,function(Ee,Ir,Zr){switch(Zr){case 0:U.vers=Ee,Ee>=4096&&(U.qpro=!0);break;case 6:Me=Ee;break;case 204:Ee&&(pe=Ee);break;case 222:pe=Ee;break;case 15:case 51:U.qpro||(Ee[1].v=Ee[1].v.slice(1));case 13:case 14:case 16:Zr==14&&(Ee[2]&112)==112&&(Ee[2]&15)>1&&(Ee[2]&15)<15&&(Ee[1].z=U.dateNF||Et[14],U.cellDates&&(Ee[1].t="d",Ee[1].v=rS(Ee[1].v))),U.qpro&&Ee[3]>Ae&&(W["!ref"]=Pt(Me),Te[Z]=W,ve.push(Z),W=U.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ee[3],Z=pe||"Sheet"+(Ae+1),pe="");var fn=U.dense?(W[Ee[0].r]||[])[Ee[0].c]:W[tt(Ee[0])];if(fn){fn.t=Ee[1].t,fn.v=Ee[1].v,Ee[1].z!=null&&(fn.z=Ee[1].z),Ee[1].f!=null&&(fn.f=Ee[1].f);break}U.dense?(W[Ee[0].r]||(W[Ee[0].r]=[]),W[Ee[0].r][Ee[0].c]=Ee[1]):W[tt(Ee[0])]=Ee[1];break}},U);else if(N[2]==26||N[2]==14)U.Enum=ke,N[2]==14&&(U.qpro=!0,N.l=0),t(N,function(Ee,Ir,Zr){switch(Zr){case 204:Z=Ee;break;case 22:Ee[1].v=Ee[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ee[3]>Ae&&(W["!ref"]=Pt(Me),Te[Z]=W,ve.push(Z),W=U.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ee[3],Z="Sheet"+(Ae+1)),Ot>0&&Ee[0].r>=Ot)break;U.dense?(W[Ee[0].r]||(W[Ee[0].r]=[]),W[Ee[0].r][Ee[0].c]=Ee[1]):W[tt(Ee[0])]=Ee[1],Me.e.c<Ee[0].c&&(Me.e.c=Ee[0].c),Me.e.r<Ee[0].r&&(Me.e.r=Ee[0].r);break;case 27:Ee[14e3]&&($e[Ee[14e3][0]]=Ee[14e3][1]);break;case 1537:$e[Ee[0]]=Ee[1],Ee[0]==Ae&&(Z=Ee[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(W["!ref"]=Pt(Me),Te[pe||Z]=W,ve.push(pe||Z),!$e.length)return{SheetNames:ve,Sheets:Te};for(var Ue={},Vr=[],at=0;at<$e.length;++at)Te[ve[at]]?(Vr.push($e[at]||ve[at]),Ue[$e[at]]=Te[$e[at]]||Te[ve[at]]):(Vr.push($e[at]),Ue[$e[at]]={"!ref":"A1"});return{SheetNames:Vr,Sheets:Ue}}function n(N,j){var U=j||{};if(+U.codepage>=0&&gu(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Lr(),Z=ht(N["!ref"]),pe=Array.isArray(N),Ae=[];de(W,0,s(1030)),de(W,6,l(Z));for(var Te=Math.min(Z.e.r,8191),ve=Z.s.r;ve<=Te;++ve)for(var $e=nr(ve),Me=Z.s.c;Me<=Z.e.c;++Me){ve===Z.s.r&&(Ae[Me]=mr(Me));var Ot=Ae[Me]+$e,Ue=pe?(N[ve]||[])[Me]:N[Ot];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?de(W,13,m(ve,Me,Ue.v)):de(W,14,g(ve,Me,Ue.v));else{var Vr=vi(Ue);de(W,15,f(ve,Me,Vr.slice(0,239)))}}return de(W,1),W.end()}function i(N,j){var U=j||{};if(+U.codepage>=0&&gu(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Lr();de(W,0,a(N));for(var Z=0,pe=0;Z<N.SheetNames.length;++Z)(N.Sheets[N.SheetNames[Z]]||{})["!ref"]&&de(W,27,ue(N.SheetNames[Z],pe++));var Ae=0;for(Z=0;Z<N.SheetNames.length;++Z){var Te=N.Sheets[N.SheetNames[Z]];if(!(!Te||!Te["!ref"])){for(var ve=ht(Te["!ref"]),$e=Array.isArray(Te),Me=[],Ot=Math.min(ve.e.r,8191),Ue=ve.s.r;Ue<=Ot;++Ue)for(var Vr=nr(Ue),at=ve.s.c;at<=ve.e.c;++at){Ue===ve.s.r&&(Me[at]=mr(at));var Ee=Me[at]+Vr,Ir=$e?(Te[Ue]||[])[at]:Te[Ee];if(!(!Ir||Ir.t=="z"))if(Ir.t=="n")de(W,23,C(Ue,at,Ae,Ir.v));else{var Zr=vi(Ir);de(W,22,w(Ue,at,Ae,Zr.slice(0,239)))}}++Ae}}return de(W,1),W.end()}function s(N){var j=ee(2);return j.write_shift(2,N),j}function a(N){var j=ee(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var U=0,W=0,Z=0,pe=0;pe<N.SheetNames.length;++pe){var Ae=N.SheetNames[pe],Te=N.Sheets[Ae];if(!(!Te||!Te["!ref"])){++Z;var ve=Yr(Te["!ref"]);U<ve.e.r&&(U=ve.e.r),W<ve.e.c&&(W=ve.e.c)}}return U>8191&&(U=8191),j.write_shift(2,U),j.write_shift(1,Z),j.write_shift(1,W),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function o(N,j,U){var W={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&U.qpro?(W.s.c=N.read_shift(1),N.l++,W.s.r=N.read_shift(2),W.e.c=N.read_shift(1),N.l++,W.e.r=N.read_shift(2),W):(W.s.c=N.read_shift(2),W.s.r=N.read_shift(2),j==12&&U.qpro&&(N.l+=2),W.e.c=N.read_shift(2),W.e.r=N.read_shift(2),j==12&&U.qpro&&(N.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(N){var j=ee(8);return j.write_shift(2,N.s.c),j.write_shift(2,N.s.r),j.write_shift(2,N.e.c),j.write_shift(2,N.e.r),j}function c(N,j,U){var W=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(W[0].c=N.read_shift(1),W[3]=N.read_shift(1),W[0].r=N.read_shift(2),N.l+=2):(W[2]=N.read_shift(1),W[0].c=N.read_shift(2),W[0].r=N.read_shift(2)),W}function h(N,j,U){var W=N.l+j,Z=c(N,j,U);if(Z[1].t="s",U.vers==20768){N.l++;var pe=N.read_shift(1);return Z[1].v=N.read_shift(pe,"utf8"),Z}return U.qpro&&N.l++,Z[1].v=N.read_shift(W-N.l,"cstr"),Z}function f(N,j,U){var W=ee(7+U.length);W.write_shift(1,255),W.write_shift(2,j),W.write_shift(2,N),W.write_shift(1,39);for(var Z=0;Z<W.length;++Z){var pe=U.charCodeAt(Z);W.write_shift(1,pe>=128?95:pe)}return W.write_shift(1,0),W}function d(N,j,U){var W=c(N,j,U);return W[1].v=N.read_shift(2,"i"),W}function m(N,j,U){var W=ee(7);return W.write_shift(1,255),W.write_shift(2,j),W.write_shift(2,N),W.write_shift(2,U,"i"),W}function _(N,j,U){var W=c(N,j,U);return W[1].v=N.read_shift(8,"f"),W}function g(N,j,U){var W=ee(13);return W.write_shift(1,255),W.write_shift(2,j),W.write_shift(2,N),W.write_shift(8,U,"f"),W}function y(N,j,U){var W=N.l+j,Z=c(N,j,U);if(Z[1].v=N.read_shift(8,"f"),U.qpro)N.l=W;else{var pe=N.read_shift(2);M(N.slice(N.l,N.l+pe),Z),N.l+=pe}return Z}function S(N,j,U){var W=j&32768;return j&=-32769,j=(W?N:0)+(j>=8192?j-16384:j),(W?"":"$")+(U?mr(j):nr(j))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(N,j){zr(N,0);for(var U=[],W=0,Z="",pe="",Ae="",Te="";N.l<N.length;){var ve=N[N.l++];switch(ve){case 0:U.push(N.read_shift(8,"f"));break;case 1:pe=S(j[0].c,N.read_shift(2),!0),Z=S(j[0].r,N.read_shift(2),!1),U.push(pe+Z);break;case 2:{var $e=S(j[0].c,N.read_shift(2),!0),Me=S(j[0].r,N.read_shift(2),!1);pe=S(j[0].c,N.read_shift(2),!0),Z=S(j[0].r,N.read_shift(2),!1),U.push($e+Me+":"+pe+Z)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(N.read_shift(2));break;case 6:{for(var Ot="";ve=N[N.l++];)Ot+=String.fromCharCode(ve);U.push('"'+Ot.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:Te=U.pop(),Ae=U.pop(),U.push(["AND","OR"][ve-20]+"("+Ae+","+Te+")");break;default:if(ve<32&&T[ve])Te=U.pop(),Ae=U.pop(),U.push(Ae+T[ve]+Te);else if(x[ve]){if(W=x[ve][1],W==69&&(W=N[N.l++]),W>U.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+U.join("|")+"|");return}var Ue=U.slice(-W);U.length-=W,U.push(x[ve][0]+"("+Ue.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}U.length==1?j[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function z(N){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=N.read_shift(2),j[3]=N[N.l++],j[0].c=N[N.l++],j}function G(N,j){var U=z(N);return U[1].t="s",U[1].v=N.read_shift(j-4,"cstr"),U}function w(N,j,U,W){var Z=ee(6+W.length);Z.write_shift(2,N),Z.write_shift(1,U),Z.write_shift(1,j),Z.write_shift(1,39);for(var pe=0;pe<W.length;++pe){var Ae=W.charCodeAt(pe);Z.write_shift(1,Ae>=128?95:Ae)}return Z.write_shift(1,0),Z}function E(N,j){var U=z(N);U[1].v=N.read_shift(2);var W=U[1].v>>1;if(U[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return U[1].v=W,U}function A(N,j){var U=z(N),W=N.read_shift(4),Z=N.read_shift(4),pe=N.read_shift(2);if(pe==65535)return W===0&&Z===3221225472?(U[1].t="e",U[1].v=15):W===0&&Z===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var Ae=pe&32768;return pe=(pe&32767)-16446,U[1].v=(1-Ae*2)*(Z*Math.pow(2,pe+32)+W*Math.pow(2,pe)),U}function C(N,j,U,W){var Z=ee(14);if(Z.write_shift(2,N),Z.write_shift(1,U),Z.write_shift(1,j),W==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var pe=0,Ae=0,Te=0,ve=0;return W<0&&(pe=1,W=-W),Ae=Math.log2(W)|0,W/=Math.pow(2,Ae-31),ve=W>>>0,ve&2147483648||(W/=2,++Ae,ve=W>>>0),W-=ve,ve|=2147483648,ve>>>=0,W*=Math.pow(2,32),Te=W>>>0,Z.write_shift(4,Te),Z.write_shift(4,ve),Ae+=16383+(pe?32768:0),Z.write_shift(2,Ae),Z}function O(N,j){var U=A(N);return N.l+=j-14,U}function V(N,j){var U=z(N),W=N.read_shift(4);return U[1].v=W>>6,U}function F(N,j){var U=z(N),W=N.read_shift(8,"f");return U[1].v=W,U}function Ie(N,j){var U=F(N);return N.l+=j-10,U}function Ce(N,j){return N[N.l+j-1]==0?N.read_shift(j,"cstr"):""}function We(N,j){var U=N[N.l++];U>j-1&&(U=j-1);for(var W="";W.length<U;)W+=String.fromCharCode(N[N.l++]);return W}function he(N,j,U){if(!(!U.qpro||j<21)){var W=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var Z=N.read_shift(j-21,"cstr");return[W,Z]}}function te(N,j){for(var U={},W=N.l+j;N.l<W;){var Z=N.read_shift(2);if(Z==14e3){for(U[Z]=[0,""],U[Z][0]=N.read_shift(2);N[N.l];)U[Z][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return U}function ue(N,j){var U=ee(5+N.length);U.write_shift(2,14e3),U.write_shift(2,j);for(var W=0;W<N.length;++W){var Z=N.charCodeAt(W);U[U.l++]=Z>127?95:Z}return U[U.l++]=0,U}var oe={0:{n:"BOF",f:DS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:We},65535:{n:""}},ke={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:Ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:he},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),G6=/^\s|\s$|[\t\n\r]/;function US(t,e){if(!e.bookSST)return"";var r=[Ft];r[r.length]=fe("sst",null,{xmlns:Vo[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(G6)&&(s+=' xml:space="preserve"'),s+=">"+Je(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function K6(t){return[t.read_shift(4),t.read_shift(4)]}function q6(t,e){return e||(e=ee(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var X6=BL;function Y6(t){var e=Lr();ne(e,159,q6(t));for(var r=0;r<t.length;++r)ne(e,19,X6(t[r]));return ne(e,160),e.end()}function Q6(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function jS(t){var e=0,r,n=Q6(t),i=n.length+1,s,a,o,l,c;for(r=ta(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var J6=function(){function t(i,s){switch(s.type){case"base64":return e(gi(i),s);case"binary":return e(i,s);case"buffer":return e(qe&&Buffer.isBuffer(i)?i.toString("binary"):zu(i),s);case"array":return e(r0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,m=0,_,g=-1;_=d.exec(h);){switch(_[0]){case"\\cell":var y=h.slice(m,d.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++g,y.length){var S={v:y,t:"s"};Array.isArray(o)?o[f][g]=S:o[tt({r:f,c:g})]=S}break}m=d.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=Pt(c),o}function r(i,s){return da(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ht(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var f=tt({r:c,c:h});o=l?(i[c]||[])[h]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(vi(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function zy(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Z6=6,oi=Z6;function hf(t){return Math.floor((t+Math.round(128/oi)/256)*oi)}function ff(t){return Math.floor((t-5)/oi*100+.5)/100}function Op(t){return Math.round((t*oi+5)/oi*256)/256}function Ug(t){t.width?(t.wpx=hf(t.width),t.wch=ff(t.wpx),t.MDW=oi):t.wpx?(t.wch=ff(t.wpx),t.width=Op(t.wch),t.MDW=oi):typeof t.wch=="number"&&(t.width=Op(t.wch),t.wpx=hf(t.width),t.MDW=oi),t.customWidth&&delete t.customWidth}var eM=96,WS=eM;function df(t){return t*96/WS}function zS(t){return t*WS/96}function tM(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=fe("numFmt",null,{numFmtId:n,formatCode:Je(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=fe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function rM(t){var e=[];return e[e.length]=fe("cellXfs",null),t.forEach(function(r){e[e.length]=fe("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=fe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function $S(t,e){var r=[Ft,fe("styleSheet",null,{xmlns:Vo[0],"xmlns:vt":Wt.vt})],n;return t.SSF&&(n=tM(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=rM(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nM(t,e){var r=t.read_shift(2),n=gr(t);return[r,n]}function iM(t,e,r){r||(r=ee(6+4*e.length)),r.write_shift(2,t),$t(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function sM(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=GL(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=HL(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gr(t),n}function aM(t,e){e||(e=ee(25+4*32)),e.write_shift(2,t.sz*20),KL(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),uf(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),$t(t.name,e),e.length>e.l?e.slice(0,e.l):e}var oM=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],id,lM=zn;function $y(t,e){e||(e=ee(4*3+8*7+16*1)),id||(id=Rg(oM));var r=id[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(uf({auto:1},e),uf({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function uM(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function HS(t,e,r){r||(r=ee(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function cl(t,e){return e||(e=ee(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var cM=zn;function hM(t,e){return e||(e=ee(51)),e.write_shift(1,0),cl(null,e),cl(null,e),cl(null,e),cl(null,e),cl(null,e),e.length>e.l?e.slice(0,e.l):e}function fM(t,e){return e||(e=ee(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),lf(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function dM(t,e,r){var n=ee(2052);return n.write_shift(4,t),lf(e,n),lf(r,n),n.length>n.l?n.slice(0,n.l):n}function pM(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ne(t,615,An(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ne(t,44,iM(i,e[i]))}),ne(t,616))}}function mM(t){var e=1;ne(t,611,An(e)),ne(t,43,aM({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ne(t,612)}function gM(t){var e=2;ne(t,603,An(e)),ne(t,45,$y({patternType:"none"})),ne(t,45,$y({patternType:"gray125"})),ne(t,604)}function vM(t){var e=1;ne(t,613,An(e)),ne(t,46,hM()),ne(t,614)}function _M(t){var e=1;ne(t,626,An(e)),ne(t,47,HS({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ne(t,627)}function yM(t,e){ne(t,617,An(e.length)),e.forEach(function(r){ne(t,47,HS(r,0))}),ne(t,618)}function xM(t){var e=1;ne(t,619,An(e)),ne(t,48,fM({xfId:0,builtinId:0,name:"Normal"})),ne(t,620)}function EM(t){var e=0;ne(t,505,An(e)),ne(t,506)}function wM(t){var e=0;ne(t,508,dM(e,"TableStyleMedium9","PivotStyleMedium4")),ne(t,509)}function TM(t,e){var r=Lr();return ne(r,278),pM(r,t.SSF),mM(r),gM(r),vM(r),_M(r),yM(r,e.cellXfs),xM(r),EM(r),wM(r),ne(r,279),r.end()}function GS(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ft];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function SM(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:gr(t)}}function AM(t){var e=ee(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),$t(t.name,e),e.slice(0,e.l)}function IM(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function CM(t){var e=ee(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function RM(t,e){var r=ee(8+2*e.length);return r.write_shift(4,t),$t(e,r),r.slice(0,r.l)}function kM(t){return t.l+=4,t.read_shift(4)!=0}function PM(t,e){var r=ee(8);return r.write_shift(4,t),r.write_shift(4,1),r}function NM(){var t=Lr();return ne(t,332),ne(t,334,An(1)),ne(t,335,AM({name:"XLDAPR",version:12e4,flags:3496657072})),ne(t,336),ne(t,339,RM(1,"XLDAPR")),ne(t,52),ne(t,35,An(514)),ne(t,4096,An(0)),ne(t,4097,nn(1)),ne(t,36),ne(t,53),ne(t,340),ne(t,337,PM(1)),ne(t,51,CM([[1,0]])),ne(t,338),ne(t,333),t.end()}function KS(){var t=[Ft];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function FM(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=tt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var qa=1024;function qS(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[fe("xml",null,{"xmlns:v":$r.v,"xmlns:o":$r.o,"xmlns:x":$r.x,"xmlns:mv":$r.mv}).replace(/\/>/,">"),fe("o:shapelayout",fe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),fe("v:shapetype",[fe("v:stroke",null,{joinstyle:"miter"}),fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];qa<t*1e3;)qa+=1e3;return e.forEach(function(s){var a=zt(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=fe("v:fill",l,o),h={on:"t",obscured:"t"};++qa,i=i.concat(["<v:shape"+xu({id:"_x0000_s"+qa,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,fe("v:shadow",null,h),fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",er("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),er("x:AutoFill","False"),er("x:Row",String(a.r)),er("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function XS(t){var e=[Ft,fe("comments",null,{xmlns:Vo[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Je(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Je(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(er("t",Je(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(er("t",Je(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function OM(t,e,r){var n=[Ft,fe("ThreadedComments",null,{xmlns:Wt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(fe("threadedComment",er("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function DM(t){var e=[Ft,fe("personList",null,{xmlns:Wt.TCMNT,"xmlns:x":Vo[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(fe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function LM(t){var e={};e.iauthor=t.read_shift(4);var r=va(t);return e.rfx=r.s,e.ref=tt(r.s),t.l+=16,e}function MM(t,e){return e==null&&(e=ee(36)),e.write_shift(4,t[1].iauthor),Uo(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var bM=gr;function VM(t){return $t(t.slice(0,54))}function BM(t){var e=Lr(),r=[];return ne(e,628),ne(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ne(e,632,VM(i.a)))})}),ne(e,631),ne(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:zt(n[0]),e:zt(n[0])};ne(e,635,MM([s,i])),i.t&&i.t.length>0&&ne(e,637,jL(i)),ne(e,636),delete i.iauthor})}),ne(e,634),ne(e,629),e.end()}function UM(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&rt.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var YS=["xlsb","xlsm","xlam","biff8","xla"],jM=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,l?c+=e.r:--c,i+(o?"":"$")+mr(h)+(l?"":"$")+nr(c)}return function(i,s){return e=s,i.replace(t,r)}}(),jg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Wg=function(){return function(e,r){return e.replace(jg,function(n,i,s,a,o,l){var c=Lg(a)-(s?0:r.c),h=Dg(l)-(o?0:r.r),f=h==0?"":o?h+1:"["+h+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function WM(t,e){return t.replace(jg,function(r,n,i,s,a,o){return n+(i=="$"?i+s:mr(Lg(s)+e.c))+(a=="$"?a+o:nr(Dg(o)+e.r))})}function zM(t){return t.length!=1}function At(t){t.l+=1}function ds(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function QS(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return JS(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=ds(t),o=ds(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function JS(t){var e=ds(t),r=ds(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function $M(t,e,r){if(r.biff<8)return JS(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ds(t),a=ds(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function ZS(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return HM(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ds(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function HM(t){var e=ds(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function GM(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function KM(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return qM(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function qM(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function XM(t,e,r){var n=(t[t.l++]&96)>>5,i=QS(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function YM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=QS(t,s,r);return[n,i,a]}function QM(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function JM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function ZM(t,e,r){var n=(t[t.l++]&96)>>5,i=$M(t,e-1,r);return[n,i]}function e5(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Hy(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function t5(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function r5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function n5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function i5(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function s5(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function eA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function a5(t){return t.read_shift(2),eA(t)}function o5(t){return t.read_shift(2),eA(t)}function l5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=ZS(t,0,r);return[n,i]}function u5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=KM(t,0,r);return[n,i]}function c5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=ZS(t,0,r);return[n,i,s]}function h5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[h8[i],nA[i],n]}function f5(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:d5(t);return[i,(s[0]===0?nA:c8)[s[1]]]}function d5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function p5(t,e,r){t.l+=r&&r.biff==2?3:4}function m5(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function g5(t){return t.l++,Gu[t.read_shift(1)]}function v5(t){return t.l++,t.read_shift(2)}function _5(t){return t.l++,t.read_shift(1)!==0}function y5(t){return t.l++,jo(t)}function x5(t,e,r){return t.l++,MS(t,e-1,r)}function E5(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=c6(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Gu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=jo(t);break;case 2:r[1]=p6(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function w5(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?va:v6)(t));return i}function T5(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=E5(t,r.biff);return a}function S5(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function A5(t,e,r){if(r.biff==5)return I5(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function I5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function C5(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function R5(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function k5(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function P5(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var N5=zn,F5=zn,O5=zn;function Ku(t,e,r){return t.l+=2,[GM(t)]}function zg(t){return t.l+=6,[]}var D5=Ku,L5=zg,M5=zg,b5=Ku;function tA(t){return t.l+=2,[DS(t),t.read_shift(2)&1]}var V5=Ku,B5=tA,U5=zg,j5=Ku,W5=Ku,z5=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $5(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=z5[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function H5(t){return t.l+=2,[t.read_shift(4)]}function G5(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function K5(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function q5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function X5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Y5(t){return t.l+=4,[0,0]}var Gy={1:{n:"PtgExp",f:m5},2:{n:"PtgTbl",f:O5},3:{n:"PtgAdd",f:At},4:{n:"PtgSub",f:At},5:{n:"PtgMul",f:At},6:{n:"PtgDiv",f:At},7:{n:"PtgPower",f:At},8:{n:"PtgConcat",f:At},9:{n:"PtgLt",f:At},10:{n:"PtgLe",f:At},11:{n:"PtgEq",f:At},12:{n:"PtgGe",f:At},13:{n:"PtgGt",f:At},14:{n:"PtgNe",f:At},15:{n:"PtgIsect",f:At},16:{n:"PtgUnion",f:At},17:{n:"PtgRange",f:At},18:{n:"PtgUplus",f:At},19:{n:"PtgUminus",f:At},20:{n:"PtgPercent",f:At},21:{n:"PtgParen",f:At},22:{n:"PtgMissArg",f:At},23:{n:"PtgStr",f:x5},26:{n:"PtgSheet",f:G5},27:{n:"PtgEndSheet",f:K5},28:{n:"PtgErr",f:g5},29:{n:"PtgBool",f:_5},30:{n:"PtgInt",f:v5},31:{n:"PtgNum",f:y5},32:{n:"PtgArray",f:e5},33:{n:"PtgFunc",f:h5},34:{n:"PtgFuncVar",f:f5},35:{n:"PtgName",f:S5},36:{n:"PtgRef",f:l5},37:{n:"PtgArea",f:XM},38:{n:"PtgMemArea",f:C5},39:{n:"PtgMemErr",f:N5},40:{n:"PtgMemNoMem",f:F5},41:{n:"PtgMemFunc",f:R5},42:{n:"PtgRefErr",f:k5},43:{n:"PtgAreaErr",f:QM},44:{n:"PtgRefN",f:u5},45:{n:"PtgAreaN",f:ZM},46:{n:"PtgMemAreaN",f:q5},47:{n:"PtgMemNoMemN",f:X5},57:{n:"PtgNameX",f:A5},58:{n:"PtgRef3d",f:c5},59:{n:"PtgArea3d",f:YM},60:{n:"PtgRefErr3d",f:P5},61:{n:"PtgAreaErr3d",f:JM},255:{}},Q5={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},J5={1:{n:"PtgElfLel",f:tA},2:{n:"PtgElfRw",f:j5},3:{n:"PtgElfCol",f:D5},6:{n:"PtgElfRwV",f:W5},7:{n:"PtgElfColV",f:b5},10:{n:"PtgElfRadical",f:V5},11:{n:"PtgElfRadicalS",f:U5},13:{n:"PtgElfColS",f:L5},15:{n:"PtgElfColSV",f:M5},16:{n:"PtgElfRadicalLel",f:B5},25:{n:"PtgList",f:$5},29:{n:"PtgSxName",f:H5},255:{}},Z5={0:{n:"PtgAttrNoop",f:Y5},1:{n:"PtgAttrSemi",f:s5},2:{n:"PtgAttrIf",f:n5},4:{n:"PtgAttrChoose",f:t5},8:{n:"PtgAttrGoto",f:r5},16:{n:"PtgAttrSum",f:p5},32:{n:"PtgAttrBaxcel",f:Hy},33:{n:"PtgAttrBaxcel",f:Hy},64:{n:"PtgAttrSpace",f:a5},65:{n:"PtgAttrSpaceSemi",f:o5},128:{n:"PtgAttrIfError",f:i5},255:{}};function e8(t,e,r,n){if(n.biff<8)return zn(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=T5(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=w5(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(zn(t,e)),s}function t8(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=Gy[s]||Gy[Q5[s]],(s===24||s===25)&&(i=(s===24?J5:Z5)[t[t.l+1]]),!i||!i.f?zn(t,e):a.push([i.n,i.f(t,e,r)]);return a}function r8(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var n8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function i8(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function rA(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ky(t,e,r){var n=rA(t,e,r);return n=="#REF"?n:i8(n,r)}function Co(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,h,f=0,d=0,m,_="";if(!t[0]||!t[0][0])return"";for(var g=-1,y="",S=0,x=t[0].length;S<x;++S){var T=t[0][S];switch(T[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:y=xt(" ",t[0][g][1][1]);break;case 1:y=xt("\r",t[0][g][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+y,g=-1}o.push(c+n8[T[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Ul(T[1][1],a,i),o.push(jl(h,s));break;case"PtgRefN":h=r?Ul(T[1][1],r,i):T[1][1],o.push(jl(h,s));break;case"PtgRef3d":f=T[1][1],h=Ul(T[1][2],a,i),_=Ky(n,f,i),o.push(_+"!"+jl(h,s));break;case"PtgFunc":case"PtgFuncVar":var M=T[1][0],z=T[1][1];M||(M=0),M&=127;var G=M==0?[]:o.slice(-M);o.length-=M,z==="User"&&(z=G.shift()),o.push(z+"("+G.join(",")+")");break;case"PtgBool":o.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(T[1]);break;case"PtgNum":o.push(String(T[1]));break;case"PtgStr":o.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(T[1]);break;case"PtgAreaN":m=Ny(T[1][1],r?{s:r}:a,i),o.push(rd(m,i));break;case"PtgArea":m=Ny(T[1][1],a,i),o.push(rd(m,i));break;case"PtgArea3d":f=T[1][1],m=T[1][2],_=Ky(n,f,i),o.push(_+"!"+rd(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=T[1][2];var w=(n.names||[])[d-1]||(n[0]||[])[d],E=w?w.Name:"SH33TJSNAME"+String(d);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var A=T[1][1];d=T[1][2];var C;if(i.biff<=5)A<0&&(A=-A),n[A]&&(C=n[A][d]);else{var O="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][d]&&n[A][d].itab>0&&(O=n.SheetNames[n[A][d].itab-1]+"!"):O=n.SheetNames[d-1]+"!"),n[A]&&n[A][d])O+=n[A][d].Name;else if(n[0]&&n[0][d])O+=n[0][d].Name;else{var V=(rA(n,A,i)||"").split(";;");V[d-1]?O=V[d-1]:O+="SH33TJSERRX"}o.push(O);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var F="(",Ie=")";if(g>=0){switch(y="",t[0][g][1][0]){case 2:F=xt(" ",t[0][g][1][1])+F;break;case 3:F=xt("\r",t[0][g][1][1])+F;break;case 4:Ie=xt(" ",t[0][g][1][1])+Ie;break;case 5:Ie=xt("\r",t[0][g][1][1])+Ie;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(F+o.pop()+Ie);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:T[1][1],r:T[1][0]};var Ce={c:r.c,r:r.r};if(n.sharedf[tt(h)]){var We=n.sharedf[tt(h)];o.push(Co(We,a,Ce,n,i))}else{var he=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(h.c<c[0].s.c||h.c>c[0].e.c)&&!(h.r<c[0].s.r||h.r>c[0].e.r)){o.push(Co(c[1],a,Ce,n,i)),he=!0;break}he||o.push(T[1])}break;case"PtgArray":o.push("{"+r8(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&te.indexOf(t[0][S][0])==-1){T=t[0][g];var ue=!0;switch(T[1][0]){case 4:ue=!1;case 0:y=xt(" ",T[1][1]);break;case 5:ue=!1;case 1:y=xt("\r",T[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}o.push((ue?y:"")+o.pop()+(ue?"":y)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function s8(t){if(t==null){var e=ee(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ra(t);return ra(0)}function a8(t,e,r,n,i){var s=na(e,r,i),a=s8(t.v),o=ee(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ee(t.bf.length),h=0;h<t.bf.length;++h)c[h]=t.bf[h];var f=Zt([s,a,o,c]);return f}function n0(t,e,r){var n=t.read_shift(4),i=t8(t,n,r),s=t.read_shift(4),a=s>0?e8(t,s,i,r):null;return[i,a]}var o8=n0,i0=n0,l8=n0,u8=n0,c8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},h8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function f8(t){var e="of:="+t.replace(jg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function d8(t){return t.replace(/\./,"!")}var Wl=typeof Map<"u";function $g(t,e,r){var n=0,i=t.length;if(r){if(Wl?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Wl?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Wl?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function s0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(oi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=ff(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Op(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function iA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ys(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){ZT(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function p8(t,e,r){if(t&&t["!ref"]){var n=ht(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function m8(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Pt(t[r])+'"/>';return e+"</mergeCells>"}function g8(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=yu(Je(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+fe("outlinePr",null,c)}!s&&!o||(i[i.length]=fe("sheetPr",o,a))}var v8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function y8(t){var e={sheet:1};return v8.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),_8.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=jS(t.password).toString(16).toUpperCase()),fe("sheetProtection",null,e)}function x8(t){return iA(t),fe("pageMargins",null,t)}function E8(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=fe("col",null,s0(i,n)));return r[r.length]="</cols>",r.join("")}function w8(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Pt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Yr(i);a.s.r==a.e.r&&(a.e.r=Yr(e["!ref"]).e.r,i=Pt(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),fe("autoFilter",null,{ref:i})}function T8(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),fe("sheetViews",fe("sheetView",null,i),{})}function S8(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Gu[t.v];break;case"d":n&&n.cellDates?i=Tr(t.v,-1).toISOString():(t=br(t),t.t="n",i=""+(t.v=Mr(Tr(t.v)))),typeof t.z>"u"&&(t.z=Et[14]);break;default:i=t.v;break}var o=er("v",Je(i)),l={r:e},c=ys(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=er("v",""+$g(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=fe("f",Je(t.f),h)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),fe("c",o,l)}function A8(t,e,r,n){var i=[],s=[],a=ht(t["!ref"]),o="",l,c="",h=[],f=0,d=0,m=t["!rows"],_=Array.isArray(t),g={r:c},y,S=-1;for(d=a.s.c;d<=a.e.c;++d)h[d]=mr(d);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=nr(f),d=a.s.c;d<=a.e.c;++d){l=h[d]+c;var x=_?(t[f]||[])[d]:t[l];x!==void 0&&(o=S8(x,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[f])&&(g={r:c},m&&m[f]&&(y=m[f],y.hidden&&(g.hidden=1),S=-1,y.hpx?S=df(y.hpx):y.hpt&&(S=y.hpt),S>-1&&(g.ht=S,g.customHeight=1),y.level&&(g.outlineLevel=y.level)),i[i.length]=fe("row",s.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},y=m[f],y.hidden&&(g.hidden=1),S=-1,y.hpx?S=df(y.hpx):y.hpt&&(S=y.hpt),S>-1&&(g.ht=S,g.customHeight=1),y.level&&(g.outlineLevel=y.level),i[i.length]=fe("row","",g));return i.join("")}function sA(t,e,r,n){var i=[Ft,fe("worksheet",null,{xmlns:Vo[0],"xmlns:r":Wt.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",h=ht(c);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),c=Pt(h)}n||(n={}),l["!comments"]=[];var f=[];g8(l,r,t,e,i),i[i.length]=fe("dimension",null,{ref:c}),i[i.length]=T8(l,e,t,r),e.sheetFormat&&(i[i.length]=fe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=E8(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=A8(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=y8(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=w8(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=m8(l["!merges"]));var d=-1,m,_=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(_=Qe(n,-1,Je(g[1].Target).replace(/#.*$/,""),Ge.HLINK),m["r:id"]="rId"+_),(d=g[1].Target.indexOf("#"))>-1&&(m.location=Je(g[1].Target.slice(d+1))),g[1].Tooltip&&(m.tooltip=Je(g[1].Tooltip)),i[i.length]=fe("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=x8(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=er("ignoredErrors",fe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(_=Qe(n,-1,"../drawings/drawing"+(t+1)+".xml",Ge.DRAW),i[i.length]=fe("drawing",null,{"r:id":"rId"+_}),l["!drawing"]=f),l["!comments"].length>0&&(_=Qe(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ge.VML),i[i.length]=fe("legacyDrawing",null,{"r:id":"rId"+_}),l["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function I8(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function C8(t,e,r){var n=ee(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=df(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var f=-1,d=-1,m=h<<10;m<h+1<<10;++m){c.c=m;var _=Array.isArray(r)?(r[c.r]||[])[c.c]:r[tt(c)];_&&(f<0&&(f=m),d=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function R8(t,e,r,n){var i=C8(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ne(t,0,i)}var k8=va,P8=Uo;function N8(){}function F8(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=WL(t),r}function O8(t,e,r){r==null&&(r=ee(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return uf({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),xS(t,r),r.slice(0,r.l)}function D8(t){var e=hn(t);return[e]}function L8(t,e,r){return r==null&&(r=ee(8)),pa(e,r)}function M8(t){var e=ma(t);return[e]}function b8(t,e,r){return r==null&&(r=ee(4)),ga(e,r)}function V8(t){var e=hn(t),r=t.read_shift(1);return[e,r,"b"]}function B8(t,e,r){return r==null&&(r=ee(9)),pa(e,r),r.write_shift(1,t.v?1:0),r}function U8(t){var e=ma(t),r=t.read_shift(1);return[e,r,"b"]}function j8(t,e,r){return r==null&&(r=ee(5)),ga(e,r),r.write_shift(1,t.v?1:0),r}function W8(t){var e=hn(t),r=t.read_shift(1);return[e,r,"e"]}function z8(t,e,r){return r==null&&(r=ee(9)),pa(e,r),r.write_shift(1,t.v),r}function $8(t){var e=ma(t),r=t.read_shift(1);return[e,r,"e"]}function H8(t,e,r){return r==null&&(r=ee(8)),ga(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function G8(t){var e=hn(t),r=t.read_shift(4);return[e,r,"s"]}function K8(t,e,r){return r==null&&(r=ee(12)),pa(e,r),r.write_shift(4,e.v),r}function q8(t){var e=ma(t),r=t.read_shift(4);return[e,r,"s"]}function X8(t,e,r){return r==null&&(r=ee(8)),ga(e,r),r.write_shift(4,e.v),r}function Y8(t){var e=hn(t),r=jo(t);return[e,r,"n"]}function Q8(t,e,r){return r==null&&(r=ee(16)),pa(e,r),ra(t.v,r),r}function J8(t){var e=ma(t),r=jo(t);return[e,r,"n"]}function Z8(t,e,r){return r==null&&(r=ee(12)),ga(e,r),ra(t.v,r),r}function eb(t){var e=hn(t),r=ES(t);return[e,r,"n"]}function tb(t,e,r){return r==null&&(r=ee(12)),pa(e,r),wS(t.v,r),r}function rb(t){var e=ma(t),r=ES(t);return[e,r,"n"]}function nb(t,e,r){return r==null&&(r=ee(8)),ga(e,r),wS(t.v,r),r}function ib(t){var e=hn(t),r=Mg(t);return[e,r,"is"]}function sb(t){var e=hn(t),r=gr(t);return[e,r,"str"]}function ab(t,e,r){return r==null&&(r=ee(12+4*t.v.length)),pa(e,r),$t(t.v,r),r.length>r.l?r.slice(0,r.l):r}function ob(t){var e=ma(t),r=gr(t);return[e,r,"str"]}function lb(t,e,r){return r==null&&(r=ee(8+4*t.v.length)),ga(e,r),$t(t.v,r),r.length>r.l?r.slice(0,r.l):r}function ub(t,e,r){var n=t.l+e,i=hn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=i0(t,n-t.l,r);a[3]=Co(o,null,i,r.supbooks,r)}else t.l=n;return a}function cb(t,e,r){var n=t.l+e,i=hn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=i0(t,n-t.l,r);a[3]=Co(o,null,i,r.supbooks,r)}else t.l=n;return a}function hb(t,e,r){var n=t.l+e,i=hn(t);i.r=r["!row"];var s=jo(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=i0(t,n-t.l,r);a[3]=Co(o,null,i,r.supbooks,r)}else t.l=n;return a}function fb(t,e,r){var n=t.l+e,i=hn(t);i.r=r["!row"];var s=gr(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=i0(t,n-t.l,r);a[3]=Co(o,null,i,r.supbooks,r)}else t.l=n;return a}var db=va,pb=Uo;function mb(t,e){return e==null&&(e=ee(4)),e.write_shift(4,t),e}function gb(t,e){var r=t.l+e,n=va(t),i=bg(t),s=gr(t),a=gr(t),o=gr(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function vb(t,e){var r=ee(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Uo({s:zt(t[0]),e:zt(t[0])},r),Vg("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return $t(i||"",r),$t(t[1].Tooltip||"",r),$t("",r),r.slice(0,r.l)}function _b(){}function yb(t,e,r){var n=t.l+e,i=TS(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=o8(t,n-t.l,r);a[1]=o}else t.l=n;return a}function xb(t,e,r){var n=t.l+e,i=va(t),s=[i];if(r.cellFormula){var a=u8(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function Eb(t,e,r){r==null&&(r=ee(18));var n=s0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var aA=["left","right","top","bottom","header","footer"];function wb(t){var e={};return aA.forEach(function(r){e[r]=jo(t)}),e}function Tb(t,e){return e==null&&(e=ee(6*8)),iA(t),aA.forEach(function(r){ra(t[r],e)}),e}function Sb(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Ab(t,e,r){r==null&&(r=ee(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Ib(t){var e=ee(24);return e.write_shift(4,4),e.write_shift(4,1),Uo(t,e),e}function Cb(t,e){return e==null&&(e=ee(16*4+2)),e.write_shift(2,t.password?jS(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Rb(){}function kb(){}function Pb(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=br(e),e.z=e.z||Et[14],e.v=Mr(Tr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=ys(i.cellXfs,e,i),e.l&&s["!links"].push([tt(l),e.l]),e.c&&s["!comments"].push([tt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=$g(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ne(t,18,X8(e,l)):ne(t,7,K8(e,l))):(l.t="str",a?ne(t,17,lb(e,l)):ne(t,6,ab(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ne(t,13,nb(e,l)):ne(t,2,tb(e,l)):a?ne(t,16,Z8(e,l)):ne(t,5,Q8(e,l)),!0;case"b":return l.t="b",a?ne(t,15,j8(e,l)):ne(t,4,B8(e,l)),!0;case"e":return l.t="e",a?ne(t,14,H8(e,l)):ne(t,3,z8(e,l)),!0}return a?ne(t,12,b8(e,l)):ne(t,1,L8(e,l)),!0}function Nb(t,e,r,n){var i=ht(e["!ref"]||"A1"),s,a="",o=[];ne(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=c;++h){a=nr(h),R8(t,e,i,h);var f=!1;if(h<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){h===i.s.r&&(o[d]=mr(d)),s=o[d]+a;var m=l?(e[h]||[])[d]:e[s];if(!m){f=!1;continue}f=Pb(t,m,h,d,n,e,f)}}ne(t,146)}function Fb(t,e){!e||!e["!merges"]||(ne(t,177,mb(e["!merges"].length)),e["!merges"].forEach(function(r){ne(t,176,pb(r))}),ne(t,178))}function Ob(t,e){!e||!e["!cols"]||(ne(t,390),e["!cols"].forEach(function(r,n){r&&ne(t,60,Eb(n,r))}),ne(t,391))}function Db(t,e){!e||!e["!ref"]||(ne(t,648),ne(t,649,Ib(ht(e["!ref"]))),ne(t,650))}function Lb(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Qe(r,-1,n[1].Target.replace(/#.*$/,""),Ge.HLINK);ne(t,494,vb(n,i))}}),delete e["!links"]}function Mb(t,e,r,n){if(e["!comments"].length>0){var i=Qe(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ge.VML);ne(t,551,Vg("rId"+i)),e["!legacy"]=i}}function bb(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Pt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Yr(s);o.s.r==o.e.r&&(o.e.r=Yr(e["!ref"]).e.r,s=Pt(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ne(t,161,Uo(ht(s))),ne(t,162)}}function Vb(t,e,r){ne(t,133),ne(t,137,Ab(e,r)),ne(t,138),ne(t,134)}function Bb(t,e){e["!protect"]&&ne(t,535,Cb(e["!protect"]))}function Ub(t,e,r,n){var i=Lr(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ht(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ne(i,129),(r.vbaraw||a["!outline"])&&ne(i,147,O8(o,a["!outline"])),ne(i,148,P8(l)),Vb(i,a,r.Workbook),Ob(i,a),Nb(i,a,t,e),Bb(i,a),bb(i,a,r,t),Fb(i,a),Lb(i,a,n),a["!margins"]&&ne(i,476,Tb(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Db(i,a),Mb(i,a,t,n),ne(i,130),i.end()}function jb(t,e){t.l+=10;var r=gr(t);return{name:r}}var Wb=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function zb(t){return!t.Workbook||!t.Workbook.WBProps?"false":xL(t.Workbook.WBProps.date1904)?"true":"false"}var $b="][*?/\\".split("");function oA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return $b.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Hb(t,e,r){t.forEach(function(n,i){oA(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Gb(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Hb(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)p8(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function lA(t){var e=[Ft];e[e.length]=fe("workbook",null,{xmlns:Vo[0],"xmlns:r":Wt.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Wb.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=fe("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Je(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=fe("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=fe("definedName",Je(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Kb(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Fp(t),r.name=gr(t),r}function qb(t,e){return e||(e=ee(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Vg(t.strRelID,e),$t(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Xb(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?gr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Yb(t,e){e||(e=ee(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),xS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Qb(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=zL(t),a=l8(t,0,r),o=bg(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Jb(t,e){ne(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ne(t,156,qb(i))}ne(t,144)}function Zb(t,e){e||(e=ee(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return $t("SheetJS",e),$t(tf.version,e),$t(tf.version,e),$t("7262",e),e.length>e.l?e.slice(0,e.l):e}function e9(t,e){e||(e=ee(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function t9(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(ne(t,135),ne(t,158,e9(i)),ne(t,136))}}function r9(t,e){var r=Lr();return ne(r,131),ne(r,128,Zb()),ne(r,153,Yb(t.Workbook&&t.Workbook.WBProps||null)),t9(r,t),Jb(r,t),ne(r,132),r.end()}function n9(t,e,r){return(e.slice(-4)===".bin"?r9:lA)(t)}function i9(t,e,r,n,i){return(e.slice(-4)===".bin"?Ub:sA)(t,r,n,i)}function s9(t,e,r){return(e.slice(-4)===".bin"?TM:$S)(t,r)}function a9(t,e,r){return(e.slice(-4)===".bin"?Y6:US)(t,r)}function o9(t,e,r){return(e.slice(-4)===".bin"?BM:XS)(t)}function l9(t){return(t.slice(-4)===".bin"?NM:KS)()}function u9(t,e){var r=[];return t.Props&&r.push(s6(t.Props,e)),t.Custprops&&r.push(a6(t.Props,t.Custprops)),r.join("")}function c9(){return""}function h9(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(fe("NumberFormat",null,{"ss:Format":Je(Et[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(fe("Style",s.join(""),a))}),fe("Styles",r.join(""))}function uA(t){return fe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Wg(t.Ref,{r:0,c:0})})}function f9(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(uA(i)))}return fe("Names",r.join(""))}function d9(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(uA(o)))}return s.join("")}function p9(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(fe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(fe("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(fe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(fe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(er("ProtectContents","True")),t["!protect"].objects&&i.push(er("ProtectObjects","True")),t["!protect"].scenarios&&i.push(er("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(er("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(er("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":fe("WorksheetOptions",i.join(""),{xmlns:$r.x})}function m9(t){return t.map(function(e){var r=yL(e.t||""),n=fe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return fe("Comment",n,{"ss:Author":e.a})}).join("")}function g9(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Je(Wg(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=zt(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Je(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Je(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],h=0;h!=c.length;++h)c[h].s.c!=a.c||c[h].s.r!=a.r||(c[h].e.c>c[h].s.c&&(o["ss:MergeAcross"]=c[h].e.c-c[h].s.c),c[h].e.r>c[h].s.r&&(o["ss:MergeDown"]=c[h].e.r-c[h].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Gu[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Et[14]);break;case"s":f="String",d=_L(t.v||"");break}var m=ys(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var _=t.v!=null?d:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+_+"</Data>";return(t.c||[]).length>0&&(g+=m9(t.c)),fe("Cell",g,o)}function v9(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=zS(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _9(t,e,r,n){if(!t["!ref"])return"";var i=ht(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(y,S){Ug(y);var x=!!y.width,T=s0(S,y),M={"ss:Index":S+1};x&&(M["ss:Width"]=hf(T.width)),y.hidden&&(M["ss:Hidden"]="1"),o.push(fe("Column",null,M))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var h=[v9(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(d=!0);break}if(!d){var m={r:c,c:f},_=tt(m),g=l?(t[c]||[])[f]:t[_];h.push(g9(g,_,t,e,r,n,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function y9(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?d9(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?_9(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(p9(s,e,t,r)),n.join("")}function x9(t,e){e||(e={}),t.SSF||(t.SSF=br(Et)),t.SSF&&(e0(),Zf(t.SSF),e.revssf=t0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ys(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(u9(t,e)),r.push(c9()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(fe("Worksheet",y9(n,e,t),{"ss:Name":Je(t.SheetNames[n])}));return r[2]=h9(t,e),r[3]=f9(t),Ft+fe("Workbook",r.join(""),{xmlns:$r.ss,"xmlns:o":$r.o,"xmlns:x":$r.x,"xmlns:ss":$r.ss,"xmlns:dt":$r.dt,"xmlns:html":$r.html})}var sd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function E9(t,e){var r=[],n=[],i=[],s=0,a,o=xy(Oy,"n"),l=xy(Dy,"n");if(t.Props)for(a=ar(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=ar(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)OS.indexOf(i[s][0])>-1||PS.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&rt.utils.cfb_add(e,"/SummaryInformation",By(n,sd.SI,l,Dy)),(r.length||c.length)&&rt.utils.cfb_add(e,"/DocumentSummaryInformation",By(r,sd.DSI,o,Oy,c.length?c:null,sd.UDI))}function w9(t,e){var r=e||{},n=rt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return rt.utils.cfb_add(n,i,cA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&E9(t,n),r.biff==8&&t.vbaraw&&UM(n,rt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var T9={0:{f:I8},1:{f:D8},2:{f:eb},3:{f:W8},4:{f:V8},5:{f:Y8},6:{f:sb},7:{f:G8},8:{f:fb},9:{f:hb},10:{f:ub},11:{f:cb},12:{f:M8},13:{f:rb},14:{f:$8},15:{f:U8},16:{f:J8},17:{f:ob},18:{f:q8},19:{f:Mg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Qb},40:{},42:{},43:{f:sM},44:{f:nM},45:{f:lM},46:{f:cM},47:{f:uM},48:{},49:{f:ML},50:{},51:{f:IM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:b6},62:{f:ib},63:{f:FM},64:{f:Rb},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Sb},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:F8},148:{f:k8,p:16},151:{f:_b},152:{},153:{f:Xb},154:{},155:{},156:{f:Kb},157:{},158:{},159:{T:1,f:K6},160:{T:-1},161:{T:1,f:va},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:db},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:SM},336:{T:-1},337:{f:kM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Fp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:N6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yb},427:{f:xb},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:wb},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:N8},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gb},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Fp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bM},633:{T:1},634:{T:-1},635:{T:1,f:LM},636:{T:-1},637:{f:UL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jb},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kb},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function de(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Og(r)&&t.push(r)}}function S9(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return de(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var h=t.next(4);for(h.write_shift(2,s),h.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(h=t.next(4),h.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;h.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function qu(t,e,r){return t||(t=ee(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function A9(t,e,r,n){var i=ee(9);return qu(i,t,e),LS(r,n||"b",i),i}function I9(t,e,r){var n=ee(8+2*r.length);return qu(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function C9(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Mr(Tr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?de(t,2,j6(r,n,i)):de(t,3,U6(r,n,i));return;case"b":case"e":de(t,5,A9(r,n,e.v,e.t));return;case"s":case"str":de(t,4,I9(r,n,(e.v||"").slice(0,255)));return}de(t,1,qu(null,r,n))}function R9(t,e,r,n){var i=Array.isArray(e),s=ht(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Pt(s)}for(var c=s.s.r;c<=s.e.r;++c){o=nr(c);for(var h=s.s.c;h<=s.e.c;++h){c===s.s.r&&(l[h]=mr(h)),a=l[h]+o;var f=i?(e[c]||[])[h]:e[a];f&&C9(t,f,c,h)}}}function k9(t,e){for(var r=e||{},n=Lr(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return de(n,r.biff==4?1033:r.biff==3?521:9,Bg(t,16,r)),R9(n,t.Sheets[t.SheetNames[i]],i,r),de(n,10),n.end()}function P9(t,e,r){de(t,49,T6({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function N9(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&de(t,1054,I6(i,e[i],r))})}function F9(t,e){var r=ee(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),de(t,2151,r),r=ee(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),VS(ht(e["!ref"]||"A1"),r),r.write_shift(4,4),de(t,2152,r)}function O9(t,e){for(var r=0;r<16;++r)de(t,224,jy({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){de(t,224,jy(n,0,e))})}function D9(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];de(t,440,D6(n)),n[1].Tooltip&&de(t,2048,L6(n))}delete e["!links"]}function L9(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&de(t,125,V6(s0(i,n),i))})}}function M9(t,e,r,n,i){var s=16+ys(i.cellXfs,e,i);if(e.v==null&&!e.bf){de(t,513,na(r,n,s));return}if(e.bf)de(t,6,a8(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Mr(Tr(e.v)):e.v;de(t,515,P6(r,n,a,s));break;case"b":case"e":de(t,517,k6(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=$g(i.Strings,e.v,i.revStrings);de(t,253,S6(r,n,o,s))}else de(t,516,A6(r,n,(e.v||"").slice(0,255),s,i));break;default:de(t,513,na(r,n,s))}}function b9(t,e,r){var n=Lr(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,h,f="",d=[],m=ht(s["!ref"]||"A1"),_=c?65536:16384;if(m.e.c>255||m.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,_-1)}de(n,2057,Bg(r,16,e)),de(n,13,nn(1)),de(n,12,nn(100)),de(n,15,Er(!0)),de(n,17,Er(!1)),de(n,16,ra(.001)),de(n,95,Er(!0)),de(n,42,Er(!1)),de(n,43,Er(!1)),de(n,130,nn(1)),de(n,128,R6()),de(n,131,Er(!1)),de(n,132,Er(!1)),c&&L9(n,s["!cols"]),de(n,512,C6(m,e)),c&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=nr(g);for(var y=m.s.c;y<=m.e.c;++y){g===m.s.r&&(d[y]=mr(y)),h=d[y]+f;var S=l?(s[g]||[])[y]:s[h];S&&(M9(n,S,g,y,e),c&&S.l&&s["!links"].push([h,S.l]))}}var x=o.CodeName||o.name||i;return c&&de(n,574,w6((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&de(n,229,O6(s["!merges"])),c&&D9(n,s),de(n,442,bS(x)),c&&F9(n,s),de(n,10),n.end()}function V9(t,e,r){var n=Lr(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(de(n,2057,Bg(t,5,r)),r.bookType=="xla"&&de(n,135),de(n,225,o?nn(1200):null),de(n,193,u6(2)),l&&de(n,191),l&&de(n,192),de(n,226),de(n,92,_6("SheetJS",r)),de(n,66,nn(o?1200:1252)),o&&de(n,353,nn(0)),o&&de(n,448),de(n,317,B6(t.SheetNames.length)),o&&t.vbaraw&&de(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";de(n,442,bS(c))}de(n,156,nn(17)),de(n,25,Er(!1)),de(n,18,Er(!1)),de(n,19,nn(0)),o&&de(n,431,Er(!1)),o&&de(n,444,nn(0)),de(n,61,E6()),de(n,64,Er(!1)),de(n,141,nn(0)),de(n,34,Er(zb(t)=="true")),de(n,14,Er(!0)),o&&de(n,439,Er(!1)),de(n,218,nn(0)),P9(n,t,r),N9(n,t.SSF,r),O9(n,r),o&&de(n,352,Er(!1));var h=n.end(),f=Lr();o&&de(f,140,M6()),o&&r.Strings&&S9(f,252,x6(r.Strings)),de(f,10);var d=f.end(),m=Lr(),_=0,g=0;for(g=0;g<t.SheetNames.length;++g)_+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var y=h.length+_+d.length;for(g=0;g<t.SheetNames.length;++g){var S=s[g]||{};de(m,133,y6({pos:y,hs:S.Hidden||0,dt:0,name:t.SheetNames[g]},r)),y+=e[g].length}var x=m.end();if(_!=x.length)throw new Error("BS8 "+_+" != "+x.length);var T=[];return h.length&&T.push(h),x.length&&T.push(x),d.length&&T.push(d),Zt(T)}function B9(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=br(Et)),t&&t.SSF&&(e0(),Zf(t.SSF),r.revssf=t0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Hg(r),r.cellXfs=[],ys(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=b9(i,r,t);return n.unshift(V9(t,n,r)),Zt(n)}function cA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Yr(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return B9(t,e);case 4:case 3:case 2:return k9(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function U9(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var h=tt({r,c:a}),f=n.dense?(t[r]||[])[a]:t[h],d=f&&f.v!=null&&(f.h||vL(f.w||(vi(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),m.id=(n.id||"sjs")+"-"+h,s.push(fe("td",d,m))}}var _="<tr>";return _+s.join("")+"</tr>"}var j9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',W9="</body></html>";function z9(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function hA(t,e){var r=e||{},n=r.header!=null?r.header:j9,i=r.footer!=null?r.footer:W9,s=[n],a=Yr(t["!ref"]);r.dense=Array.isArray(t),s.push(z9(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(U9(t,a,o,r));return s.push("</table>"+i),s.join("")}function fA(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?zt(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=Yr(t["!ref"]);c.s.r=Math.min(c.s.r,h.s.r),c.s.c=Math.min(c.s.c,h.s.c),c.e.r=Math.max(c.e.r,h.e.r),c.e.c=Math.max(c.e.c,h.e.c),i==-1&&(c.e.r=i=h.e.r+1)}var f=[],d=0,m=t["!rows"]||(t["!rows"]=[]),_=0,g=0,y=0,S=0,x=0,T=0;for(t["!cols"]||(t["!cols"]=[]);_<o.length&&g<l;++_){var M=o[_];if(qy(M)){if(n.display)continue;m[g]={hidden:!0}}var z=M.children;for(y=S=0;y<z.length;++y){var G=z[y];if(!(n.display&&qy(G))){var w=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):EL(G.innerHTML),E=G.getAttribute("data-z")||G.getAttribute("z");for(d=0;d<f.length;++d){var A=f[d];A.s.c==S+s&&A.s.r<g+i&&g+i<=A.e.r&&(S=A.e.c+1-s,d=-1)}T=+G.getAttribute("colspan")||1,((x=+G.getAttribute("rowspan")||1)>1||T>1)&&f.push({s:{r:g+i,c:S+s},e:{r:g+i+(x||1)-1,c:S+s+(T||1)-1}});var C={t:"s",v:w},O=G.getAttribute("data-t")||G.getAttribute("t")||"";w!=null&&(w.length==0?C.t=O||"z":n.raw||w.trim().length==0||O=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(ai(w))?isNaN(_u(w).getDate())||(C={t:"d",v:Tr(w)},n.cellDates||(C={t:"n",v:Mr(C.v)}),C.z=n.dateNF||Et[14]):C={t:"n",v:ai(w)})),C.z===void 0&&E!=null&&(C.z=E);var V="",F=G.getElementsByTagName("A");if(F&&F.length)for(var Ie=0;Ie<F.length&&!(F[Ie].hasAttribute("href")&&(V=F[Ie].getAttribute("href"),V.charAt(0)!="#"));++Ie);V&&V.charAt(0)!="#"&&(C.l={Target:V}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][S+s]=C):t[tt({c:S+s,r:g+i})]=C,c.e.c<S+s&&(c.e.c=S+s),S+=T}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=Pt(c),g>=l&&(t["!fullref"]=Pt((c.e.r=o.length-_+g-1+i,c))),t}function dA(t,e){var r=e||{},n=r.dense?[]:{};return fA(n,t,e)}function $9(t,e){return da(dA(t,e),e)}function qy(t){var e="",r=H9(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function H9(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var G9=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+xu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ft+e}}(),Xy=function(){var t=function(s){return Je(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Je(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,h=0,f=Yr(s["!ref"]||"A1"),d=s["!merges"]||[],m=0,_=Array.isArray(s);if(s["!cols"])for(h=0;h<=f.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var g="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),h=0;h<f.s.c;++h)l.push(e);for(;h<=f.e.c;++h){var S=!1,x={},T="";for(m=0;m!=d.length;++m)if(!(d[m].s.c>h)&&!(d[m].s.r>c)&&!(d[m].e.c<h)&&!(d[m].e.r<c)){(d[m].s.c!=h||d[m].s.r!=c)&&(S=!0),x["table:number-columns-spanned"]=d[m].e.c-d[m].s.c+1,x["table:number-rows-spanned"]=d[m].e.r-d[m].s.r+1;break}if(S){l.push(r);continue}var M=tt({r:c,c:h}),z=_?(s[c]||[])[h]:s[M];if(z&&z.f&&(x["table:formula"]=Je(f8(z.f)),z.F&&z.F.slice(0,M.length)==M)){var G=Yr(z.F);x["table:number-matrix-columns-spanned"]=G.e.c-G.s.c+1,x["table:number-matrix-rows-spanned"]=G.e.r-G.s.r+1}if(!z){l.push(e);continue}switch(z.t){case"b":T=z.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=z.v?"true":"false";break;case"n":T=z.w||String(z.v||0),x["office:value-type"]="float",x["office:value"]=z.v||0;break;case"s":case"str":T=z.v==null?"":z.v,x["office:value-type"]="string";break;case"d":T=z.w||Tr(z.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Tr(z.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var w=t(T);if(z.l&&z.l.Target){var E=z.l.Target;E=E.charAt(0)=="#"?"#"+d8(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),w=fe("text:a",w,{"xlink:href":E.replace(/&/g,"&amp;")})}l.push("          "+fe("table:table-cell",fe("text:p",w,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var h=0;h<c["!cols"].length;++h)if(c["!cols"][h]){var f=c["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Ug(f),f.ods=o;var d=c["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var h=0;h<c["!rows"].length;++h)if(c["!rows"][h]){c["!rows"][h].ods=l;var f=c["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Ft],c=xu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=xu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+h+`>
`),l.push(RS().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function pA(t,e){if(e.bookType=="fods")return Xy(t,e);var r=kg(),n="",i=[],s=[];return n="mimetype",Le(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Le(r,n,Xy(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Le(r,n,G9(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Le(r,n,Ft+RS()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Le(r,n,i6(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Le(r,n,r6(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function K9(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):xn(yu(t))}function q9(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ps(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function X9(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Eu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ye(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function lo(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Lt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Eu(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Eu(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function qt(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ye(n*8+i.type)),i.type==2&&e.push(Ye(i.data.length)),e.push(i.data))})}),ps(e)}function mn(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Eu(t,n),s=Lt(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:lo(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Lt(o.data),c=lo(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=lo(s[3][0].data)>>>0>0),r.push(a)}return r}function Ra(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ye(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ye(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ye(a.data.length)}],n[2].push({data:qt(a.meta),type:2})});var s=qt(n);e.push(Ye(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ps(e)}function Y9(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Eu(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ps(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var h=ps(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function gn(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Y9(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ps(e)}function ka(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Ye(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return ps(e)}function ad(t,e){var r=new Uint8Array(32),n=pf(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,X9(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function od(t,e){var r=new Uint8Array(32),n=pf(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function ki(t){var e=Lt(t);return Eu(e[1][0].data)}function Q9(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&lo(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=pf(t[7][0].data),h=0,f=[],d=pf(t[4][0].data),m=0,_=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}c.setUint16(g*2,h,!0),d.setUint16(g*2,m,!0);var y,S;switch(typeof e[g]){case"string":y=ad({t:"s",v:e[g]},r),S=od({t:"s",v:e[g]},r);break;case"number":y=ad({t:"n",v:e[g]},r),S=od({t:"n",v:e[g]},r);break;case"boolean":y=ad({t:"b",v:e[g]},r),S=od({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}f.push(y),h+=y.length,_.push(S),m+=S.length,++l}for(t[2][0].data=Ye(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return t[6][0].data=ps(f),t[3][0].data=ps(_),l}function J9(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yr(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Pt(n)));var s=mf(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(j){return j.forEach(function(U){typeof U=="string"&&a.push(U)})});var o={},l=[],c=rt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(j,U){return[j,c.FullPaths[U]]}).forEach(function(j){var U=j[0],W=j[1];if(U.type==2&&U.name.match(/\.iwa/)){var Z=U.content,pe=gn(Z),Ae=mn(pe);Ae.forEach(function(Te){l.push(Te.id),o[Te.id]={deps:[],location:W,type:lo(Te.messages[0].meta[1][0].data)}})}}),l.sort(function(j,U){return j-U});var h=l.filter(function(j){return j>1}).map(function(j){return[j,Ye(j)]});c.FileIndex.map(function(j,U){return[j,c.FullPaths[U]]}).forEach(function(j){var U=j[0];if(j[1],!!U.name.match(/\.iwa/)){var W=mn(gn(U.content));W.forEach(function(Z){Z.messages.forEach(function(pe){h.forEach(function(Ae){Z.messages.some(function(Te){return lo(Te.meta[1][0].data)!=11006&&q9(Te.data,Ae[1])})&&o[Ae[0]].deps.push(Z.id)})})})}});for(var f=rt.find(c,o[1].location),d=mn(gn(f.content)),m,_=0;_<d.length;++_){var g=d[_];g.id==1&&(m=g)}var y=ki(Lt(m.messages[0].data)[1][0].data);for(f=rt.find(c,o[y].location),d=mn(gn(f.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);for(y=ki(Lt(m.messages[0].data)[2][0].data),f=rt.find(c,o[y].location),d=mn(gn(f.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);for(y=ki(Lt(m.messages[0].data)[2][0].data),f=rt.find(c,o[y].location),d=mn(gn(f.content)),_=0;_<d.length;++_)g=d[_],g.id==y&&(m=g);var S=Lt(m.messages[0].data);{S[6][0].data=Ye(n.e.r+1),S[7][0].data=Ye(n.e.c+1);var x=ki(S[46][0].data),T=rt.find(c,o[x].location),M=mn(gn(T.content));{for(var z=0;z<M.length&&M[z].id!=x;++z);if(M[z].id!=x)throw"Bad ColumnRowUIDMapArchive";var G=Lt(M[z].messages[0].data);G[1]=[],G[2]=[],G[3]=[];for(var w=0;w<=n.e.c;++w){var E=[];E[1]=E[2]=[{type:0,data:Ye(w+420690)}],G[1].push({type:2,data:qt(E)}),G[2].push({type:0,data:Ye(w)}),G[3].push({type:0,data:Ye(w)})}G[4]=[],G[5]=[],G[6]=[];for(var A=0;A<=n.e.r;++A)E=[],E[1]=E[2]=[{type:0,data:Ye(A+726270)}],G[4].push({type:2,data:qt(E)}),G[5].push({type:0,data:Ye(A)}),G[6].push({type:0,data:Ye(A)});M[z].messages[0].data=qt(G)}T.content=ka(Ra(M)),T.size=T.content.length,delete S[46];var C=Lt(S[4][0].data);{C[7][0].data=Ye(n.e.r+1);var O=Lt(C[1][0].data),V=ki(O[2][0].data);T=rt.find(c,o[V].location),M=mn(gn(T.content));{if(M[0].id!=V)throw"Bad HeaderStorageBucket";var F=Lt(M[0].messages[0].data);for(A=0;A<s.length;++A){var Ie=Lt(F[2][0].data);Ie[1][0].data=Ye(A),Ie[4][0].data=Ye(s[A].length),F[2][A]={type:F[2][0].type,data:qt(Ie)}}M[0].messages[0].data=qt(F)}T.content=ka(Ra(M)),T.size=T.content.length;var Ce=ki(C[2][0].data);T=rt.find(c,o[Ce].location),M=mn(gn(T.content));{if(M[0].id!=Ce)throw"Bad HeaderStorageBucket";for(F=Lt(M[0].messages[0].data),w=0;w<=n.e.c;++w)Ie=Lt(F[2][0].data),Ie[1][0].data=Ye(w),Ie[4][0].data=Ye(n.e.r+1),F[2][w]={type:F[2][0].type,data:qt(Ie)};M[0].messages[0].data=qt(F)}T.content=ka(Ra(M)),T.size=T.content.length;var We=ki(C[4][0].data);(function(){for(var j=rt.find(c,o[We].location),U=mn(gn(j.content)),W,Z=0;Z<U.length;++Z){var pe=U[Z];pe.id==We&&(W=pe)}var Ae=Lt(W.messages[0].data);{Ae[3]=[];var Te=[];a.forEach(function(Me,Ot){Te[1]=[{type:0,data:Ye(Ot)}],Te[2]=[{type:0,data:Ye(1)}],Te[3]=[{type:2,data:K9(Me)}],Ae[3].push({type:2,data:qt(Te)})})}W.messages[0].data=qt(Ae);var ve=Ra(U),$e=ka(ve);j.content=$e,j.size=j.content.length})();var he=Lt(C[3][0].data);{var te=he[1][0];delete he[2];var ue=Lt(te.data);{var oe=ki(ue[2][0].data);(function(){for(var j=rt.find(c,o[oe].location),U=mn(gn(j.content)),W,Z=0;Z<U.length;++Z){var pe=U[Z];pe.id==oe&&(W=pe)}var Ae=Lt(W.messages[0].data);{delete Ae[6],delete he[7];var Te=new Uint8Array(Ae[5][0].data);Ae[5]=[];for(var ve=0,$e=0;$e<=n.e.r;++$e){var Me=Lt(Te);ve+=Q9(Me,s[$e],a),Me[1][0].data=Ye($e),Ae[5].push({data:qt(Me),type:2})}Ae[1]=[{type:0,data:Ye(n.e.c+1)}],Ae[2]=[{type:0,data:Ye(n.e.r+1)}],Ae[3]=[{type:0,data:Ye(ve)}],Ae[4]=[{type:0,data:Ye(n.e.r+1)}]}W.messages[0].data=qt(Ae);var Ot=Ra(U),Ue=ka(Ot);j.content=Ue,j.size=j.content.length})()}te.data=qt(ue)}C[3][0].data=qt(he)}S[4][0].data=qt(C)}m.messages[0].data=qt(S);var ke=Ra(d),N=ka(ke);return f.content=N,f.size=f.content.length,c}function Z9(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Hg(t){Z9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function eV(t,e){return e.bookType=="ods"?pA(t,e):e.bookType=="numbers"?J9(t,e):e.bookType=="xlsb"?tV(t,e):rV(t,e)}function tV(t,e){qa=1024,t&&!t.SSF&&(t.SSF=br(Et)),t&&t.SSF&&(e0(),Zf(t.SSF),e.revssf=t0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=YS.indexOf(e.bookType)>-1,i=AS();Hg(e=e||{});var s=kg(),a="",o=0;if(e.cellXfs=[],ys(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,kS(t.Props,e)),i.coreprops.push(a),Qe(e.rels,2,a,Ge.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,NS(t.Props)),i.extprops.push(a),Qe(e.rels,3,a,Ge.EXT_PROPS),t.Custprops!==t.Props&&ar(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,FS(t.Custprops)),i.custprops.push(a),Qe(e.rels,4,a,Ge.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Le(s,a,i9(o-1,a,e,t,h)),i.sheets.push(a),Qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Ge.WS[0])}if(f){var m=f["!comments"],_=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Le(s,g,o9(m,g)),i.comments.push(g),Qe(h,-1,"../comments"+o+"."+r,Ge.CMNT),_=!0),f["!legacy"]&&_&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",qS(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&Le(s,CS(a),ao(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Le(s,a,a9(e.Strings,a,e)),i.strs.push(a),Qe(e.wbrels,-1,"sharedStrings."+r,Ge.SST)),a="xl/workbook."+r,Le(s,a,n9(t,a)),i.workbooks.push(a),Qe(e.rels,1,a,Ge.WB),a="xl/theme/theme1.xml",Le(s,a,GS(t.Themes,e)),i.themes.push(a),Qe(e.wbrels,-1,"theme/theme1.xml",Ge.THEME),a="xl/styles."+r,Le(s,a,s9(t,a,e)),i.styles.push(a),Qe(e.wbrels,-1,"styles."+r,Ge.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),Qe(e.wbrels,-1,"vbaProject.bin",Ge.VBA)),a="xl/metadata."+r,Le(s,a,l9(a)),i.metadata.push(a),Qe(e.wbrels,-1,"metadata."+r,Ge.XLMETA),Le(s,"[Content_Types].xml",IS(i,e)),Le(s,"_rels/.rels",ao(e.rels)),Le(s,"xl/_rels/workbook."+r+".rels",ao(e.wbrels)),delete e.revssf,delete e.ssf,s}function rV(t,e){qa=1024,t&&!t.SSF&&(t.SSF=br(Et)),t&&t.SSF&&(e0(),Zf(t.SSF),e.revssf=t0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=YS.indexOf(e.bookType)>-1,i=AS();Hg(e=e||{});var s=kg(),a="",o=0;if(e.cellXfs=[],ys(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,kS(t.Props,e)),i.coreprops.push(a),Qe(e.rels,2,a,Ge.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,NS(t.Props)),i.extprops.push(a),Qe(e.rels,3,a,Ge.EXT_PROPS),t.Custprops!==t.Props&&ar(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,FS(t.Custprops)),i.custprops.push(a),Qe(e.rels,4,a,Ge.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Le(s,a,sA(o-1,e,t,f)),i.sheets.push(a),Qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Ge.WS[0])}if(d){var _=d["!comments"],g=!1,y="";if(_&&_.length>0){var S=!1;_.forEach(function(x){x[1].forEach(function(T){T.T==!0&&(S=!0)})}),S&&(y="xl/threadedComments/threadedComment"+o+"."+r,Le(s,y,OM(_,h,e)),i.threadedcomments.push(y),Qe(f,-1,"../threadedComments/threadedComment"+o+"."+r,Ge.TCMNT)),y="xl/comments"+o+"."+r,Le(s,y,XS(_)),i.comments.push(y),Qe(f,-1,"../comments"+o+"."+r,Ge.CMNT),g=!0}d["!legacy"]&&g&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",qS(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Le(s,CS(a),ao(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Le(s,a,US(e.Strings,e)),i.strs.push(a),Qe(e.wbrels,-1,"sharedStrings."+r,Ge.SST)),a="xl/workbook."+r,Le(s,a,lA(t)),i.workbooks.push(a),Qe(e.rels,1,a,Ge.WB),a="xl/theme/theme1.xml",Le(s,a,GS(t.Themes,e)),i.themes.push(a),Qe(e.wbrels,-1,"theme/theme1.xml",Ge.THEME),a="xl/styles."+r,Le(s,a,$S(t,e)),i.styles.push(a),Qe(e.wbrels,-1,"styles."+r,Ge.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),Qe(e.wbrels,-1,"vbaProject.bin",Ge.VBA)),a="xl/metadata."+r,Le(s,a,KS()),i.metadata.push(a),Qe(e.wbrels,-1,"metadata."+r,Ge.XLMETA),h.length>1&&(a="xl/persons/person.xml",Le(s,a,DM(h)),i.people.push(a),Qe(e.wbrels,-1,"persons/person.xml",Ge.PEOPLE)),Le(s,"[Content_Types].xml",IS(i,e)),Le(s,"_rels/.rels",ao(e.rels)),Le(s,"xl/_rels/workbook."+r+".rels",ao(e.wbrels)),delete e.revssf,delete e.ssf,s}function nV(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=gi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return $u(e.file,rt.write(t,{type:qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return rt.write(t,e)}function iV(t,e){var r=br(e||{}),n=eV(t,r);return sV(n,r)}function sV(t,e){var r={},n=qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?rt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Jf(i))}return e.password&&typeof encrypt_agile<"u"?mA(encrypt_agile(i,e.password),e):e.type==="file"?$u(e.file,i):e.type=="string"?Vl(i):i}function aV(t,e){var r=e||{},n=w9(t,r);return mA(n,r)}function Fn(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return vu(yu(n));case"binary":return yu(n);case"string":return t;case"file":return $u(e.file,n,"utf8");case"buffer":return qe?Ei(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Fn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function oV(t,e){switch(e.type){case"base64":return vu(t);case"binary":return t;case"string":return t;case"file":return $u(e.file,t,"binary");case"buffer":return qe?Ei(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Wc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?vu(r):e.type=="string"?Vl(r):r;case"file":return $u(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function gA(t,e){LD(),Gb(t);var r=br(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=gA(t,r);return r.type="array",Jf(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Fn(x9(t,r),r);case"slk":case"sylk":return Fn(z6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Fn(hA(t.Sheets[t.SheetNames[i]],r),r);case"txt":return oV(vA(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Fn(Gg(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Fn($6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Wc(W6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Fn(H6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Fn(J6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Fn(BS.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Fn(pA(t,r),r);case"wk1":return Wc(Wy.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Wc(Wy.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Wc(cA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),aV(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return iV(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function lV(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function uV(t,e,r){var n={};return n.type="file",n.file=e,lV(n),gA(t,n)}function cV(t,e,r,n,i,s,a,o){var l=nr(r),c=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var _=a?t[r][m]:t[n[m]+l];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[m]!=null&&(d[s[m]]=c);continue}var g=_.v;switch(_.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[m]!=null){if(g==null)if(_.t=="e"&&g===null)d[s[m]]=null;else if(c!==void 0)d[s[m]]=c;else if(h&&g===null)d[s[m]]=null;else continue;else d[s[m]]=h&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?g:vi(_,g,o);g!=null&&(f=!1)}}return{row:d,isempty:f}}function mf(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},h=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof h){case"string":l=ht(h);break;case"number":l=ht(t["!ref"]),l.s.r=h;break;default:l=h}n>0&&(i=0);var f=nr(l.s.r),d=[],m=[],_=0,g=0,y=Array.isArray(t),S=l.s.r,x=0,T={};y&&!t[S]&&(t[S]=[]);var M=c.skipHidden&&t["!cols"]||[],z=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(M[x]||{}).hidden)switch(d[x]=mr(x),r=y?t[S][x]:t[d[x]+f],n){case 1:s[x]=x-l.s.c;break;case 2:s[x]=d[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=vi(r,null,c),g=T[a]||0,!g)T[a]=1;else{do o=a+"_"+g++;while(T[o]);T[a]=g,T[o]=1}s[x]=o}for(S=l.s.r+i;S<=l.e.r;++S)if(!(z[S]||{}).hidden){var G=cV(t,l,S,d,n,s,y,c);(G.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[_++]=G.row)}return m.length=_,m}var Yy=/"/g;function hV(t,e,r,n,i,s,a,o){for(var l=!0,c=[],h="",f=nr(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var m=o.dense?(t[r]||[])[d]:t[n[d]+f];if(m==null)h="";else if(m.v!=null){l=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:vi(m,null,o));for(var _=0,g=0;_!==h.length;++_)if((g=h.charCodeAt(_))===i||g===s||g===34||o.forceQuotes){h='"'+h.replace(Yy,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(l=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(Yy,'""')+'"')):h="";c.push(h)}return o.blankrows===!1&&l?null:c.join(a)}function Gg(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ht(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),h="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(d[_]||{}).hidden||(f[_]=mr(_));for(var g=0,y=i.s.r;y<=i.e.r;++y)(m[y]||{}).hidden||(h=hV(t,i,y,f,a,l,s,n),h!=null&&(n.strip&&(h=h.replace(c,"")),(h||n.blankrows!==!1)&&r.push((g++?o:"")+h)));return delete n.dense,r.join("")}function vA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Gg(t,e);return r}function fV(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ht(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=mr(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=nr(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[h]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function _A(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?zt(n.origin):n.origin;a=l.r,o=l.c}var c,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=ht(s["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),a==-1&&(a=f.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var d=n.header||[],m=0;e.forEach(function(g,y){ar(g).forEach(function(S){(m=d.indexOf(S))==-1&&(d[m=d.length]=S);var x=g[S],T="z",M="",z=tt({c:o+m,r:a+y+i});c=wu(s,z),x&&typeof x=="object"&&!(x instanceof Date)?s[z]=x:(typeof x=="number"?T="n":typeof x=="boolean"?T="b":typeof x=="string"?T="s":x instanceof Date?(T="d",n.cellDates||(T="n",x=Mr(x)),M=n.dateNF||Et[14]):x===null&&n.nullError&&(T="e",x=0),c?(c.t=T,c.v=x,delete c.w,delete c.R,M&&(c.z=M)):s[z]=c={t:T,v:x},M&&(c.z=M))})}),h.e.c=Math.max(h.e.c,o+d.length-1);var _=nr(a);if(i)for(m=0;m<d.length;++m)s[mr(m+o)+_]={t:"s",v:d[m]};return s["!ref"]=Pt(h),s}function dV(t,e){return _A(null,t,e)}function wu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=zt(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?wu(t,tt(e)):wu(t,tt({r:e,c:r||0}))}function pV(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function mV(){return{SheetNames:[],Sheets:{}}}function gV(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(oA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function vV(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=pV(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function _V(t,e){return t.z=e,t}function yA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function yV(t,e,r){return yA(t,"#"+e,r)}function xV(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function EV(t,e,r,n){for(var i=typeof e!="string"?e:ht(e),s=typeof e=="string"?e:Pt(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=wu(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var ld={encode_col:mr,encode_row:nr,encode_cell:tt,encode_range:Pt,decode_col:Lg,decode_row:Dg,split_cell:LL,decode_cell:zt,decode_range:Yr,format_cell:vi,sheet_add_aoa:yS,sheet_add_json:_A,sheet_add_dom:fA,aoa_to_sheet:Bo,json_to_sheet:dV,table_to_sheet:dA,table_to_book:$9,sheet_to_csv:Gg,sheet_to_txt:vA,sheet_to_json:mf,sheet_to_html:hA,sheet_to_formulae:fV,sheet_to_row_object_array:mf,sheet_get_cell:wu,book_new:mV,book_append_sheet:gV,book_set_sheet_visibility:vV,cell_set_number_format:_V,cell_set_hyperlink:yA,cell_set_internal_link:yV,cell_add_comment:xV,sheet_set_array_formula:EV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function wV(){const t=Fo(),[e,r]=ie.useState([]),[n,i]=ie.useState(null),[s,a]=ie.useState(!0),[o,l]=ie.useState(""),[c,h]=ie.useState(null),[f,d]=ie.useState(new Set),[m,_]=ie.useState(null),[g,y]=ie.useState(!1),[S,x]=ie.useState(""),[T,M]=ie.useState(""),[z,G]=ie.useState(""),[w,E]=ie.useState(""),[A,C]=ie.useState(""),[O,V]=ie.useState(!1);ie.useEffect(()=>{const N=c3(dg(Ll(zi,"fbar_submissions")),j=>{const U=j.docs.map(W=>({id:W.id,...W.data()}));r(U.sort((W,Z)=>Z.submittedAt.seconds-W.submittedAt.seconds)),a(!1)},j=>{console.error("Error fetching submissions:",j),a(!1)});return()=>N()},[]);const F=async N=>{N.preventDefault(),E(""),C(""),V(!0);try{const j=kp.currentUser;if(!j||!j.email){E("No user is currently signed in. Please sign in again.");return}if(T!==z){E("New passwords do not match");return}if(T.length<6){E("New password must be at least 6 characters long");return}if(T===S){E("New password must be different from current password");return}try{const U=fa.credential(j.email,S);await aO(j,U)}catch(U){U.code==="auth/invalid-credential"||U.code==="auth/wrong-password"?E("Current password is incorrect"):(console.error("Reauthentication error:",U),E("Error verifying current password. Please try again."));return}try{await uO(j,T),C("Password successfully updated"),x(""),M(""),G(""),setTimeout(()=>{y(!1),C("")},2e3)}catch(U){console.error("Password update error:",U),E("Error updating password. Please try again.")}}catch(j){console.error("Password change error:",j),E("An unexpected error occurred. Please try again.")}finally{V(!1)}},Ie=e.filter(N=>{var U,W;const j=o.toLowerCase();return N&&((((U=N.companyName)==null?void 0:U.toLowerCase())||"").includes(j)||((W=N.accounts)==null?void 0:W.some(Z=>{var pe,Ae;return(((pe=Z.institutionName)==null?void 0:pe.toLowerCase())||"").includes(j)||(((Ae=Z.accountNumber)==null?void 0:Ae.toLowerCase())||"").includes(j)})))}),Ce=async()=>{try{await dO(kp),t("/admin")}catch(N){console.error("Error signing out:",N)}},We=async(N,j)=>{try{await navigator.clipboard.writeText(N),h(j),setTimeout(()=>h(null),2e3)}catch(U){console.error("Failed to copy:",U)}},he=async(N,j)=>{try{await u3(qh(zi,"fbar_submissions",N),{status:j})}catch(U){console.error("Error updating status:",U)}},te=async N=>{if(window.confirm("Are you sure you want to delete this submission? This action cannot be undone.")){_(N);try{await iT(qh(zi,"fbar_submissions",N)),d(j=>{const U=new Set(j);return U.delete(N),U}),i(null)}catch(j){console.error("Error deleting submission:",j),alert("Failed to delete submission. Please try again.")}finally{_(null)}}},ue=N=>{d(j=>{const U=new Set(j);return U.has(N)?U.delete(N):U.add(N),U})},oe=()=>{f.size===Ie.length?d(new Set):d(new Set(Ie.map(N=>N.id)))},ke=()=>{if(f.size===0){alert("Please select at least one submission to export");return}const N=e.filter(Z=>f.has(Z.id)).flatMap(Z=>Z.accounts.map(pe=>({"Company Name":Z.companyName||"","Submission Date":new Date(Z.submittedAt.seconds*1e3).toLocaleString(),Status:Z.status,"Account Type":pe.type,"Institution Name":pe.institutionName,"Institution Address":pe.mailingAddress,"Account Number":pe.accountNumber,Currency:pe.currency,"Maximum Value":pe.maxValue.toLocaleString(),"USD Value":`$${pe.usdValue.toLocaleString()}`,"Total Accounts":Z.accounts.length}))),j=ld.json_to_sheet(N),U=ld.book_new();ld.book_append_sheet(U,j,"FBAR Submissions");const W=Object.keys(N[0]||{}).map(Z=>({wch:Math.max(Z.length,...N.map(pe=>String(pe[Z]).length))}));j["!cols"]=W,uV(U,"fbar_submissions.xlsx")};return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC]",children:R.jsxs("div",{className:"container mx-auto px-4 py-8",children:[R.jsxs("div",{className:"flex justify-between items-center mb-8",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12"}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("button",{onClick:()=>y(!0),className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[R.jsx(xR,{className:"h-5 w-5 mr-2"}),"Change Password"]}),R.jsxs("button",{onClick:Ce,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800",children:[R.jsx(ER,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})]}),g&&R.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:R.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[R.jsx("h2",{className:"text-2xl font-bold text-[#002F4A] mb-6",children:"Change Password"}),w&&R.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-red-800",children:[R.jsx(js,{className:"h-5 w-5 mr-2"}),R.jsx("span",{children:w})]})}),A&&R.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-green-800",children:[R.jsx(rn,{className:"h-5 w-5 mr-2"}),R.jsx("span",{children:A})]})}),R.jsxs("form",{onSubmit:F,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),R.jsx("input",{type:"password",value:S,onChange:N=>x(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),R.jsx("input",{type:"password",value:T,onChange:N=>M(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),R.jsx("input",{type:"password",value:z,onChange:N=>G(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",required:!0})]}),R.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[R.jsx("button",{type:"button",onClick:()=>{y(!1),E(""),C(""),x(""),M(""),G("")},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),R.jsx("button",{type:"submit",disabled:O,className:`bg-[#002F4A] text-white px-4 py-2 rounded-md
                              ${O?"opacity-75 cursor-not-allowed":"hover:bg-[#00304A]"}
                              transition-colors duration-200`,children:O?R.jsxs("span",{className:"flex items-center",children:[R.jsx(Mh,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Changing..."]}):"Change Password"})]})]})]})}),R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6",children:[R.jsxs("div",{className:"flex flex-col space-y-4 mb-6",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx("h1",{className:"text-2xl font-bold text-[#002F4A]",children:"FBAR Submissions"}),R.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[f.size===Ie.length?R.jsx(Wv,{className:"h-5 w-5"}):R.jsx($v,{className:"h-5 w-5"}),R.jsx("span",{className:"text-sm",children:"Select All"})]}),R.jsxs("span",{className:"text-sm text-gray-500",children:[f.size," selected"]})]}),R.jsxs("button",{onClick:ke,className:`flex items-center px-4 py-2 rounded-md transition-colors ${f.size>0?"bg-[#002F4A] text-white hover:bg-[#00304A]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:f.size===0,children:[R.jsx(yR,{className:"h-5 w-5 mr-2"}),"Export Selected"]})]}),R.jsxs("div",{className:"relative",children:[R.jsx(SR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),R.jsx("input",{type:"text",placeholder:"Search by company name, institution, or account number...",value:o,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]"})]})]}),s?R.jsx("div",{className:"flex justify-center items-center py-8",children:R.jsx(zv,{className:"h-8 w-8 animate-spin text-[#002F4A]"})}):Ie.length===0?R.jsx("div",{className:"text-center py-8 text-gray-500",children:e.length===0?"No submissions found":"No results match your search"}):R.jsx("div",{className:"space-y-4",children:Ie.map(N=>R.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx("button",{onClick:()=>ue(N.id),className:"text-gray-400 hover:text-gray-600",children:f.has(N.id)?R.jsx(Wv,{className:"h-5 w-5 text-[#002F4A]"}):R.jsx($v,{className:"h-5 w-5"})}),R.jsxs("div",{children:[R.jsxs("h3",{className:"font-semibold",children:[N.companyName||"Unnamed Company",R.jsx("button",{onClick:()=>We(N.companyName||"Unnamed Company",`name-${N.id}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`name-${N.id}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]}),R.jsxs("p",{className:"text-sm text-gray-500",children:["Submitted ",new Date(N.submittedAt.seconds*1e3).toLocaleString()]})]})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("select",{value:N.status,onChange:j=>he(N.id,j.target.value),className:`px-3 py-1 rounded-full text-sm font-medium ${N.status==="completed"?"bg-green-100 text-green-800":N.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:[R.jsx("option",{value:"pending",children:"Pending"}),R.jsx("option",{value:"in_progress",children:"In Progress"}),R.jsx("option",{value:"completed",children:"Completed"})]}),R.jsx("button",{onClick:()=>te(N.id),className:"text-red-600 hover:text-red-700 p-2 rounded-full hover:bg-red-50 transition-colors duration-200",disabled:m===N.id,title:"Delete Submission",children:m===N.id?R.jsx(zv,{className:"h-5 w-5 animate-spin"}):R.jsx(ww,{className:"h-5 w-5"})}),R.jsx("button",{onClick:()=>i(n===N.id?null:N.id),className:"text-gray-400 hover:text-gray-600",children:n===N.id?R.jsx(_R,{className:"h-5 w-5"}):R.jsx(vR,{className:"h-5 w-5"})})]})]}),n===N.id&&R.jsx("div",{className:"mt-4 space-y-4",children:N.accounts.map((j,U)=>R.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[R.jsxs("h4",{className:"font-semibold mb-2",children:["Account #",U+1]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Type"}),R.jsxs("p",{className:"font-medium",children:[j.type,R.jsx("button",{onClick:()=>We(j.type,`type-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`type-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Account Number"}),R.jsxs("p",{className:"font-medium",children:[j.accountNumber,R.jsx("button",{onClick:()=>We(j.accountNumber,`account-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`account-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Value"}),R.jsxs("p",{className:"font-medium",children:[j.maxValue.toLocaleString()," ",j.currency,R.jsx("button",{onClick:()=>We(`${j.maxValue.toLocaleString()} ${j.currency}`,`value-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`value-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-sm text-gray-500",children:"USD Value"}),R.jsxs("p",{className:"font-medium",children:["$",j.usdValue.toLocaleString(),R.jsx("button",{onClick:()=>We(`$${j.usdValue.toLocaleString()}`,`usd-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`usd-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]}),R.jsxs("div",{className:"col-span-2",children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Institution"}),R.jsxs("p",{className:"font-medium",children:[j.institutionName,R.jsx("button",{onClick:()=>We(j.institutionName,`institution-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`institution-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]}),R.jsxs("div",{className:"col-span-2",children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),R.jsxs("p",{className:"font-medium",children:[j.mailingAddress,R.jsx("button",{onClick:()=>We(j.mailingAddress,`address-${N.id}-${U}`),className:"ml-2 text-gray-400 hover:text-gray-600",children:c===`address-${N.id}-${U}`?R.jsx(rn,{className:"h-4 w-4"}):R.jsx(Pi,{className:"h-4 w-4"})})]})]})]})]},U))})]},N.id))})]})]})})}function TV(){const t=Fo(),[e,r]=ie.useState(""),[n,i]=ie.useState(""),[s,a]=ie.useState(!1),o=async l=>{l.preventDefault(),i(""),a(!0);try{const c=dg(Ll(zi,"fbar_drafts"),Z2("resumeCode","==",e)),h=await nT(c);if(h.empty){i("Invalid code. Please check your code and try again.");return}const f=h.docs[0],d=f.data();t("/form",{state:{resumeData:{...d,id:f.id}}})}catch(c){console.error("Error checking resume code:",c),i("An error occurred. Please try again.")}finally{a(!1)}};return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC] flex items-center justify-center px-4",children:R.jsxs("div",{className:"max-w-md w-full",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12 mx-auto mb-8"}),R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[R.jsx("h1",{className:"text-2xl font-bold text-[#002F4A] mb-2",children:"Continue Your Form"}),R.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your 4-digit code to continue where you left off."}),n&&R.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-md",children:R.jsxs("div",{className:"flex items-center text-red-800",children:[R.jsx(js,{className:"h-5 w-5 mr-2 flex-shrink-0"}),R.jsx("span",{className:"text-sm",children:n})]})}),R.jsxs("form",{onSubmit:o,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resume Code"}),R.jsx("input",{type:"text",maxLength:4,value:e,onChange:l=>r(l.target.value.replace(/\D/g,"").slice(0,4)),className:"w-full px-4 py-2 text-2xl tracking-wider font-mono text-center border border-gray-300 rounded-md focus:ring-[#002F4A] focus:border-[#002F4A]",placeholder:"0000",required:!0})]}),R.jsx("button",{type:"submit",disabled:s||e.length!==4,className:`w-full flex items-center justify-center bg-[#002F4A] text-white px-4 py-3 rounded-lg font-semibold
                       ${s||e.length!==4?"opacity-75 cursor-not-allowed":"hover:bg-[#00304A]"}
                       transition-colors duration-200`,children:s?R.jsxs("span",{className:"flex items-center",children:[R.jsx(Mh,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Checking..."]}):R.jsxs("span",{className:"flex items-center",children:[R.jsx(Ew,{className:"mr-2 h-5 w-5"}),"Continue Form"]})}),R.jsx("div",{className:"text-center",children:R.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-gray-600 hover:text-gray-800 text-sm",children:"Back to Home"})})]})]})]})})}function SV(){const t=Fo();return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC]",children:R.jsx("div",{className:"container mx-auto px-4 py-6 sm:py-8",children:R.jsxs("div",{className:"flex flex-col items-start max-w-6xl mx-auto",children:[R.jsx("img",{src:"https://mckaycpa.com/wp-content/uploads/2024/04/mckay-logo-1.png",alt:"McKay & Co Logo",className:"h-12 sm:h-16 mb-8 sm:mb-12 mx-auto sm:mx-0"}),R.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 w-full",children:[R.jsxs("div",{className:"order-2 lg:order-1",children:[R.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-[#002F4A] mb-4 sm:mb-6 text-center sm:text-left",children:"FBAR Filing Made Simple"}),R.jsxs("p",{className:"text-base sm:text-lg text-gray-700 mb-6 sm:mb-8 text-center sm:text-left",children:["As a part of McKay & Co's commitment to compliance and transparency, we've made it easier for you to securely provide the necessary information for filing your ",R.jsx("strong",{children:"Foreign Bank and Financial Accounts Report (FBAR)"}),"."]}),R.jsxs("div",{className:"bg-[#00304A]/5 rounded-lg p-4 sm:p-6 mb-6 sm:mb-8",children:[R.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-[#00304A] mb-3 sm:mb-4 flex items-center justify-center sm:justify-start",children:[R.jsx(AR,{className:"mr-2 h-5 w-5 sm:h-6 sm:w-6"})," What is FBAR?"]}),R.jsx("p",{className:"text-gray-700 text-center sm:text-left",children:"FBAR is a mandatory filing requirement for individuals and entities with foreign financial accounts exceeding $10,000 at any point during the year. Submitting this information ensures compliance with U.S. financial regulations."})]}),R.jsxs("div",{className:"bg-[#FEFDFC] p-4 sm:p-6 rounded-lg border border-gray-200 mb-6 sm:mb-8",children:[R.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#002F4A] mb-3 sm:mb-4 text-center sm:text-left",children:"Why It's Important"}),R.jsxs("ul",{className:"space-y-3",children:[R.jsxs("li",{className:"flex items-start",children:[R.jsx(rn,{className:"text-[#002F4A] mt-1 mr-2 flex-shrink-0 h-5 w-5"}),R.jsx("span",{children:"Stay compliant with federal regulations"})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(rn,{className:"text-[#002F4A] mt-1 mr-2 flex-shrink-0 h-5 w-5"}),R.jsx("span",{children:"Avoid potential penalties for late or incomplete filings"})]}),R.jsxs("li",{className:"flex items-start",children:[R.jsx(rn,{className:"text-[#002F4A] mt-1 mr-2 flex-shrink-0 h-5 w-5"}),R.jsx("span",{children:"Ensure accurate and timely reporting of your financial information"})]})]})]})]}),R.jsx("div",{className:"order-1 lg:order-2",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 lg:sticky lg:top-8",children:[R.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-[#002F4A] mb-4 sm:mb-6 text-center sm:text-left",children:"Ready to Submit Your FBAR Information?"}),R.jsxs("div",{className:"space-y-4 sm:space-y-6 mb-6 sm:mb-8",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold text-[#002F4A] mb-2 text-center sm:text-left",children:"How It Works"}),R.jsxs("ol",{className:"space-y-2 sm:space-y-3 list-decimal list-inside text-gray-700",children:[R.jsx("li",{children:"Fill out the secure online form"}),R.jsx("li",{children:"Review your information for accuracy"}),R.jsx("li",{children:"Submit and let us handle the rest"})]})]}),R.jsxs("div",{className:"bg-[#00304A]/5 rounded-lg p-4",children:[R.jsxs("div",{className:"flex items-center text-[#00304A] mb-2 justify-center sm:justify-start",children:[R.jsx(js,{className:"mr-2 h-5 w-5"}),R.jsx("p",{className:"font-medium",children:"Important Notice"})]}),R.jsx("p",{className:"text-gray-700 text-center sm:text-left",children:"All information submitted through this form is encrypted and secure. We take your privacy and data security seriously."})]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("button",{onClick:()=>t("/form"),className:`w-full bg-[#002F4A] text-white px-6 sm:px-8 py-3 sm:py-4 rounded-lg font-semibold 
                              text-base sm:text-lg hover:bg-[#00304A] transition-colors duration-200 
                              shadow-lg hover:shadow-xl`,children:"Start Now"}),R.jsxs("button",{onClick:()=>t("/resume"),className:`w-full bg-white border-2 border-[#002F4A] text-[#002F4A] px-6 sm:px-8 py-3 sm:py-4 
                              rounded-lg font-semibold text-base sm:text-lg hover:bg-gray-50 
                              transition-colors duration-200 shadow-lg hover:shadow-xl 
                              flex items-center justify-center`,children:[R.jsx(Ew,{className:"mr-2 h-5 w-5"}),"Continue Saved Form"]})]}),R.jsx("p",{className:"mt-3 sm:mt-4 text-sm text-gray-600 text-center",children:"Estimated completion time: 10-15 minutes"})]})})]})]})})})}function AV(){return R.jsx("div",{className:"min-h-screen bg-[#FEFDFC]",children:R.jsxs(rR,{children:[R.jsx(Ps,{path:"/",element:R.jsx(SV,{})}),R.jsx(Ps,{path:"/form",element:R.jsx(PD,{})}),R.jsx(Ps,{path:"/resume",element:R.jsx(TV,{})}),R.jsx(Ps,{path:"/thank-you",element:R.jsx(ND,{})}),R.jsx(Ps,{path:"/admin",element:R.jsx(FD,{})}),R.jsx(Ps,{path:"/admin/dashboard",element:R.jsx(wV,{})})]})})}uw(document.getElementById("root")).render(R.jsx(ie.StrictMode,{children:R.jsx(uR,{children:R.jsx(AV,{})})}));
